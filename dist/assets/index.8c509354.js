var Vp=Object.defineProperty;var Al=Object.getOwnPropertySymbols;var qp=Object.prototype.hasOwnProperty,Zp=Object.prototype.propertyIsEnumerable;var Ba=(r,t,e)=>t in r?Vp(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,so=(r,t)=>{for(var e in t||(t={}))qp.call(t,e)&&Ba(r,e,t[e]);if(Al)for(var e of Al(t))Zp.call(t,e)&&Ba(r,e,t[e]);return r};var Mt=(r,t,e)=>(Ba(r,typeof t!="symbol"?t+"":t,e),e);const Jp=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=e(o);fetch(o.href,i)}};Jp();function vf(r,t){const e=Object.create(null),n=r.split(",");for(let o=0;o<n.length;o++)e[n[o]]=!0;return t?o=>!!e[o.toLowerCase()]:o=>!!e[o]}const Qp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",eg=vf(Qp);function Iu(r){return!!r||r===""}function mf(r){if(ie(r)){const t={};for(let e=0;e<r.length;e++){const n=r[e],o=Xe(n)?rg(n):mf(n);if(o)for(const i in o)t[i]=o[i]}return t}else{if(Xe(r))return r;if(ze(r))return r}}const tg=/;(?![^(]*\))/g,ng=/:(.+)/;function rg(r){const t={};return r.split(tg).forEach(e=>{if(e){const n=e.split(ng);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function bf(r){let t="";if(Xe(r))t=r;else if(ie(r))for(let e=0;e<r.length;e++){const n=bf(r[e]);n&&(t+=n+" ")}else if(ze(r))for(const e in r)r[e]&&(t+=e+" ");return t.trim()}const gs=r=>Xe(r)?r:r==null?"":ie(r)||ze(r)&&(r.toString===ku||!ae(r.toString))?JSON.stringify(r,Ru,2):String(r),Ru=(r,t)=>t&&t.__v_isRef?Ru(r,t.value):Dr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[n,o])=>(e[`${n} =>`]=o,e),{})}:Su(t)?{[`Set(${t.size})`]:[...t.values()]}:ze(t)&&!ie(t)&&!Au(t)?String(t):t,xe={},Nr=[],St=()=>{},og=()=>!1,ig=/^on[^a-z]/,la=r=>ig.test(r),_f=r=>r.startsWith("onUpdate:"),et=Object.assign,yf=(r,t)=>{const e=r.indexOf(t);e>-1&&r.splice(e,1)},ag=Object.prototype.hasOwnProperty,de=(r,t)=>ag.call(r,t),ie=Array.isArray,Dr=r=>ca(r)==="[object Map]",Su=r=>ca(r)==="[object Set]",ae=r=>typeof r=="function",Xe=r=>typeof r=="string",wf=r=>typeof r=="symbol",ze=r=>r!==null&&typeof r=="object",Pu=r=>ze(r)&&ae(r.then)&&ae(r.catch),ku=Object.prototype.toString,ca=r=>ku.call(r),sg=r=>ca(r).slice(8,-1),Au=r=>ca(r)==="[object Object]",xf=r=>Xe(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,ki=vf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ua=r=>{const t=Object.create(null);return e=>t[e]||(t[e]=r(e))},fg=/-(\w)/g,Ut=ua(r=>r.replace(fg,(t,e)=>e?e.toUpperCase():"")),lg=/\B([A-Z])/g,Kr=ua(r=>r.replace(lg,"-$1").toLowerCase()),ha=ua(r=>r.charAt(0).toUpperCase()+r.slice(1)),Wa=ua(r=>r?`on${ha(r)}`:""),Po=(r,t)=>!Object.is(r,t),$a=(r,t)=>{for(let e=0;e<r.length;e++)r[e](t)},Di=(r,t,e)=>{Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value:e})},cg=r=>{const t=parseFloat(r);return isNaN(t)?r:t};let Ll;const ug=()=>Ll||(Ll=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Nt;class Lu{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&Nt&&(this.parent=Nt,this.index=(Nt.scopes||(Nt.scopes=[])).push(this)-1)}run(t){if(this.active){const e=Nt;try{return Nt=this,t()}finally{Nt=e}}}on(){Nt=this}off(){Nt=this.parent}stop(t){if(this.active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}}function Mu(r){return new Lu(r)}function hg(r,t=Nt){t&&t.active&&t.effects.push(r)}const Ef=r=>{const t=new Set(r);return t.w=0,t.n=0,t},Fu=r=>(r.w&Fn)>0,Nu=r=>(r.n&Fn)>0,dg=({deps:r})=>{if(r.length)for(let t=0;t<r.length;t++)r[t].w|=Fn},pg=r=>{const{deps:t}=r;if(t.length){let e=0;for(let n=0;n<t.length;n++){const o=t[n];Fu(o)&&!Nu(o)?o.delete(r):t[e++]=o,o.w&=~Fn,o.n&=~Fn}t.length=e}},vs=new WeakMap;let uo=0,Fn=1;const ms=30;let Tt;const nr=Symbol(""),bs=Symbol("");class Tf{constructor(t,e=null,n){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,hg(this,n)}run(){if(!this.active)return this.fn();let t=Tt,e=Pn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Tt,Tt=this,Pn=!0,Fn=1<<++uo,uo<=ms?dg(this):Ml(this),this.fn()}finally{uo<=ms&&pg(this),Fn=1<<--uo,Tt=this.parent,Pn=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Tt===this?this.deferStop=!0:this.active&&(Ml(this),this.onStop&&this.onStop(),this.active=!1)}}function Ml(r){const{deps:t}=r;if(t.length){for(let e=0;e<t.length;e++)t[e].delete(r);t.length=0}}let Pn=!0;const Du=[];function Hr(){Du.push(Pn),Pn=!1}function Vr(){const r=Du.pop();Pn=r===void 0?!0:r}function dt(r,t,e){if(Pn&&Tt){let n=vs.get(r);n||vs.set(r,n=new Map);let o=n.get(e);o||n.set(e,o=Ef()),Gu(o)}}function Gu(r,t){let e=!1;uo<=ms?Nu(r)||(r.n|=Fn,e=!Fu(r)):e=!r.has(Tt),e&&(r.add(Tt),Tt.deps.push(r))}function fn(r,t,e,n,o,i){const a=vs.get(r);if(!a)return;let s=[];if(t==="clear")s=[...a.values()];else if(e==="length"&&ie(r))a.forEach((f,l)=>{(l==="length"||l>=n)&&s.push(f)});else switch(e!==void 0&&s.push(a.get(e)),t){case"add":ie(r)?xf(e)&&s.push(a.get("length")):(s.push(a.get(nr)),Dr(r)&&s.push(a.get(bs)));break;case"delete":ie(r)||(s.push(a.get(nr)),Dr(r)&&s.push(a.get(bs)));break;case"set":Dr(r)&&s.push(a.get(nr));break}if(s.length===1)s[0]&&_s(s[0]);else{const f=[];for(const l of s)l&&f.push(...l);_s(Ef(f))}}function _s(r,t){const e=ie(r)?r:[...r];for(const n of e)n.computed&&Fl(n);for(const n of e)n.computed||Fl(n)}function Fl(r,t){(r!==Tt||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const gg=vf("__proto__,__v_isRef,__isVue"),ju=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(wf)),vg=Cf(),mg=Cf(!1,!0),bg=Cf(!0),Nl=_g();function _g(){const r={};return["includes","indexOf","lastIndexOf"].forEach(t=>{r[t]=function(...e){const n=_e(this);for(let i=0,a=this.length;i<a;i++)dt(n,"get",i+"");const o=n[t](...e);return o===-1||o===!1?n[t](...e.map(_e)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{r[t]=function(...e){Hr();const n=_e(this)[t].apply(this,e);return Vr(),n}}),r}function Cf(r=!1,t=!1){return function(n,o,i){if(o==="__v_isReactive")return!r;if(o==="__v_isReadonly")return r;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&i===(r?t?Fg:Bu:t?Xu:Uu).get(n))return n;const a=ie(n);if(!r&&a&&de(Nl,o))return Reflect.get(Nl,o,i);const s=Reflect.get(n,o,i);return(wf(o)?ju.has(o):gg(o))||(r||dt(n,"get",o),t)?s:Me(s)?a&&xf(o)?s:s.value:ze(s)?r?Wu(s):pa(s):s}}const yg=zu(),wg=zu(!0);function zu(r=!1){return function(e,n,o,i){let a=e[n];if(ko(a)&&Me(a)&&!Me(o))return!1;if(!r&&!ko(o)&&(ys(o)||(o=_e(o),a=_e(a)),!ie(e)&&Me(a)&&!Me(o)))return a.value=o,!0;const s=ie(e)&&xf(n)?Number(n)<e.length:de(e,n),f=Reflect.set(e,n,o,i);return e===_e(i)&&(s?Po(o,a)&&fn(e,"set",n,o):fn(e,"add",n,o)),f}}function xg(r,t){const e=de(r,t);r[t];const n=Reflect.deleteProperty(r,t);return n&&e&&fn(r,"delete",t,void 0),n}function Eg(r,t){const e=Reflect.has(r,t);return(!wf(t)||!ju.has(t))&&dt(r,"has",t),e}function Tg(r){return dt(r,"iterate",ie(r)?"length":nr),Reflect.ownKeys(r)}const Yu={get:vg,set:yg,deleteProperty:xg,has:Eg,ownKeys:Tg},Cg={get:bg,set(r,t){return!0},deleteProperty(r,t){return!0}},Og=et({},Yu,{get:mg,set:wg}),Of=r=>r,da=r=>Reflect.getPrototypeOf(r);function fi(r,t,e=!1,n=!1){r=r.__v_raw;const o=_e(r),i=_e(t);e||(t!==i&&dt(o,"get",t),dt(o,"get",i));const{has:a}=da(o),s=n?Of:e?Sf:Ao;if(a.call(o,t))return s(r.get(t));if(a.call(o,i))return s(r.get(i));r!==o&&r.get(t)}function li(r,t=!1){const e=this.__v_raw,n=_e(e),o=_e(r);return t||(r!==o&&dt(n,"has",r),dt(n,"has",o)),r===o?e.has(r):e.has(r)||e.has(o)}function ci(r,t=!1){return r=r.__v_raw,!t&&dt(_e(r),"iterate",nr),Reflect.get(r,"size",r)}function Dl(r){r=_e(r);const t=_e(this);return da(t).has.call(t,r)||(t.add(r),fn(t,"add",r,r)),this}function Gl(r,t){t=_e(t);const e=_e(this),{has:n,get:o}=da(e);let i=n.call(e,r);i||(r=_e(r),i=n.call(e,r));const a=o.call(e,r);return e.set(r,t),i?Po(t,a)&&fn(e,"set",r,t):fn(e,"add",r,t),this}function jl(r){const t=_e(this),{has:e,get:n}=da(t);let o=e.call(t,r);o||(r=_e(r),o=e.call(t,r)),n&&n.call(t,r);const i=t.delete(r);return o&&fn(t,"delete",r,void 0),i}function zl(){const r=_e(this),t=r.size!==0,e=r.clear();return t&&fn(r,"clear",void 0,void 0),e}function ui(r,t){return function(n,o){const i=this,a=i.__v_raw,s=_e(a),f=t?Of:r?Sf:Ao;return!r&&dt(s,"iterate",nr),a.forEach((l,c)=>n.call(o,f(l),f(c),i))}}function hi(r,t,e){return function(...n){const o=this.__v_raw,i=_e(o),a=Dr(i),s=r==="entries"||r===Symbol.iterator&&a,f=r==="keys"&&a,l=o[r](...n),c=e?Of:t?Sf:Ao;return!t&&dt(i,"iterate",f?bs:nr),{next(){const{value:u,done:h}=l.next();return h?{value:u,done:h}:{value:s?[c(u[0]),c(u[1])]:c(u),done:h}},[Symbol.iterator](){return this}}}}function mn(r){return function(...t){return r==="delete"?!1:this}}function Ig(){const r={get(i){return fi(this,i)},get size(){return ci(this)},has:li,add:Dl,set:Gl,delete:jl,clear:zl,forEach:ui(!1,!1)},t={get(i){return fi(this,i,!1,!0)},get size(){return ci(this)},has:li,add:Dl,set:Gl,delete:jl,clear:zl,forEach:ui(!1,!0)},e={get(i){return fi(this,i,!0)},get size(){return ci(this,!0)},has(i){return li.call(this,i,!0)},add:mn("add"),set:mn("set"),delete:mn("delete"),clear:mn("clear"),forEach:ui(!0,!1)},n={get(i){return fi(this,i,!0,!0)},get size(){return ci(this,!0)},has(i){return li.call(this,i,!0)},add:mn("add"),set:mn("set"),delete:mn("delete"),clear:mn("clear"),forEach:ui(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=hi(i,!1,!1),e[i]=hi(i,!0,!1),t[i]=hi(i,!1,!0),n[i]=hi(i,!0,!0)}),[r,e,t,n]}const[Rg,Sg,Pg,kg]=Ig();function If(r,t){const e=t?r?kg:Pg:r?Sg:Rg;return(n,o,i)=>o==="__v_isReactive"?!r:o==="__v_isReadonly"?r:o==="__v_raw"?n:Reflect.get(de(e,o)&&o in n?e:n,o,i)}const Ag={get:If(!1,!1)},Lg={get:If(!1,!0)},Mg={get:If(!0,!1)},Uu=new WeakMap,Xu=new WeakMap,Bu=new WeakMap,Fg=new WeakMap;function Ng(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Dg(r){return r.__v_skip||!Object.isExtensible(r)?0:Ng(sg(r))}function pa(r){return ko(r)?r:Rf(r,!1,Yu,Ag,Uu)}function Gg(r){return Rf(r,!1,Og,Lg,Xu)}function Wu(r){return Rf(r,!0,Cg,Mg,Bu)}function Rf(r,t,e,n,o){if(!ze(r)||r.__v_raw&&!(t&&r.__v_isReactive))return r;const i=o.get(r);if(i)return i;const a=Dg(r);if(a===0)return r;const s=new Proxy(r,a===2?n:e);return o.set(r,s),s}function kn(r){return ko(r)?kn(r.__v_raw):!!(r&&r.__v_isReactive)}function ko(r){return!!(r&&r.__v_isReadonly)}function ys(r){return!!(r&&r.__v_isShallow)}function $u(r){return kn(r)||ko(r)}function _e(r){const t=r&&r.__v_raw;return t?_e(t):r}function zr(r){return Di(r,"__v_skip",!0),r}const Ao=r=>ze(r)?pa(r):r,Sf=r=>ze(r)?Wu(r):r;function Ku(r){Pn&&Tt&&(r=_e(r),Gu(r.dep||(r.dep=Ef())))}function Hu(r,t){r=_e(r),r.dep&&_s(r.dep)}function Me(r){return!!(r&&r.__v_isRef===!0)}function Vu(r){return jg(r,!1)}function jg(r,t){return Me(r)?r:new zg(r,t)}class zg{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:_e(t),this._value=e?t:Ao(t)}get value(){return Ku(this),this._value}set value(t){t=this.__v_isShallow?t:_e(t),Po(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:Ao(t),Hu(this))}}function Yg(r){return Me(r)?r.value:r}const Ug={get:(r,t,e)=>Yg(Reflect.get(r,t,e)),set:(r,t,e,n)=>{const o=r[t];return Me(o)&&!Me(e)?(o.value=e,!0):Reflect.set(r,t,e,n)}};function qu(r){return kn(r)?r:new Proxy(r,Ug)}function Xg(r){const t=ie(r)?new Array(r.length):{};for(const e in r)t[e]=Wg(r,e);return t}class Bg{constructor(t,e,n){this._object=t,this._key=e,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function Wg(r,t,e){const n=r[t];return Me(n)?n:new Bg(r,t,e)}class $g{constructor(t,e,n,o){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Tf(t,()=>{this._dirty||(this._dirty=!0,Hu(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=n}get value(){const t=_e(this);return Ku(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Kg(r,t,e=!1){let n,o;const i=ae(r);return i?(n=r,o=St):(n=r.get,o=r.set),new $g(n,o,i||!o,e)}function An(r,t,e,n){let o;try{o=n?r(...n):r()}catch(i){ga(i,t,e)}return o}function Pt(r,t,e,n){if(ae(r)){const i=An(r,t,e,n);return i&&Pu(i)&&i.catch(a=>{ga(a,t,e)}),i}const o=[];for(let i=0;i<r.length;i++)o.push(Pt(r[i],t,e,n));return o}function ga(r,t,e,n=!0){const o=t?t.vnode:null;if(t){let i=t.parent;const a=t.proxy,s=e;for(;i;){const l=i.ec;if(l){for(let c=0;c<l.length;c++)if(l[c](r,a,s)===!1)return}i=i.parent}const f=t.appContext.config.errorHandler;if(f){An(f,null,10,[r,a,s]);return}}Hg(r,e,o,n)}function Hg(r,t,e,n=!0){console.error(r)}let Gi=!1,ws=!1;const ut=[];let en=0;const _o=[];let ho=null,Cr=0;const yo=[];let En=null,Or=0;const Zu=Promise.resolve();let Pf=null,xs=null;function Ju(r){const t=Pf||Zu;return r?t.then(this?r.bind(this):r):t}function Vg(r){let t=en+1,e=ut.length;for(;t<e;){const n=t+e>>>1;Lo(ut[n])<r?t=n+1:e=n}return t}function Qu(r){(!ut.length||!ut.includes(r,Gi&&r.allowRecurse?en+1:en))&&r!==xs&&(r.id==null?ut.push(r):ut.splice(Vg(r.id),0,r),eh())}function eh(){!Gi&&!ws&&(ws=!0,Pf=Zu.then(rh))}function qg(r){const t=ut.indexOf(r);t>en&&ut.splice(t,1)}function th(r,t,e,n){ie(r)?e.push(...r):(!t||!t.includes(r,r.allowRecurse?n+1:n))&&e.push(r),eh()}function Zg(r){th(r,ho,_o,Cr)}function Jg(r){th(r,En,yo,Or)}function va(r,t=null){if(_o.length){for(xs=t,ho=[...new Set(_o)],_o.length=0,Cr=0;Cr<ho.length;Cr++)ho[Cr]();ho=null,Cr=0,xs=null,va(r,t)}}function nh(r){if(va(),yo.length){const t=[...new Set(yo)];if(yo.length=0,En){En.push(...t);return}for(En=t,En.sort((e,n)=>Lo(e)-Lo(n)),Or=0;Or<En.length;Or++)En[Or]();En=null,Or=0}}const Lo=r=>r.id==null?1/0:r.id;function rh(r){ws=!1,Gi=!0,va(r),ut.sort((e,n)=>Lo(e)-Lo(n));const t=St;try{for(en=0;en<ut.length;en++){const e=ut[en];e&&e.active!==!1&&An(e,null,14)}}finally{en=0,ut.length=0,nh(),Gi=!1,Pf=null,(ut.length||_o.length||yo.length)&&rh(r)}}function Qg(r,t,...e){if(r.isUnmounted)return;const n=r.vnode.props||xe;let o=e;const i=t.startsWith("update:"),a=i&&t.slice(7);if(a&&a in n){const c=`${a==="modelValue"?"model":a}Modifiers`,{number:u,trim:h}=n[c]||xe;h&&(o=e.map(d=>d.trim())),u&&(o=e.map(cg))}let s,f=n[s=Wa(t)]||n[s=Wa(Ut(t))];!f&&i&&(f=n[s=Wa(Kr(t))]),f&&Pt(f,r,6,o);const l=n[s+"Once"];if(l){if(!r.emitted)r.emitted={};else if(r.emitted[s])return;r.emitted[s]=!0,Pt(l,r,6,o)}}function oh(r,t,e=!1){const n=t.emitsCache,o=n.get(r);if(o!==void 0)return o;const i=r.emits;let a={},s=!1;if(!ae(r)){const f=l=>{const c=oh(l,t,!0);c&&(s=!0,et(a,c))};!e&&t.mixins.length&&t.mixins.forEach(f),r.extends&&f(r.extends),r.mixins&&r.mixins.forEach(f)}return!i&&!s?(n.set(r,null),null):(ie(i)?i.forEach(f=>a[f]=null):et(a,i),n.set(r,a),a)}function ma(r,t){return!r||!la(t)?!1:(t=t.slice(2).replace(/Once$/,""),de(r,t[0].toLowerCase()+t.slice(1))||de(r,Kr(t))||de(r,t))}let Ve=null,ba=null;function ji(r){const t=Ve;return Ve=r,ba=r&&r.type.__scopeId||null,t}function ih(r){ba=r}function ah(){ba=null}function sh(r,t=Ve,e){if(!t||r._n)return r;const n=(...o)=>{n._d&&Zl(-1);const i=ji(t),a=r(...o);return ji(i),n._d&&Zl(1),a};return n._n=!0,n._c=!0,n._d=!0,n}function Ka(r){const{type:t,vnode:e,proxy:n,withProxy:o,props:i,propsOptions:[a],slots:s,attrs:f,emit:l,render:c,renderCache:u,data:h,setupState:d,ctx:p,inheritAttrs:g}=r;let m,v;const _=ji(r);try{if(e.shapeFlag&4){const x=o||n;m=Dt(c.call(x,x,u,i,d,h,p)),v=f}else{const x=t;m=Dt(x.length>1?x(i,{attrs:f,slots:s,emit:l}):x(i,null)),v=t.props?f:ev(f)}}catch(x){Eo.length=0,ga(x,r,1),m=Qe(Yr)}let y=m;if(v&&g!==!1){const x=Object.keys(v),{shapeFlag:E}=y;x.length&&E&7&&(a&&x.some(_f)&&(v=tv(v,a)),y=Ur(y,v))}return e.dirs&&(y=Ur(y),y.dirs=y.dirs?y.dirs.concat(e.dirs):e.dirs),e.transition&&(y.transition=e.transition),m=y,ji(_),m}const ev=r=>{let t;for(const e in r)(e==="class"||e==="style"||la(e))&&((t||(t={}))[e]=r[e]);return t},tv=(r,t)=>{const e={};for(const n in r)(!_f(n)||!(n.slice(9)in t))&&(e[n]=r[n]);return e};function nv(r,t,e){const{props:n,children:o,component:i}=r,{props:a,children:s,patchFlag:f}=t,l=i.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&f>=0){if(f&1024)return!0;if(f&16)return n?Yl(n,a,l):!!a;if(f&8){const c=t.dynamicProps;for(let u=0;u<c.length;u++){const h=c[u];if(a[h]!==n[h]&&!ma(l,h))return!0}}}else return(o||s)&&(!s||!s.$stable)?!0:n===a?!1:n?a?Yl(n,a,l):!0:!!a;return!1}function Yl(r,t,e){const n=Object.keys(t);if(n.length!==Object.keys(r).length)return!0;for(let o=0;o<n.length;o++){const i=n[o];if(t[i]!==r[i]&&!ma(e,i))return!0}return!1}function rv({vnode:r,parent:t},e){for(;t&&t.subTree===r;)(r=t.vnode).el=e,t=t.parent}const ov=r=>r.__isSuspense;function iv(r,t){t&&t.pendingBranch?ie(r)?t.effects.push(...r):t.effects.push(r):Jg(r)}function av(r,t){if(Ue){let e=Ue.provides;const n=Ue.parent&&Ue.parent.provides;n===e&&(e=Ue.provides=Object.create(n)),e[r]=t}}function Ai(r,t,e=!1){const n=Ue||Ve;if(n){const o=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(o&&r in o)return o[r];if(arguments.length>1)return e&&ae(t)?t.call(n.proxy):t}}const Ul={};function wo(r,t,e){return fh(r,t,e)}function fh(r,t,{immediate:e,deep:n,flush:o,onTrack:i,onTrigger:a}=xe){const s=Ue;let f,l=!1,c=!1;if(Me(r)?(f=()=>r.value,l=ys(r)):kn(r)?(f=()=>r,n=!0):ie(r)?(c=!0,l=r.some(v=>kn(v)||ys(v)),f=()=>r.map(v=>{if(Me(v))return v.value;if(kn(v))return Vn(v);if(ae(v))return An(v,s,2)})):ae(r)?t?f=()=>An(r,s,2):f=()=>{if(!(s&&s.isUnmounted))return u&&u(),Pt(r,s,3,[h])}:f=St,t&&n){const v=f;f=()=>Vn(v())}let u,h=v=>{u=m.onStop=()=>{An(v,s,4)}};if(Fo)return h=St,t?e&&Pt(t,s,3,[f(),c?[]:void 0,h]):f(),St;let d=c?[]:Ul;const p=()=>{if(!!m.active)if(t){const v=m.run();(n||l||(c?v.some((_,y)=>Po(_,d[y])):Po(v,d)))&&(u&&u(),Pt(t,s,3,[v,d===Ul?void 0:d,h]),d=v)}else m.run()};p.allowRecurse=!!t;let g;o==="sync"?g=p:o==="post"?g=()=>ot(p,s&&s.suspense):g=()=>Zg(p);const m=new Tf(f,g);return t?e?p():d=m.run():o==="post"?ot(m.run.bind(m),s&&s.suspense):m.run(),()=>{m.stop(),s&&s.scope&&yf(s.scope.effects,m)}}function sv(r,t,e){const n=this.proxy,o=Xe(r)?r.includes(".")?lh(n,r):()=>n[r]:r.bind(n,n);let i;ae(t)?i=t:(i=t.handler,e=t);const a=Ue;Xr(this);const s=fh(o,i.bind(n),e);return a?Xr(a):rr(),s}function lh(r,t){const e=t.split(".");return()=>{let n=r;for(let o=0;o<e.length&&n;o++)n=n[e[o]];return n}}function Vn(r,t){if(!ze(r)||r.__v_skip||(t=t||new Set,t.has(r)))return r;if(t.add(r),Me(r))Vn(r.value,t);else if(ie(r))for(let e=0;e<r.length;e++)Vn(r[e],t);else if(Su(r)||Dr(r))r.forEach(e=>{Vn(e,t)});else if(Au(r))for(const e in r)Vn(r[e],t);return r}function Vo(r){return ae(r)?{setup:r,name:r.name}:r}const xo=r=>!!r.type.__asyncLoader,ch=r=>r.type.__isKeepAlive;function fv(r,t){uh(r,"a",t)}function lv(r,t){uh(r,"da",t)}function uh(r,t,e=Ue){const n=r.__wdc||(r.__wdc=()=>{let o=e;for(;o;){if(o.isDeactivated)return;o=o.parent}return r()});if(_a(t,n,e),e){let o=e.parent;for(;o&&o.parent;)ch(o.parent.vnode)&&cv(n,t,e,o),o=o.parent}}function cv(r,t,e,n){const o=_a(t,r,n,!0);kf(()=>{yf(n[t],o)},e)}function _a(r,t,e=Ue,n=!1){if(e){const o=e[r]||(e[r]=[]),i=t.__weh||(t.__weh=(...a)=>{if(e.isUnmounted)return;Hr(),Xr(e);const s=Pt(t,e,r,a);return rr(),Vr(),s});return n?o.unshift(i):o.push(i),i}}const dn=r=>(t,e=Ue)=>(!Fo||r==="sp")&&_a(r,t,e),uv=dn("bm"),hv=dn("m"),dv=dn("bu"),pv=dn("u"),gv=dn("bum"),kf=dn("um"),vv=dn("sp"),mv=dn("rtg"),bv=dn("rtc");function _v(r,t=Ue){_a("ec",r,t)}function Xl(r,t){const e=Ve;if(e===null)return r;const n=wa(e)||e.proxy,o=r.dirs||(r.dirs=[]);for(let i=0;i<t.length;i++){let[a,s,f,l=xe]=t[i];ae(a)&&(a={mounted:a,updated:a}),a.deep&&Vn(s),o.push({dir:a,instance:n,value:s,oldValue:void 0,arg:f,modifiers:l})}return r}function Yn(r,t,e,n){const o=r.dirs,i=t&&t.dirs;for(let a=0;a<o.length;a++){const s=o[a];i&&(s.oldValue=i[a].value);let f=s.dir[n];f&&(Hr(),Pt(f,e,8,[r.el,s,r,t]),Vr())}}const hh="components",yv="directives";function wv(r,t){return dh(hh,r,!0,t)||r}const xv=Symbol();function Ev(r){return dh(yv,r)}function dh(r,t,e=!0,n=!1){const o=Ve||Ue;if(o){const i=o.type;if(r===hh){const s=Qv(i,!1);if(s&&(s===t||s===Ut(t)||s===ha(Ut(t))))return i}const a=Bl(o[r]||i[r],t)||Bl(o.appContext[r],t);return!a&&n?i:a}}function Bl(r,t){return r&&(r[t]||r[Ut(t)]||r[ha(Ut(t))])}function ph(r,t,e,n){let o;const i=e&&e[n];if(ie(r)||Xe(r)){o=new Array(r.length);for(let a=0,s=r.length;a<s;a++)o[a]=t(r[a],a,void 0,i&&i[a])}else if(typeof r=="number"){o=new Array(r);for(let a=0;a<r;a++)o[a]=t(a+1,a,void 0,i&&i[a])}else if(ze(r))if(r[Symbol.iterator])o=Array.from(r,(a,s)=>t(a,s,void 0,i&&i[s]));else{const a=Object.keys(r);o=new Array(a.length);for(let s=0,f=a.length;s<f;s++){const l=a[s];o[s]=t(r[l],l,s,i&&i[s])}}else o=[];return e&&(e[n]=o),o}function Tv(r,t,e={},n,o){if(Ve.isCE||Ve.parent&&xo(Ve.parent)&&Ve.parent.isCE)return Qe("slot",t==="default"?null:{name:t},n&&n());let i=r[t];i&&i._c&&(i._d=!1),Ct();const a=i&&gh(i(e)),s=Oh(it,{key:e.key||`_${t}`},a||(n?n():[]),a&&r._===1?64:-2);return!o&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),i&&i._c&&(i._d=!0),s}function gh(r){return r.some(t=>Ui(t)?!(t.type===Yr||t.type===it&&!gh(t.children)):!0)?r:null}const Es=r=>r?Sh(r)?wa(r)||r.proxy:Es(r.parent):null,zi=et(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>Es(r.parent),$root:r=>Es(r.root),$emit:r=>r.emit,$options:r=>mh(r),$forceUpdate:r=>r.f||(r.f=()=>Qu(r.update)),$nextTick:r=>r.n||(r.n=Ju.bind(r.proxy)),$watch:r=>sv.bind(r)}),Cv={get({_:r},t){const{ctx:e,setupState:n,data:o,props:i,accessCache:a,type:s,appContext:f}=r;let l;if(t[0]!=="$"){const d=a[t];if(d!==void 0)switch(d){case 1:return n[t];case 2:return o[t];case 4:return e[t];case 3:return i[t]}else{if(n!==xe&&de(n,t))return a[t]=1,n[t];if(o!==xe&&de(o,t))return a[t]=2,o[t];if((l=r.propsOptions[0])&&de(l,t))return a[t]=3,i[t];if(e!==xe&&de(e,t))return a[t]=4,e[t];Ts&&(a[t]=0)}}const c=zi[t];let u,h;if(c)return t==="$attrs"&&dt(r,"get",t),c(r);if((u=s.__cssModules)&&(u=u[t]))return u;if(e!==xe&&de(e,t))return a[t]=4,e[t];if(h=f.config.globalProperties,de(h,t))return h[t]},set({_:r},t,e){const{data:n,setupState:o,ctx:i}=r;return o!==xe&&de(o,t)?(o[t]=e,!0):n!==xe&&de(n,t)?(n[t]=e,!0):de(r.props,t)||t[0]==="$"&&t.slice(1)in r?!1:(i[t]=e,!0)},has({_:{data:r,setupState:t,accessCache:e,ctx:n,appContext:o,propsOptions:i}},a){let s;return!!e[a]||r!==xe&&de(r,a)||t!==xe&&de(t,a)||(s=i[0])&&de(s,a)||de(n,a)||de(zi,a)||de(o.config.globalProperties,a)},defineProperty(r,t,e){return e.get!=null?r._.accessCache[t]=0:de(e,"value")&&this.set(r,t,e.value,null),Reflect.defineProperty(r,t,e)}};let Ts=!0;function Ov(r){const t=mh(r),e=r.proxy,n=r.ctx;Ts=!1,t.beforeCreate&&Wl(t.beforeCreate,r,"bc");const{data:o,computed:i,methods:a,watch:s,provide:f,inject:l,created:c,beforeMount:u,mounted:h,beforeUpdate:d,updated:p,activated:g,deactivated:m,beforeDestroy:v,beforeUnmount:_,destroyed:y,unmounted:x,render:E,renderTracked:P,renderTriggered:C,errorCaptured:O,serverPrefetch:M,expose:U,inheritAttrs:K,components:B,directives:V,filters:te}=t;if(l&&Iv(l,n,null,r.appContext.config.unwrapInjectedRef),a)for(const D in a){const $=a[D];ae($)&&(n[D]=$.bind(e))}if(o){const D=o.call(e,e);ze(D)&&(r.data=pa(D))}if(Ts=!0,i)for(const D in i){const $=i[D],ne=ae($)?$.bind(e,e):ae($.get)?$.get.bind(e,e):St,ce=!ae($)&&ae($.set)?$.set.bind(e):St,me=ct({get:ne,set:ce});Object.defineProperty(n,D,{enumerable:!0,configurable:!0,get:()=>me.value,set:A=>me.value=A})}if(s)for(const D in s)vh(s[D],n,e,D);if(f){const D=ae(f)?f.call(e):f;Reflect.ownKeys(D).forEach($=>{av($,D[$])})}c&&Wl(c,r,"c");function X(D,$){ie($)?$.forEach(ne=>D(ne.bind(e))):$&&D($.bind(e))}if(X(uv,u),X(hv,h),X(dv,d),X(pv,p),X(fv,g),X(lv,m),X(_v,O),X(bv,P),X(mv,C),X(gv,_),X(kf,x),X(vv,M),ie(U))if(U.length){const D=r.exposed||(r.exposed={});U.forEach($=>{Object.defineProperty(D,$,{get:()=>e[$],set:ne=>e[$]=ne})})}else r.exposed||(r.exposed={});E&&r.render===St&&(r.render=E),K!=null&&(r.inheritAttrs=K),B&&(r.components=B),V&&(r.directives=V)}function Iv(r,t,e=St,n=!1){ie(r)&&(r=Cs(r));for(const o in r){const i=r[o];let a;ze(i)?"default"in i?a=Ai(i.from||o,i.default,!0):a=Ai(i.from||o):a=Ai(i),Me(a)&&n?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:s=>a.value=s}):t[o]=a}}function Wl(r,t,e){Pt(ie(r)?r.map(n=>n.bind(t.proxy)):r.bind(t.proxy),t,e)}function vh(r,t,e,n){const o=n.includes(".")?lh(e,n):()=>e[n];if(Xe(r)){const i=t[r];ae(i)&&wo(o,i)}else if(ae(r))wo(o,r.bind(e));else if(ze(r))if(ie(r))r.forEach(i=>vh(i,t,e,n));else{const i=ae(r.handler)?r.handler.bind(e):t[r.handler];ae(i)&&wo(o,i,r)}}function mh(r){const t=r.type,{mixins:e,extends:n}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:a}}=r.appContext,s=i.get(t);let f;return s?f=s:!o.length&&!e&&!n?f=t:(f={},o.length&&o.forEach(l=>Yi(f,l,a,!0)),Yi(f,t,a)),i.set(t,f),f}function Yi(r,t,e,n=!1){const{mixins:o,extends:i}=t;i&&Yi(r,i,e,!0),o&&o.forEach(a=>Yi(r,a,e,!0));for(const a in t)if(!(n&&a==="expose")){const s=Rv[a]||e&&e[a];r[a]=s?s(r[a],t[a]):t[a]}return r}const Rv={data:$l,props:Wn,emits:Wn,methods:Wn,computed:Wn,beforeCreate:Ze,created:Ze,beforeMount:Ze,mounted:Ze,beforeUpdate:Ze,updated:Ze,beforeDestroy:Ze,beforeUnmount:Ze,destroyed:Ze,unmounted:Ze,activated:Ze,deactivated:Ze,errorCaptured:Ze,serverPrefetch:Ze,components:Wn,directives:Wn,watch:Pv,provide:$l,inject:Sv};function $l(r,t){return t?r?function(){return et(ae(r)?r.call(this,this):r,ae(t)?t.call(this,this):t)}:t:r}function Sv(r,t){return Wn(Cs(r),Cs(t))}function Cs(r){if(ie(r)){const t={};for(let e=0;e<r.length;e++)t[r[e]]=r[e];return t}return r}function Ze(r,t){return r?[...new Set([].concat(r,t))]:t}function Wn(r,t){return r?et(et(Object.create(null),r),t):t}function Pv(r,t){if(!r)return t;if(!t)return r;const e=et(Object.create(null),r);for(const n in t)e[n]=Ze(r[n],t[n]);return e}function kv(r,t,e,n=!1){const o={},i={};Di(i,ya,1),r.propsDefaults=Object.create(null),bh(r,t,o,i);for(const a in r.propsOptions[0])a in o||(o[a]=void 0);e?r.props=n?o:Gg(o):r.type.props?r.props=o:r.props=i,r.attrs=i}function Av(r,t,e,n){const{props:o,attrs:i,vnode:{patchFlag:a}}=r,s=_e(o),[f]=r.propsOptions;let l=!1;if((n||a>0)&&!(a&16)){if(a&8){const c=r.vnode.dynamicProps;for(let u=0;u<c.length;u++){let h=c[u];if(ma(r.emitsOptions,h))continue;const d=t[h];if(f)if(de(i,h))d!==i[h]&&(i[h]=d,l=!0);else{const p=Ut(h);o[p]=Os(f,s,p,d,r,!1)}else d!==i[h]&&(i[h]=d,l=!0)}}}else{bh(r,t,o,i)&&(l=!0);let c;for(const u in s)(!t||!de(t,u)&&((c=Kr(u))===u||!de(t,c)))&&(f?e&&(e[u]!==void 0||e[c]!==void 0)&&(o[u]=Os(f,s,u,void 0,r,!0)):delete o[u]);if(i!==s)for(const u in i)(!t||!de(t,u)&&!0)&&(delete i[u],l=!0)}l&&fn(r,"set","$attrs")}function bh(r,t,e,n){const[o,i]=r.propsOptions;let a=!1,s;if(t)for(let f in t){if(ki(f))continue;const l=t[f];let c;o&&de(o,c=Ut(f))?!i||!i.includes(c)?e[c]=l:(s||(s={}))[c]=l:ma(r.emitsOptions,f)||(!(f in n)||l!==n[f])&&(n[f]=l,a=!0)}if(i){const f=_e(e),l=s||xe;for(let c=0;c<i.length;c++){const u=i[c];e[u]=Os(o,f,u,l[u],r,!de(l,u))}}return a}function Os(r,t,e,n,o,i){const a=r[e];if(a!=null){const s=de(a,"default");if(s&&n===void 0){const f=a.default;if(a.type!==Function&&ae(f)){const{propsDefaults:l}=o;e in l?n=l[e]:(Xr(o),n=l[e]=f.call(null,t),rr())}else n=f}a[0]&&(i&&!s?n=!1:a[1]&&(n===""||n===Kr(e))&&(n=!0))}return n}function _h(r,t,e=!1){const n=t.propsCache,o=n.get(r);if(o)return o;const i=r.props,a={},s=[];let f=!1;if(!ae(r)){const c=u=>{f=!0;const[h,d]=_h(u,t,!0);et(a,h),d&&s.push(...d)};!e&&t.mixins.length&&t.mixins.forEach(c),r.extends&&c(r.extends),r.mixins&&r.mixins.forEach(c)}if(!i&&!f)return n.set(r,Nr),Nr;if(ie(i))for(let c=0;c<i.length;c++){const u=Ut(i[c]);Kl(u)&&(a[u]=xe)}else if(i)for(const c in i){const u=Ut(c);if(Kl(u)){const h=i[c],d=a[u]=ie(h)||ae(h)?{type:h}:h;if(d){const p=ql(Boolean,d.type),g=ql(String,d.type);d[0]=p>-1,d[1]=g<0||p<g,(p>-1||de(d,"default"))&&s.push(u)}}}const l=[a,s];return n.set(r,l),l}function Kl(r){return r[0]!=="$"}function Hl(r){const t=r&&r.toString().match(/^\s*function (\w+)/);return t?t[1]:r===null?"null":""}function Vl(r,t){return Hl(r)===Hl(t)}function ql(r,t){return ie(t)?t.findIndex(e=>Vl(e,r)):ae(t)&&Vl(t,r)?0:-1}const yh=r=>r[0]==="_"||r==="$stable",Af=r=>ie(r)?r.map(Dt):[Dt(r)],Lv=(r,t,e)=>{if(t._n)return t;const n=sh((...o)=>Af(t(...o)),e);return n._c=!1,n},wh=(r,t,e)=>{const n=r._ctx;for(const o in r){if(yh(o))continue;const i=r[o];if(ae(i))t[o]=Lv(o,i,n);else if(i!=null){const a=Af(i);t[o]=()=>a}}},xh=(r,t)=>{const e=Af(t);r.slots.default=()=>e},Mv=(r,t)=>{if(r.vnode.shapeFlag&32){const e=t._;e?(r.slots=_e(t),Di(t,"_",e)):wh(t,r.slots={})}else r.slots={},t&&xh(r,t);Di(r.slots,ya,1)},Fv=(r,t,e)=>{const{vnode:n,slots:o}=r;let i=!0,a=xe;if(n.shapeFlag&32){const s=t._;s?e&&s===1?i=!1:(et(o,t),!e&&s===1&&delete o._):(i=!t.$stable,wh(t,o)),a=t}else t&&(xh(r,t),a={default:1});if(i)for(const s in o)!yh(s)&&!(s in a)&&delete o[s]};function Eh(){return{app:null,config:{isNativeTag:og,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Nv=0;function Dv(r,t){return function(n,o=null){ae(n)||(n=Object.assign({},n)),o!=null&&!ze(o)&&(o=null);const i=Eh(),a=new Set;let s=!1;const f=i.app={_uid:Nv++,_component:n,_props:o,_container:null,_context:i,_instance:null,version:tm,get config(){return i.config},set config(l){},use(l,...c){return a.has(l)||(l&&ae(l.install)?(a.add(l),l.install(f,...c)):ae(l)&&(a.add(l),l(f,...c))),f},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),f},component(l,c){return c?(i.components[l]=c,f):i.components[l]},directive(l,c){return c?(i.directives[l]=c,f):i.directives[l]},mount(l,c,u){if(!s){const h=Qe(n,o);return h.appContext=i,c&&t?t(h,l):r(h,l,u),s=!0,f._container=l,l.__vue_app__=f,wa(h.component)||h.component.proxy}},unmount(){s&&(r(null,f._container),delete f._container.__vue_app__)},provide(l,c){return i.provides[l]=c,f}};return f}}function Is(r,t,e,n,o=!1){if(ie(r)){r.forEach((h,d)=>Is(h,t&&(ie(t)?t[d]:t),e,n,o));return}if(xo(n)&&!o)return;const i=n.shapeFlag&4?wa(n.component)||n.component.proxy:n.el,a=o?null:i,{i:s,r:f}=r,l=t&&t.r,c=s.refs===xe?s.refs={}:s.refs,u=s.setupState;if(l!=null&&l!==f&&(Xe(l)?(c[l]=null,de(u,l)&&(u[l]=null)):Me(l)&&(l.value=null)),ae(f))An(f,s,12,[a,c]);else{const h=Xe(f),d=Me(f);if(h||d){const p=()=>{if(r.f){const g=h?c[f]:f.value;o?ie(g)&&yf(g,i):ie(g)?g.includes(i)||g.push(i):h?(c[f]=[i],de(u,f)&&(u[f]=c[f])):(f.value=[i],r.k&&(c[r.k]=f.value))}else h?(c[f]=a,de(u,f)&&(u[f]=a)):d&&(f.value=a,r.k&&(c[r.k]=a))};a?(p.id=-1,ot(p,e)):p()}}}const ot=iv;function Gv(r){return jv(r)}function jv(r,t){const e=ug();e.__VUE__=!0;const{insert:n,remove:o,patchProp:i,createElement:a,createText:s,createComment:f,setText:l,setElementText:c,parentNode:u,nextSibling:h,setScopeId:d=St,cloneNode:p,insertStaticContent:g}=r,m=(b,w,T,S=null,I=null,F=null,G=!1,L=null,N=!!w.dynamicChildren)=>{if(b===w)return;b&&!fo(b,w)&&(S=je(b),ye(b,I,F,!0),b=null),w.patchFlag===-2&&(N=!1,w.dynamicChildren=null);const{type:k,ref:W,shapeFlag:z}=w;switch(k){case Lf:v(b,w,T,S);break;case Yr:_(b,w,T,S);break;case Ha:b==null&&y(w,T,S,G);break;case it:V(b,w,T,S,I,F,G,L,N);break;default:z&1?P(b,w,T,S,I,F,G,L,N):z&6?te(b,w,T,S,I,F,G,L,N):(z&64||z&128)&&k.process(b,w,T,S,I,F,G,L,N,st)}W!=null&&I&&Is(W,b&&b.ref,F,w||b,!w)},v=(b,w,T,S)=>{if(b==null)n(w.el=s(w.children),T,S);else{const I=w.el=b.el;w.children!==b.children&&l(I,w.children)}},_=(b,w,T,S)=>{b==null?n(w.el=f(w.children||""),T,S):w.el=b.el},y=(b,w,T,S)=>{[b.el,b.anchor]=g(b.children,w,T,S,b.el,b.anchor)},x=({el:b,anchor:w},T,S)=>{let I;for(;b&&b!==w;)I=h(b),n(b,T,S),b=I;n(w,T,S)},E=({el:b,anchor:w})=>{let T;for(;b&&b!==w;)T=h(b),o(b),b=T;o(w)},P=(b,w,T,S,I,F,G,L,N)=>{G=G||w.type==="svg",b==null?C(w,T,S,I,F,G,L,N):U(b,w,I,F,G,L,N)},C=(b,w,T,S,I,F,G,L)=>{let N,k;const{type:W,props:z,shapeFlag:H,transition:J,patchFlag:se,dirs:ue}=b;if(b.el&&p!==void 0&&se===-1)N=b.el=p(b.el);else{if(N=b.el=a(b.type,F,z&&z.is,z),H&8?c(N,b.children):H&16&&M(b.children,N,null,S,I,F&&W!=="foreignObject",G,L),ue&&Yn(b,null,S,"created"),z){for(const pe in z)pe!=="value"&&!ki(pe)&&i(N,pe,null,z[pe],F,b.children,S,I,Ie);"value"in z&&i(N,"value",null,z.value),(k=z.onVnodeBeforeMount)&&Ft(k,S,b)}O(N,b,b.scopeId,G,S)}ue&&Yn(b,null,S,"beforeMount");const fe=(!I||I&&!I.pendingBranch)&&J&&!J.persisted;fe&&J.beforeEnter(N),n(N,w,T),((k=z&&z.onVnodeMounted)||fe||ue)&&ot(()=>{k&&Ft(k,S,b),fe&&J.enter(N),ue&&Yn(b,null,S,"mounted")},I)},O=(b,w,T,S,I)=>{if(T&&d(b,T),S)for(let F=0;F<S.length;F++)d(b,S[F]);if(I){let F=I.subTree;if(w===F){const G=I.vnode;O(b,G,G.scopeId,G.slotScopeIds,I.parent)}}},M=(b,w,T,S,I,F,G,L,N=0)=>{for(let k=N;k<b.length;k++){const W=b[k]=L?Tn(b[k]):Dt(b[k]);m(null,W,w,T,S,I,F,G,L)}},U=(b,w,T,S,I,F,G)=>{const L=w.el=b.el;let{patchFlag:N,dynamicChildren:k,dirs:W}=w;N|=b.patchFlag&16;const z=b.props||xe,H=w.props||xe;let J;T&&Un(T,!1),(J=H.onVnodeBeforeUpdate)&&Ft(J,T,w,b),W&&Yn(w,b,T,"beforeUpdate"),T&&Un(T,!0);const se=I&&w.type!=="foreignObject";if(k?K(b.dynamicChildren,k,L,T,S,se,F):G||ne(b,w,L,null,T,S,se,F,!1),N>0){if(N&16)B(L,w,z,H,T,S,I);else if(N&2&&z.class!==H.class&&i(L,"class",null,H.class,I),N&4&&i(L,"style",z.style,H.style,I),N&8){const ue=w.dynamicProps;for(let fe=0;fe<ue.length;fe++){const pe=ue[fe],Be=z[pe],Ae=H[pe];(Ae!==Be||pe==="value")&&i(L,pe,Be,Ae,I,b.children,T,S,Ie)}}N&1&&b.children!==w.children&&c(L,w.children)}else!G&&k==null&&B(L,w,z,H,T,S,I);((J=H.onVnodeUpdated)||W)&&ot(()=>{J&&Ft(J,T,w,b),W&&Yn(w,b,T,"updated")},S)},K=(b,w,T,S,I,F,G)=>{for(let L=0;L<w.length;L++){const N=b[L],k=w[L],W=N.el&&(N.type===it||!fo(N,k)||N.shapeFlag&70)?u(N.el):T;m(N,k,W,null,S,I,F,G,!0)}},B=(b,w,T,S,I,F,G)=>{if(T!==S){for(const L in S){if(ki(L))continue;const N=S[L],k=T[L];N!==k&&L!=="value"&&i(b,L,k,N,G,w.children,I,F,Ie)}if(T!==xe)for(const L in T)!ki(L)&&!(L in S)&&i(b,L,T[L],null,G,w.children,I,F,Ie);"value"in S&&i(b,"value",T.value,S.value)}},V=(b,w,T,S,I,F,G,L,N)=>{const k=w.el=b?b.el:s(""),W=w.anchor=b?b.anchor:s("");let{patchFlag:z,dynamicChildren:H,slotScopeIds:J}=w;J&&(L=L?L.concat(J):J),b==null?(n(k,T,S),n(W,T,S),M(w.children,T,W,I,F,G,L,N)):z>0&&z&64&&H&&b.dynamicChildren?(K(b.dynamicChildren,H,T,I,F,G,L),(w.key!=null||I&&w===I.subTree)&&Th(b,w,!0)):ne(b,w,T,W,I,F,G,L,N)},te=(b,w,T,S,I,F,G,L,N)=>{w.slotScopeIds=L,b==null?w.shapeFlag&512?I.ctx.activate(w,T,S,G,N):j(w,T,S,I,F,G,N):X(b,w,N)},j=(b,w,T,S,I,F,G)=>{const L=b.component=Hv(b,S,I);if(ch(b)&&(L.ctx.renderer=st),Vv(L),L.asyncDep){if(I&&I.registerDep(L,D),!b.el){const N=L.subTree=Qe(Yr);_(null,N,w,T)}return}D(L,b,w,T,I,F,G)},X=(b,w,T)=>{const S=w.component=b.component;if(nv(b,w,T))if(S.asyncDep&&!S.asyncResolved){$(S,w,T);return}else S.next=w,qg(S.update),S.update();else w.el=b.el,S.vnode=w},D=(b,w,T,S,I,F,G)=>{const L=()=>{if(b.isMounted){let{next:W,bu:z,u:H,parent:J,vnode:se}=b,ue=W,fe;Un(b,!1),W?(W.el=se.el,$(b,W,G)):W=se,z&&$a(z),(fe=W.props&&W.props.onVnodeBeforeUpdate)&&Ft(fe,J,W,se),Un(b,!0);const pe=Ka(b),Be=b.subTree;b.subTree=pe,m(Be,pe,u(Be.el),je(Be),b,I,F),W.el=pe.el,ue===null&&rv(b,pe.el),H&&ot(H,I),(fe=W.props&&W.props.onVnodeUpdated)&&ot(()=>Ft(fe,J,W,se),I)}else{let W;const{el:z,props:H}=w,{bm:J,m:se,parent:ue}=b,fe=xo(w);if(Un(b,!1),J&&$a(J),!fe&&(W=H&&H.onVnodeBeforeMount)&&Ft(W,ue,w),Un(b,!0),z&&gn){const pe=()=>{b.subTree=Ka(b),gn(z,b.subTree,b,I,null)};fe?w.type.__asyncLoader().then(()=>!b.isUnmounted&&pe()):pe()}else{const pe=b.subTree=Ka(b);m(null,pe,T,S,b,I,F),w.el=pe.el}if(se&&ot(se,I),!fe&&(W=H&&H.onVnodeMounted)){const pe=w;ot(()=>Ft(W,ue,pe),I)}(w.shapeFlag&256||ue&&xo(ue.vnode)&&ue.vnode.shapeFlag&256)&&b.a&&ot(b.a,I),b.isMounted=!0,w=T=S=null}},N=b.effect=new Tf(L,()=>Qu(k),b.scope),k=b.update=()=>N.run();k.id=b.uid,Un(b,!0),k()},$=(b,w,T)=>{w.component=b;const S=b.vnode.props;b.vnode=w,b.next=null,Av(b,w.props,S,T),Fv(b,w.children,T),Hr(),va(void 0,b.update),Vr()},ne=(b,w,T,S,I,F,G,L,N=!1)=>{const k=b&&b.children,W=b?b.shapeFlag:0,z=w.children,{patchFlag:H,shapeFlag:J}=w;if(H>0){if(H&128){me(k,z,T,S,I,F,G,L,N);return}else if(H&256){ce(k,z,T,S,I,F,G,L,N);return}}J&8?(W&16&&Ie(k,I,F),z!==k&&c(T,z)):W&16?J&16?me(k,z,T,S,I,F,G,L,N):Ie(k,I,F,!0):(W&8&&c(T,""),J&16&&M(z,T,S,I,F,G,L,N))},ce=(b,w,T,S,I,F,G,L,N)=>{b=b||Nr,w=w||Nr;const k=b.length,W=w.length,z=Math.min(k,W);let H;for(H=0;H<z;H++){const J=w[H]=N?Tn(w[H]):Dt(w[H]);m(b[H],J,T,null,I,F,G,L,N)}k>W?Ie(b,I,F,!0,!1,z):M(w,T,S,I,F,G,L,N,z)},me=(b,w,T,S,I,F,G,L,N)=>{let k=0;const W=w.length;let z=b.length-1,H=W-1;for(;k<=z&&k<=H;){const J=b[k],se=w[k]=N?Tn(w[k]):Dt(w[k]);if(fo(J,se))m(J,se,T,null,I,F,G,L,N);else break;k++}for(;k<=z&&k<=H;){const J=b[z],se=w[H]=N?Tn(w[H]):Dt(w[H]);if(fo(J,se))m(J,se,T,null,I,F,G,L,N);else break;z--,H--}if(k>z){if(k<=H){const J=H+1,se=J<W?w[J].el:S;for(;k<=H;)m(null,w[k]=N?Tn(w[k]):Dt(w[k]),T,se,I,F,G,L,N),k++}}else if(k>H)for(;k<=z;)ye(b[k],I,F,!0),k++;else{const J=k,se=k,ue=new Map;for(k=se;k<=H;k++){const Le=w[k]=N?Tn(w[k]):Dt(w[k]);Le.key!=null&&ue.set(Le.key,k)}let fe,pe=0;const Be=H-se+1;let Ae=!1,zn=0;const Re=new Array(Be);for(k=0;k<Be;k++)Re[k]=0;for(k=J;k<=z;k++){const Le=b[k];if(pe>=Be){ye(Le,I,F,!0);continue}let ft;if(Le.key!=null)ft=ue.get(Le.key);else for(fe=se;fe<=H;fe++)if(Re[fe-se]===0&&fo(Le,w[fe])){ft=fe;break}ft===void 0?ye(Le,I,F,!0):(Re[ft-se]=k+1,ft>=zn?zn=ft:Ae=!0,m(Le,w[ft],T,null,I,F,G,L,N),pe++)}const Wt=Ae?zv(Re):Nr;for(fe=Wt.length-1,k=Be-1;k>=0;k--){const Le=se+k,ft=w[Le],to=Le+1<W?w[Le+1].el:S;Re[k]===0?m(null,ft,T,to,I,F,G,L,N):Ae&&(fe<0||k!==Wt[fe]?A(ft,T,to,2):fe--)}}},A=(b,w,T,S,I=null)=>{const{el:F,type:G,transition:L,children:N,shapeFlag:k}=b;if(k&6){A(b.component.subTree,w,T,S);return}if(k&128){b.suspense.move(w,T,S);return}if(k&64){G.move(b,w,T,st);return}if(G===it){n(F,w,T);for(let z=0;z<N.length;z++)A(N[z],w,T,S);n(b.anchor,w,T);return}if(G===Ha){x(b,w,T);return}if(S!==2&&k&1&&L)if(S===0)L.beforeEnter(F),n(F,w,T),ot(()=>L.enter(F),I);else{const{leave:z,delayLeave:H,afterLeave:J}=L,se=()=>n(F,w,T),ue=()=>{z(F,()=>{se(),J&&J()})};H?H(F,se,ue):ue()}else n(F,w,T)},ye=(b,w,T,S=!1,I=!1)=>{const{type:F,props:G,ref:L,children:N,dynamicChildren:k,shapeFlag:W,patchFlag:z,dirs:H}=b;if(L!=null&&Is(L,null,T,b,!0),W&256){w.ctx.deactivate(b);return}const J=W&1&&H,se=!xo(b);let ue;if(se&&(ue=G&&G.onVnodeBeforeUnmount)&&Ft(ue,w,b),W&6)qe(b.component,T,S);else{if(W&128){b.suspense.unmount(T,S);return}J&&Yn(b,null,w,"beforeUnmount"),W&64?b.type.remove(b,w,T,I,st,S):k&&(F!==it||z>0&&z&64)?Ie(k,w,T,!1,!0):(F===it&&z&384||!I&&W&16)&&Ie(N,w,T),S&&oe(b)}(se&&(ue=G&&G.onVnodeUnmounted)||J)&&ot(()=>{ue&&Ft(ue,w,b),J&&Yn(b,null,w,"unmounted")},T)},oe=b=>{const{type:w,el:T,anchor:S,transition:I}=b;if(w===it){ke(T,S);return}if(w===Ha){E(b);return}const F=()=>{o(T),I&&!I.persisted&&I.afterLeave&&I.afterLeave()};if(b.shapeFlag&1&&I&&!I.persisted){const{leave:G,delayLeave:L}=I,N=()=>G(T,F);L?L(b.el,F,N):N()}else F()},ke=(b,w)=>{let T;for(;b!==w;)T=h(b),o(b),b=T;o(w)},qe=(b,w,T)=>{const{bum:S,scope:I,update:F,subTree:G,um:L}=b;S&&$a(S),I.stop(),F&&(F.active=!1,ye(G,b,w,T)),L&&ot(L,w),ot(()=>{b.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&b.asyncDep&&!b.asyncResolved&&b.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},Ie=(b,w,T,S=!1,I=!1,F=0)=>{for(let G=F;G<b.length;G++)ye(b[G],w,T,S,I)},je=b=>b.shapeFlag&6?je(b.component.subTree):b.shapeFlag&128?b.suspense.next():h(b.anchor||b.el),We=(b,w,T)=>{b==null?w._vnode&&ye(w._vnode,null,null,!0):m(w._vnode||null,b,w,null,null,null,T),nh(),w._vnode=b},st={p:m,um:ye,m:A,r:oe,mt:j,mc:M,pc:ne,pbc:K,n:je,o:r};let tt,gn;return t&&([tt,gn]=t(st)),{render:We,hydrate:tt,createApp:Dv(We,tt)}}function Un({effect:r,update:t},e){r.allowRecurse=t.allowRecurse=e}function Th(r,t,e=!1){const n=r.children,o=t.children;if(ie(n)&&ie(o))for(let i=0;i<n.length;i++){const a=n[i];let s=o[i];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=o[i]=Tn(o[i]),s.el=a.el),e||Th(a,s))}}function zv(r){const t=r.slice(),e=[0];let n,o,i,a,s;const f=r.length;for(n=0;n<f;n++){const l=r[n];if(l!==0){if(o=e[e.length-1],r[o]<l){t[n]=o,e.push(n);continue}for(i=0,a=e.length-1;i<a;)s=i+a>>1,r[e[s]]<l?i=s+1:a=s;l<r[e[i]]&&(i>0&&(t[n]=e[i-1]),e[i]=n)}}for(i=e.length,a=e[i-1];i-- >0;)e[i]=a,a=t[a];return e}const Yv=r=>r.__isTeleport,it=Symbol(void 0),Lf=Symbol(void 0),Yr=Symbol(void 0),Ha=Symbol(void 0),Eo=[];let It=null;function Ct(r=!1){Eo.push(It=r?null:[])}function Uv(){Eo.pop(),It=Eo[Eo.length-1]||null}let Mo=1;function Zl(r){Mo+=r}function Ch(r){return r.dynamicChildren=Mo>0?It||Nr:null,Uv(),Mo>0&&It&&It.push(r),r}function tn(r,t,e,n,o,i){return Ch(bt(r,t,e,n,o,i,!0))}function Oh(r,t,e,n,o){return Ch(Qe(r,t,e,n,o,!0))}function Ui(r){return r?r.__v_isVNode===!0:!1}function fo(r,t){return r.type===t.type&&r.key===t.key}const ya="__vInternal",Ih=({key:r})=>r!=null?r:null,Li=({ref:r,ref_key:t,ref_for:e})=>r!=null?Xe(r)||Me(r)||ae(r)?{i:Ve,r,k:t,f:!!e}:r:null;function bt(r,t=null,e=null,n=0,o=null,i=r===it?0:1,a=!1,s=!1){const f={__v_isVNode:!0,__v_skip:!0,type:r,props:t,key:t&&Ih(t),ref:t&&Li(t),scopeId:ba,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null};return s?(Mf(f,e),i&128&&r.normalize(f)):e&&(f.shapeFlag|=Xe(e)?8:16),Mo>0&&!a&&It&&(f.patchFlag>0||i&6)&&f.patchFlag!==32&&It.push(f),f}const Qe=Xv;function Xv(r,t=null,e=null,n=0,o=null,i=!1){if((!r||r===xv)&&(r=Yr),Ui(r)){const s=Ur(r,t,!0);return e&&Mf(s,e),Mo>0&&!i&&It&&(s.shapeFlag&6?It[It.indexOf(r)]=s:It.push(s)),s.patchFlag|=-2,s}if(em(r)&&(r=r.__vccOpts),t){t=Bv(t);let{class:s,style:f}=t;s&&!Xe(s)&&(t.class=bf(s)),ze(f)&&($u(f)&&!ie(f)&&(f=et({},f)),t.style=mf(f))}const a=Xe(r)?1:ov(r)?128:Yv(r)?64:ze(r)?4:ae(r)?2:0;return bt(r,t,e,n,o,a,i,!0)}function Bv(r){return r?$u(r)||ya in r?et({},r):r:null}function Ur(r,t,e=!1){const{props:n,ref:o,patchFlag:i,children:a}=r,s=t?Wv(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:s,key:s&&Ih(s),ref:t&&t.ref?e&&o?ie(o)?o.concat(Li(t)):[o,Li(t)]:Li(t):o,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:a,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:t&&r.type!==it?i===-1?16:i|16:i,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&Ur(r.ssContent),ssFallback:r.ssFallback&&Ur(r.ssFallback),el:r.el,anchor:r.anchor}}function Xi(r=" ",t=0){return Qe(Lf,null,r,t)}function Dt(r){return r==null||typeof r=="boolean"?Qe(Yr):ie(r)?Qe(it,null,r.slice()):typeof r=="object"?Tn(r):Qe(Lf,null,String(r))}function Tn(r){return r.el===null||r.memo?r:Ur(r)}function Mf(r,t){let e=0;const{shapeFlag:n}=r;if(t==null)t=null;else if(ie(t))e=16;else if(typeof t=="object")if(n&65){const o=t.default;o&&(o._c&&(o._d=!1),Mf(r,o()),o._c&&(o._d=!0));return}else{e=32;const o=t._;!o&&!(ya in t)?t._ctx=Ve:o===3&&Ve&&(Ve.slots._===1?t._=1:(t._=2,r.patchFlag|=1024))}else ae(t)?(t={default:t,_ctx:Ve},e=32):(t=String(t),n&64?(e=16,t=[Xi(t)]):e=8);r.children=t,r.shapeFlag|=e}function Wv(...r){const t={};for(let e=0;e<r.length;e++){const n=r[e];for(const o in n)if(o==="class")t.class!==n.class&&(t.class=bf([t.class,n.class]));else if(o==="style")t.style=mf([t.style,n.style]);else if(la(o)){const i=t[o],a=n[o];a&&i!==a&&!(ie(i)&&i.includes(a))&&(t[o]=i?[].concat(i,a):a)}else o!==""&&(t[o]=n[o])}return t}function Ft(r,t,e,n=null){Pt(r,t,7,[e,n])}const $v=Eh();let Kv=0;function Hv(r,t,e){const n=r.type,o=(t?t.appContext:r.appContext)||$v,i={uid:Kv++,vnode:r,type:n,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new Lu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_h(n,o),emitsOptions:oh(n,o),emit:null,emitted:null,propsDefaults:xe,inheritAttrs:n.inheritAttrs,ctx:xe,data:xe,props:xe,attrs:xe,slots:xe,refs:xe,setupState:xe,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Qg.bind(null,i),r.ce&&r.ce(i),i}let Ue=null;const Rh=()=>Ue||Ve,Xr=r=>{Ue=r,r.scope.on()},rr=()=>{Ue&&Ue.scope.off(),Ue=null};function Sh(r){return r.vnode.shapeFlag&4}let Fo=!1;function Vv(r,t=!1){Fo=t;const{props:e,children:n}=r.vnode,o=Sh(r);kv(r,e,o,t),Mv(r,n);const i=o?qv(r,t):void 0;return Fo=!1,i}function qv(r,t){const e=r.type;r.accessCache=Object.create(null),r.proxy=zr(new Proxy(r.ctx,Cv));const{setup:n}=e;if(n){const o=r.setupContext=n.length>1?Jv(r):null;Xr(r),Hr();const i=An(n,r,0,[r.props,o]);if(Vr(),rr(),Pu(i)){if(i.then(rr,rr),t)return i.then(a=>{Jl(r,a,t)}).catch(a=>{ga(a,r,0)});r.asyncDep=i}else Jl(r,i,t)}else Ph(r,t)}function Jl(r,t,e){ae(t)?r.type.__ssrInlineRender?r.ssrRender=t:r.render=t:ze(t)&&(r.setupState=qu(t)),Ph(r,e)}let Ql;function Ph(r,t,e){const n=r.type;if(!r.render){if(!t&&Ql&&!n.render){const o=n.template;if(o){const{isCustomElement:i,compilerOptions:a}=r.appContext.config,{delimiters:s,compilerOptions:f}=n,l=et(et({isCustomElement:i,delimiters:s},a),f);n.render=Ql(o,l)}}r.render=n.render||St}Xr(r),Hr(),Ov(r),Vr(),rr()}function Zv(r){return new Proxy(r.attrs,{get(t,e){return dt(r,"get","$attrs"),t[e]}})}function Jv(r){const t=n=>{r.exposed=n||{}};let e;return{get attrs(){return e||(e=Zv(r))},slots:r.slots,emit:r.emit,expose:t}}function wa(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(qu(zr(r.exposed)),{get(t,e){if(e in t)return t[e];if(e in zi)return zi[e](r)}}))}function Qv(r,t=!0){return ae(r)?r.displayName||r.name:r.name||t&&r.__name}function em(r){return ae(r)&&"__vccOpts"in r}const ct=(r,t)=>Kg(r,t,Fo);function kh(r,t,e){const n=arguments.length;return n===2?ze(t)&&!ie(t)?Ui(t)?Qe(r,null,[t]):Qe(r,t):Qe(r,null,t):(n>3?e=Array.prototype.slice.call(arguments,2):n===3&&Ui(e)&&(e=[e]),Qe(r,t,e))}const tm="3.2.37",nm="http://www.w3.org/2000/svg",Kn=typeof document!="undefined"?document:null,ec=Kn&&Kn.createElement("template"),rm={insert:(r,t,e)=>{t.insertBefore(r,e||null)},remove:r=>{const t=r.parentNode;t&&t.removeChild(r)},createElement:(r,t,e,n)=>{const o=t?Kn.createElementNS(nm,r):Kn.createElement(r,e?{is:e}:void 0);return r==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:r=>Kn.createTextNode(r),createComment:r=>Kn.createComment(r),setText:(r,t)=>{r.nodeValue=t},setElementText:(r,t)=>{r.textContent=t},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>Kn.querySelector(r),setScopeId(r,t){r.setAttribute(t,"")},cloneNode(r){const t=r.cloneNode(!0);return"_value"in r&&(t._value=r._value),t},insertStaticContent(r,t,e,n,o,i){const a=e?e.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),e),!(o===i||!(o=o.nextSibling)););else{ec.innerHTML=n?`<svg>${r}</svg>`:r;const s=ec.content;if(n){const f=s.firstChild;for(;f.firstChild;)s.appendChild(f.firstChild);s.removeChild(f)}t.insertBefore(s,e)}return[a?a.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}};function om(r,t,e){const n=r._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?r.removeAttribute("class"):e?r.setAttribute("class",t):r.className=t}function im(r,t,e){const n=r.style,o=Xe(e);if(e&&!o){for(const i in e)Rs(n,i,e[i]);if(t&&!Xe(t))for(const i in t)e[i]==null&&Rs(n,i,"")}else{const i=n.display;o?t!==e&&(n.cssText=e):t&&r.removeAttribute("style"),"_vod"in r&&(n.display=i)}}const tc=/\s*!important$/;function Rs(r,t,e){if(ie(e))e.forEach(n=>Rs(r,t,n));else if(e==null&&(e=""),t.startsWith("--"))r.setProperty(t,e);else{const n=am(r,t);tc.test(e)?r.setProperty(Kr(n),e.replace(tc,""),"important"):r[n]=e}}const nc=["Webkit","Moz","ms"],Va={};function am(r,t){const e=Va[t];if(e)return e;let n=Ut(t);if(n!=="filter"&&n in r)return Va[t]=n;n=ha(n);for(let o=0;o<nc.length;o++){const i=nc[o]+n;if(i in r)return Va[t]=i}return t}const rc="http://www.w3.org/1999/xlink";function sm(r,t,e,n,o){if(n&&t.startsWith("xlink:"))e==null?r.removeAttributeNS(rc,t.slice(6,t.length)):r.setAttributeNS(rc,t,e);else{const i=eg(t);e==null||i&&!Iu(e)?r.removeAttribute(t):r.setAttribute(t,i?"":e)}}function fm(r,t,e,n,o,i,a){if(t==="innerHTML"||t==="textContent"){n&&a(n,o,i),r[t]=e==null?"":e;return}if(t==="value"&&r.tagName!=="PROGRESS"&&!r.tagName.includes("-")){r._value=e;const f=e==null?"":e;(r.value!==f||r.tagName==="OPTION")&&(r.value=f),e==null&&r.removeAttribute(t);return}let s=!1;if(e===""||e==null){const f=typeof r[t];f==="boolean"?e=Iu(e):e==null&&f==="string"?(e="",s=!0):f==="number"&&(e=0,s=!0)}try{r[t]=e}catch{}s&&r.removeAttribute(t)}const[Ah,lm]=(()=>{let r=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(r=performance.now.bind(performance));const e=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(e&&Number(e[1])<=53)}return[r,t]})();let Ss=0;const cm=Promise.resolve(),um=()=>{Ss=0},hm=()=>Ss||(cm.then(um),Ss=Ah());function dm(r,t,e,n){r.addEventListener(t,e,n)}function pm(r,t,e,n){r.removeEventListener(t,e,n)}function gm(r,t,e,n,o=null){const i=r._vei||(r._vei={}),a=i[t];if(n&&a)a.value=n;else{const[s,f]=vm(t);if(n){const l=i[t]=mm(n,o);dm(r,s,l,f)}else a&&(pm(r,s,a,f),i[t]=void 0)}}const oc=/(?:Once|Passive|Capture)$/;function vm(r){let t;if(oc.test(r)){t={};let e;for(;e=r.match(oc);)r=r.slice(0,r.length-e[0].length),t[e[0].toLowerCase()]=!0}return[Kr(r.slice(2)),t]}function mm(r,t){const e=n=>{const o=n.timeStamp||Ah();(lm||o>=e.attached-1)&&Pt(bm(n,e.value),t,5,[n])};return e.value=r,e.attached=hm(),e}function bm(r,t){if(ie(t)){const e=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{e.call(r),r._stopped=!0},t.map(n=>o=>!o._stopped&&n&&n(o))}else return t}const ic=/^on[a-z]/,_m=(r,t,e,n,o=!1,i,a,s,f)=>{t==="class"?om(r,n,o):t==="style"?im(r,e,n):la(t)?_f(t)||gm(r,t,e,n,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ym(r,t,n,o))?fm(r,t,n,i,a,s,f):(t==="true-value"?r._trueValue=n:t==="false-value"&&(r._falseValue=n),sm(r,t,n,o))};function ym(r,t,e,n){return n?!!(t==="innerHTML"||t==="textContent"||t in r&&ic.test(t)&&ae(e)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&r.tagName==="INPUT"||t==="type"&&r.tagName==="TEXTAREA"||ic.test(t)&&Xe(e)?!1:t in r}const wm=et({patchProp:_m},rm);let ac;function xm(){return ac||(ac=Gv(wm))}const Em=(...r)=>{const t=xm().createApp(...r),{mount:e}=t;return t.mount=n=>{const o=Tm(n);if(!o)return;const i=t._component;!ae(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.innerHTML="";const a=e(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function Tm(r){return Xe(r)?document.querySelector(r):r}var Cm=!1;/*!
  * pinia v2.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let Lh;const xa=r=>Lh=r,Mh=Symbol();function Ps(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var To;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(To||(To={}));function Om(){const r=Mu(!0),t=r.run(()=>Vu({}));let e=[],n=[];const o=zr({install(i){xa(o),o._a=i,i.provide(Mh,o),i.config.globalProperties.$pinia=o,n.forEach(a=>e.push(a)),n=[]},use(i){return!this._a&&!Cm?n.push(i):e.push(i),this},_p:e,_a:null,_e:r,_s:new Map,state:t});return o}const Fh=()=>{};function sc(r,t,e,n=Fh){r.push(t);const o=()=>{const i=r.indexOf(t);i>-1&&(r.splice(i,1),n())};return!e&&Rh()&&kf(o),o}function yr(r,...t){r.slice().forEach(e=>{e(...t)})}function ks(r,t){for(const e in t){if(!t.hasOwnProperty(e))continue;const n=t[e],o=r[e];Ps(o)&&Ps(n)&&r.hasOwnProperty(e)&&!Me(n)&&!kn(n)?r[e]=ks(o,n):r[e]=n}return r}const Im=Symbol();function Rm(r){return!Ps(r)||!r.hasOwnProperty(Im)}const{assign:qt}=Object;function Sm(r){return!!(Me(r)&&r.effect)}function Pm(r,t,e,n){const{state:o,actions:i,getters:a}=t,s=e.state.value[r];let f;function l(){s||(e.state.value[r]=o?o():{});const c=Xg(e.state.value[r]);return qt(c,i,Object.keys(a||{}).reduce((u,h)=>(u[h]=zr(ct(()=>{xa(e);const d=e._s.get(r);return a[h].call(d,d)})),u),{}))}return f=Nh(r,l,t,e,n,!0),f.$reset=function(){const u=o?o():{};this.$patch(h=>{qt(h,u)})},f}function Nh(r,t,e={},n,o,i){let a;const s=qt({actions:{}},e),f={deep:!0};let l,c,u=zr([]),h=zr([]),d;const p=n.state.value[r];!i&&!p&&(n.state.value[r]={}),Vu({});let g;function m(C){let O;l=c=!1,typeof C=="function"?(C(n.state.value[r]),O={type:To.patchFunction,storeId:r,events:d}):(ks(n.state.value[r],C),O={type:To.patchObject,payload:C,storeId:r,events:d});const M=g=Symbol();Ju().then(()=>{g===M&&(l=!0)}),c=!0,yr(u,O,n.state.value[r])}const v=Fh;function _(){a.stop(),u=[],h=[],n._s.delete(r)}function y(C,O){return function(){xa(n);const M=Array.from(arguments),U=[],K=[];function B(j){U.push(j)}function V(j){K.push(j)}yr(h,{args:M,name:C,store:E,after:B,onError:V});let te;try{te=O.apply(this&&this.$id===r?this:E,M)}catch(j){throw yr(K,j),j}return te instanceof Promise?te.then(j=>(yr(U,j),j)).catch(j=>(yr(K,j),Promise.reject(j))):(yr(U,te),te)}}const x={_p:n,$id:r,$onAction:sc.bind(null,h),$patch:m,$reset:v,$subscribe(C,O={}){const M=sc(u,C,O.detached,()=>U()),U=a.run(()=>wo(()=>n.state.value[r],K=>{(O.flush==="sync"?c:l)&&C({storeId:r,type:To.direct,events:d},K)},qt({},f,O)));return M},$dispose:_},E=pa(qt({},x));n._s.set(r,E);const P=n._e.run(()=>(a=Mu(),a.run(()=>t())));for(const C in P){const O=P[C];if(Me(O)&&!Sm(O)||kn(O))i||(p&&Rm(O)&&(Me(O)?O.value=p[C]:ks(O,p[C])),n.state.value[r][C]=O);else if(typeof O=="function"){const M=y(C,O);P[C]=M,s.actions[C]=O}}return qt(E,P),qt(_e(E),P),Object.defineProperty(E,"$state",{get:()=>n.state.value[r],set:C=>{m(O=>{qt(O,C)})}}),n._p.forEach(C=>{qt(E,a.run(()=>C({store:E,app:n._a,pinia:n,options:s})))}),p&&i&&e.hydrate&&e.hydrate(E.$state,p),l=!0,c=!0,E}function km(r,t,e){let n,o;const i=typeof t=="function";typeof r=="string"?(n=r,o=i?e:t):(o=r,n=r.id);function a(s,f){const l=Rh();return s=s||l&&Ai(Mh),s&&xa(s),s=Lh,s._s.has(n)||(i?Nh(n,t,o,s):Pm(n,o,s)),s._s.get(n)}return a.$id=n,a}let Am="Store";function Lm(...r){return r.reduce((t,e)=>(t[e.$id+Am]=function(){return e(this.$pinia)},t),{})}function Mm(r,t){return Array.isArray(t)?t.reduce((e,n)=>(e[n]=function(){return r(this.$pinia)[n]},e),{}):Object.keys(t).reduce((e,n)=>(e[n]=function(){const o=r(this.$pinia),i=t[n];return typeof i=="function"?i.call(this,o):o[i]},e),{})}var Fm=function(){function r(){this.disposed=!1}return r.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},r.prototype.disposeInternal=function(){},r}(),Ff=Fm;function Nm(r,t,e){for(var n,o,i=e||cr,a=0,s=r.length,f=!1;a<s;)n=a+(s-a>>1),o=+i(r[n],t),o<0?a=n+1:(s=n,f=!o);return f?a:~a}function cr(r,t){return r>t?1:r<t?-1:0}function Nf(r,t,e){var n=r.length;if(r[0]<=t)return 0;if(t<=r[n-1])return n-1;var o=void 0;if(e>0){for(o=1;o<n;++o)if(r[o]<t)return o-1}else if(e<0){for(o=1;o<n;++o)if(r[o]<=t)return o}else for(o=1;o<n;++o){if(r[o]==t)return o;if(r[o]<t)return typeof e=="function"?e(t,r[o-1],r[o])>0?o-1:o:r[o-1]-t<t-r[o]?o-1:o}return n-1}function Dm(r,t,e){for(;t<e;){var n=r[t];r[t]=r[e],r[e]=n,++t,--e}}function rn(r,t){for(var e=Array.isArray(t)?t:[t],n=e.length,o=0;o<n;o++)r[r.length]=e[o]}function mr(r,t){var e=r.length;if(e!==t.length)return!1;for(var n=0;n<e;n++)if(r[n]!==t[n])return!1;return!0}function Gm(r,t,e){var n=t||cr;return r.every(function(o,i){if(i===0)return!0;var a=n(r[i-1],o);return!(a>0||e&&a===0)})}function or(){return!0}function qo(){return!1}function ur(){}function jm(r){var t=!1,e,n,o;return function(){var i=Array.prototype.slice.call(arguments);return(!t||this!==o||!mr(i,n))&&(t=!0,o=this,n=i,e=r.apply(this,arguments)),e}}function Z(){return function(){throw new Error("Unimplemented abstract method.")}()}var zm=0;function be(r){return r.ol_uid||(r.ol_uid=String(++zm))}var Ym="6.14.1",Nn=typeof navigator!="undefined"&&typeof navigator.userAgent!="undefined"?navigator.userAgent.toLowerCase():"",Um=Nn.indexOf("firefox")!==-1,Xm=Nn.indexOf("safari")!==-1&&Nn.indexOf("chrom")==-1;Xm&&(Nn.indexOf("version/15.4")>=0||Nn.match(/cpu (os|iphone os) 15_4 like mac os x/));var Bm=Nn.indexOf("webkit")!==-1&&Nn.indexOf("edge")==-1,Wm=Nn.indexOf("macintosh")!==-1,Dh=typeof devicePixelRatio!="undefined"?devicePixelRatio:1,Ea=typeof WorkerGlobalScope!="undefined"&&typeof OffscreenCanvas!="undefined"&&self instanceof WorkerGlobalScope,$m=typeof Image!="undefined"&&Image.prototype.decode,Gh=function(){var r=!1;try{var t=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return r}(),Km=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hm=function(r){Km(t,r);function t(e){var n=this,o="v"+Ym.split("-")[0],i="Assertion failed. See https://openlayers.org/en/"+o+"/doc/errors/#"+e+" for details.";return n=r.call(this,i)||this,n.code=e,n.name="AssertionError",n.message=i,n}return t}(Error),jh=Hm;function le(r,t){if(!r)throw new jh(t)}new Array(6);function Yt(){return[1,0,0,1,0,0]}function Vm(r,t,e,n,o,i,a){return r[0]=t,r[1]=e,r[2]=n,r[3]=o,r[4]=i,r[5]=a,r}function qm(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r}function Ne(r,t){var e=t[0],n=t[1];return t[0]=r[0]*e+r[2]*n+r[4],t[1]=r[1]*e+r[3]*n+r[5],t}function Zm(r,t,e){return Vm(r,t,0,0,e,0,0)}function ln(r,t,e,n,o,i,a,s){var f=Math.sin(i),l=Math.cos(i);return r[0]=n*l,r[1]=o*f,r[2]=-n*f,r[3]=o*l,r[4]=a*n*l-s*n*f+t,r[5]=a*o*f+s*o*l+e,r}function Df(r,t){var e=Jm(t);le(e!==0,32);var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],f=t[5];return r[0]=a/e,r[1]=-o/e,r[2]=-i/e,r[3]=n/e,r[4]=(i*f-a*s)/e,r[5]=-(n*f-o*s)/e,r}function Jm(r){return r[0]*r[3]-r[1]*r[2]}var fc;function zh(r){var t="matrix("+r.join(", ")+")";if(Ea)return t;var e=fc||(fc=document.createElement("div"));return e.style.transform=t,e.style.transform}var po={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Ye={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function lc(r){for(var t=pt(),e=0,n=r.length;e<n;++e)Co(t,r[e]);return t}function Qm(r,t,e){var n=Math.min.apply(null,r),o=Math.min.apply(null,t),i=Math.max.apply(null,r),a=Math.max.apply(null,t);return kt(n,o,i,a,e)}function No(r,t,e){return e?(e[0]=r[0]-t,e[1]=r[1]-t,e[2]=r[2]+t,e[3]=r[3]+t,e):[r[0]-t,r[1]-t,r[2]+t,r[3]+t]}function Yh(r,t){return t?(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t):r.slice()}function br(r,t,e){var n,o;return t<r[0]?n=r[0]-t:r[2]<t?n=t-r[2]:n=0,e<r[1]?o=r[1]-e:r[3]<e?o=e-r[3]:o=0,n*n+o*o}function Zo(r,t){return Gf(r,t[0],t[1])}function qn(r,t){return r[0]<=t[0]&&t[2]<=r[2]&&r[1]<=t[1]&&t[3]<=r[3]}function Gf(r,t,e){return r[0]<=t&&t<=r[2]&&r[1]<=e&&e<=r[3]}function As(r,t){var e=r[0],n=r[1],o=r[2],i=r[3],a=t[0],s=t[1],f=Ye.UNKNOWN;return a<e?f=f|Ye.LEFT:a>o&&(f=f|Ye.RIGHT),s<n?f=f|Ye.BELOW:s>i&&(f=f|Ye.ABOVE),f===Ye.UNKNOWN&&(f=Ye.INTERSECTING),f}function pt(){return[1/0,1/0,-1/0,-1/0]}function kt(r,t,e,n,o){return o?(o[0]=r,o[1]=t,o[2]=e,o[3]=n,o):[r,t,e,n]}function Jo(r){return kt(1/0,1/0,-1/0,-1/0,r)}function eb(r,t){var e=r[0],n=r[1];return kt(e,n,e,n,t)}function Uh(r,t,e,n,o){var i=Jo(o);return Bh(i,r,t,e,n)}function Do(r,t){return r[0]==t[0]&&r[2]==t[2]&&r[1]==t[1]&&r[3]==t[3]}function Xh(r,t){return t[0]<r[0]&&(r[0]=t[0]),t[2]>r[2]&&(r[2]=t[2]),t[1]<r[1]&&(r[1]=t[1]),t[3]>r[3]&&(r[3]=t[3]),r}function Co(r,t){t[0]<r[0]&&(r[0]=t[0]),t[0]>r[2]&&(r[2]=t[0]),t[1]<r[1]&&(r[1]=t[1]),t[1]>r[3]&&(r[3]=t[1])}function Bh(r,t,e,n,o){for(;e<n;e+=o)tb(r,t[e],t[e+1]);return r}function tb(r,t,e){r[0]=Math.min(r[0],t),r[1]=Math.min(r[1],e),r[2]=Math.max(r[2],t),r[3]=Math.max(r[3],e)}function jf(r,t){var e;return e=t(Ta(r)),e||(e=t(Ca(r)),e)||(e=t(Oa(r)),e)||(e=t(_r(r)),e)?e:!1}function Ls(r){var t=0;return zf(r)||(t=Pe(r)*At(r)),t}function Ta(r){return[r[0],r[1]]}function Ca(r){return[r[2],r[1]]}function hr(r){return[(r[0]+r[2])/2,(r[1]+r[3])/2]}function nb(r,t){var e;return t===po.BOTTOM_LEFT?e=Ta(r):t===po.BOTTOM_RIGHT?e=Ca(r):t===po.TOP_LEFT?e=_r(r):t===po.TOP_RIGHT?e=Oa(r):le(!1,13),e}function Ms(r,t,e,n,o){var i=t*n[0]/2,a=t*n[1]/2,s=Math.cos(e),f=Math.sin(e),l=i*s,c=i*f,u=a*s,h=a*f,d=r[0],p=r[1],g=d-l+h,m=d-l-h,v=d+l-h,_=d+l+h,y=p-c-u,x=p-c+u,E=p+c+u,P=p+c-u;return kt(Math.min(g,m,v,_),Math.min(y,x,E,P),Math.max(g,m,v,_),Math.max(y,x,E,P),o)}function At(r){return r[3]-r[1]}function Oo(r,t,e){var n=e||pt();return Je(r,t)?(r[0]>t[0]?n[0]=r[0]:n[0]=t[0],r[1]>t[1]?n[1]=r[1]:n[1]=t[1],r[2]<t[2]?n[2]=r[2]:n[2]=t[2],r[3]<t[3]?n[3]=r[3]:n[3]=t[3]):Jo(n),n}function _r(r){return[r[0],r[3]]}function Oa(r){return[r[2],r[3]]}function Pe(r){return r[2]-r[0]}function Je(r,t){return r[0]<=t[2]&&r[2]>=t[0]&&r[1]<=t[3]&&r[3]>=t[1]}function zf(r){return r[2]<r[0]||r[3]<r[1]}function rb(r,t){return t?(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t):r}function ob(r,t,e){var n=!1,o=As(r,t),i=As(r,e);if(o===Ye.INTERSECTING||i===Ye.INTERSECTING)n=!0;else{var a=r[0],s=r[1],f=r[2],l=r[3],c=t[0],u=t[1],h=e[0],d=e[1],p=(d-u)/(h-c),g=void 0,m=void 0;!!(i&Ye.ABOVE)&&!(o&Ye.ABOVE)&&(g=h-(d-l)/p,n=g>=a&&g<=f),!n&&!!(i&Ye.RIGHT)&&!(o&Ye.RIGHT)&&(m=d-(h-f)*p,n=m>=s&&m<=l),!n&&!!(i&Ye.BELOW)&&!(o&Ye.BELOW)&&(g=h-(d-s)/p,n=g>=a&&g<=f),!n&&!!(i&Ye.LEFT)&&!(o&Ye.LEFT)&&(m=d-(h-a)*p,n=m>=s&&m<=l)}return n}function ib(r,t,e,n){var o=[];if(n>1)for(var i=r[2]-r[0],a=r[3]-r[1],s=0;s<n;++s)o.push(r[0]+i*s/n,r[1],r[2],r[1]+a*s/n,r[2]-i*s/n,r[3],r[0],r[3]-a*s/n);else o=[r[0],r[1],r[2],r[1],r[2],r[3],r[0],r[3]];t(o,o,2);for(var f=[],l=[],s=0,c=o.length;s<c;s+=2)f.push(o[s]),l.push(o[s+1]);return Qm(f,l,e)}function ab(r,t){var e=t.getExtent(),n=hr(r);if(t.canWrapX()&&(n[0]<e[0]||n[0]>=e[2])){var o=Pe(e),i=Math.floor((n[0]-e[0])/o),a=i*o;r[0]-=a,r[2]-=a}return r}function De(r,t,e){return Math.min(Math.max(r,t),e)}var sb=function(){var r;return"cosh"in Math?r=Math.cosh:r=function(t){var e=Math.exp(t);return(e+1/e)/2},r}(),fb=function(){var r;return"log2"in Math?r=Math.log2:r=function(t){return Math.log(t)*Math.LOG2E},r}();function lb(r,t,e,n,o,i){var a=o-e,s=i-n;if(a!==0||s!==0){var f=((r-e)*a+(t-n)*s)/(a*a+s*s);f>1?(e=o,n=i):f>0&&(e+=a*f,n+=s*f)}return ir(r,t,e,n)}function ir(r,t,e,n){var o=e-r,i=n-t;return o*o+i*i}function cb(r){for(var t=r.length,e=0;e<t;e++){for(var n=e,o=Math.abs(r[e][e]),i=e+1;i<t;i++){var a=Math.abs(r[i][e]);a>o&&(o=a,n=i)}if(o===0)return null;var s=r[n];r[n]=r[e],r[e]=s;for(var f=e+1;f<t;f++)for(var l=-r[f][e]/r[e][e],c=e;c<t+1;c++)e==c?r[f][c]=0:r[f][c]+=l*r[e][c]}for(var u=new Array(t),h=t-1;h>=0;h--){u[h]=r[h][t]/r[h][h];for(var d=h-1;d>=0;d--)r[d][t]-=r[d][h]*u[h]}return u}function ar(r){return r*Math.PI/180}function sr(r,t){var e=r%t;return e*t<0?e+t:e}function Qt(r,t,e){return r+e*(t-r)}function Wh(r,t){var e=Math.pow(10,t);return Math.round(r*e)/e}function di(r,t){return Math.floor(Wh(r,t))}function pi(r,t){return Math.ceil(Wh(r,t))}var ub=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,hb=/^([a-z]*)$|^hsla?\(.*\)$/i;function $h(r){return typeof r=="string"?r:Kh(r)}function db(r){var t=document.createElement("div");if(t.style.color=r,t.style.color!==""){document.body.appendChild(t);var e=getComputedStyle(t).color;return document.body.removeChild(t),e}else return""}var pb=function(){var r=1024,t={},e=0;return function(n){var o;if(t.hasOwnProperty(n))o=t[n];else{if(e>=r){var i=0;for(var a in t)(i++&3)===0&&(delete t[a],--e)}o=gb(n),t[n]=o,++e}return o}}();function Bi(r){return Array.isArray(r)?r:pb(r)}function gb(r){var t,e,n,o,i;if(hb.exec(r)&&(r=db(r)),ub.exec(r)){var a=r.length-1,s=void 0;a<=4?s=1:s=2;var f=a===4||a===8;t=parseInt(r.substr(1+0*s,s),16),e=parseInt(r.substr(1+1*s,s),16),n=parseInt(r.substr(1+2*s,s),16),f?o=parseInt(r.substr(1+3*s,s),16):o=255,s==1&&(t=(t<<4)+t,e=(e<<4)+e,n=(n<<4)+n,f&&(o=(o<<4)+o)),i=[t,e,n,o/255]}else r.indexOf("rgba(")==0?(i=r.slice(5,-1).split(",").map(Number),cc(i)):r.indexOf("rgb(")==0?(i=r.slice(4,-1).split(",").map(Number),i.push(1),cc(i)):le(!1,14);return i}function cc(r){return r[0]=De(r[0]+.5|0,0,255),r[1]=De(r[1]+.5|0,0,255),r[2]=De(r[2]+.5|0,0,255),r[3]=De(r[3],0,1),r}function Kh(r){var t=r[0];t!=(t|0)&&(t=t+.5|0);var e=r[1];e!=(e|0)&&(e=e+.5|0);var n=r[2];n!=(n|0)&&(n=n+.5|0);var o=r[3]===void 0?1:Math.round(r[3]*100)/100;return"rgba("+t+","+e+","+n+","+o+")"}var vb=function(){function r(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return r.prototype.clear=function(){this.cache_={},this.cacheSize_=0},r.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},r.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var n=this.cache_[e];(t++&3)===0&&!n.hasListener()&&(delete this.cache_[e],--this.cacheSize_)}}},r.prototype.get=function(t,e,n){var o=uc(t,e,n);return o in this.cache_?this.cache_[o]:null},r.prototype.set=function(t,e,n,o){var i=uc(t,e,n);this.cache_[i]=o,++this.cacheSize_},r.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},r}();function uc(r,t,e){var n=e?$h(e):"null";return t+":"+r+":"+n}var Wi=new vb,mb=function(){function r(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}return r.prototype.preventDefault=function(){this.defaultPrevented=!0},r.prototype.stopPropagation=function(){this.propagationStopped=!0},r}(),Bt=mb,Br={PROPERTYCHANGE:"propertychange"},Oe=typeof Object.assign=="function"?Object.assign:function(r,t){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(r),n=1,o=arguments.length;n<o;++n){var i=arguments[n];if(i!=null)for(var a in i)i.hasOwnProperty(a)&&(e[a]=i[a])}return e};function Qo(r){for(var t in r)delete r[t]}var Hh=typeof Object.values=="function"?Object.values:function(r){var t=[];for(var e in r)t.push(r[e]);return t};function Wr(r){var t;for(t in r)return!1;return!t}var bb=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),_b=function(r){bb(t,r);function t(e){var n=r.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return t.prototype.addEventListener=function(e,n){if(!(!e||!n)){var o=this.listeners_||(this.listeners_={}),i=o[e]||(o[e]=[]);i.indexOf(n)===-1&&i.push(n)}},t.prototype.dispatchEvent=function(e){var n=typeof e=="string",o=n?e:e.type,i=this.listeners_&&this.listeners_[o];if(!!i){var a=n?new Bt(e):e;a.target||(a.target=this.eventTarget_||this);var s=this.dispatching_||(this.dispatching_={}),f=this.pendingRemovals_||(this.pendingRemovals_={});o in s||(s[o]=0,f[o]=0),++s[o];for(var l,c=0,u=i.length;c<u;++c)if("handleEvent"in i[c]?l=i[c].handleEvent(a):l=i[c].call(this,a),l===!1||a.propagationStopped){l=!1;break}if(--s[o]===0){var h=f[o];for(delete f[o];h--;)this.removeEventListener(o,ur);delete s[o]}return l}},t.prototype.disposeInternal=function(){this.listeners_&&Qo(this.listeners_)},t.prototype.getListeners=function(e){return this.listeners_&&this.listeners_[e]||void 0},t.prototype.hasListener=function(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1},t.prototype.removeEventListener=function(e,n){var o=this.listeners_&&this.listeners_[e];if(o){var i=o.indexOf(n);i!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(o[i]=ur,++this.pendingRemovals_[e]):(o.splice(i,1),o.length===0&&delete this.listeners_[e]))}},t}(Ff),qr=_b,re={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function he(r,t,e,n,o){if(n&&n!==r&&(e=e.bind(n)),o){var i=e;e=function(){r.removeEventListener(t,e),i.apply(this,arguments)}}var a={target:r,type:t,listener:e};return r.addEventListener(t,e),a}function $i(r,t,e,n){return he(r,t,e,n,!0)}function Te(r){r&&r.target&&(r.target.removeEventListener(r.type,r.listener),Qo(r))}var yb=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ei=function(r){yb(t,r);function t(){var e=r.call(this)||this;return e.on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e}return t.prototype.changed=function(){++this.revision_,this.dispatchEvent(re.CHANGE)},t.prototype.getRevision=function(){return this.revision_},t.prototype.onInternal=function(e,n){if(Array.isArray(e)){for(var o=e.length,i=new Array(o),a=0;a<o;++a)i[a]=he(this,e[a],n);return i}else return he(this,e,n)},t.prototype.onceInternal=function(e,n){var o;if(Array.isArray(e)){var i=e.length;o=new Array(i);for(var a=0;a<i;++a)o[a]=$i(this,e[a],n)}else o=$i(this,e,n);return n.ol_key=o,o},t.prototype.unInternal=function(e,n){var o=n.ol_key;if(o)Fs(o);else if(Array.isArray(e))for(var i=0,a=e.length;i<a;++i)this.removeEventListener(e[i],n);else this.removeEventListener(e,n)},t}(qr);ei.prototype.on;ei.prototype.once;ei.prototype.un;function Fs(r){if(Array.isArray(r))for(var t=0,e=r.length;t<e;++t)Te(r[t]);else Te(r)}var Vh=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),hc=function(r){Vh(t,r);function t(e,n,o){var i=r.call(this,e)||this;return i.key=n,i.oldValue=o,i}return t}(Bt),wb=function(r){Vh(t,r);function t(e){var n=r.call(this)||this;return n.on,n.once,n.un,be(n),n.values_=null,e!==void 0&&n.setProperties(e),n}return t.prototype.get=function(e){var n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n},t.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},t.prototype.getProperties=function(){return this.values_&&Oe({},this.values_)||{}},t.prototype.hasProperties=function(){return!!this.values_},t.prototype.notify=function(e,n){var o;o="change:".concat(e),this.hasListener(o)&&this.dispatchEvent(new hc(o,e,n)),o=Br.PROPERTYCHANGE,this.hasListener(o)&&this.dispatchEvent(new hc(o,e,n))},t.prototype.addChangeListener=function(e,n){this.addEventListener("change:".concat(e),n)},t.prototype.removeChangeListener=function(e,n){this.removeEventListener("change:".concat(e),n)},t.prototype.set=function(e,n,o){var i=this.values_||(this.values_={});if(o)i[e]=n;else{var a=i[e];i[e]=n,a!==n&&this.notify(e,a)}},t.prototype.setProperties=function(e,n){for(var o in e)this.set(o,e[o],n)},t.prototype.applyProperties=function(e){!e.values_||Oe(this.values_||(this.values_={}),e.values_)},t.prototype.unset=function(e,n){if(this.values_&&e in this.values_){var o=this.values_[e];delete this.values_[e],Wr(this.values_)&&(this.values_=null),n||this.notify(e,o)}},t}(ei),Lt=wb,we={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"},xb=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Eb=function(r){xb(t,r);function t(e){var n=r.call(this)||this;n.on,n.once,n.un,n.background_=e.background;var o=Oe({},e);return typeof e.properties=="object"&&(delete o.properties,Oe(o,e.properties)),o[we.OPACITY]=e.opacity!==void 0?e.opacity:1,le(typeof o[we.OPACITY]=="number",64),o[we.VISIBLE]=e.visible!==void 0?e.visible:!0,o[we.Z_INDEX]=e.zIndex,o[we.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,o[we.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,o[we.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,o[we.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,n.className_=o.className!==void 0?o.className:"ol-layer",delete o.className,n.setProperties(o),n.state_=null,n}return t.prototype.getBackground=function(){return this.background_},t.prototype.getClassName=function(){return this.className_},t.prototype.getLayerState=function(e){var n=this.state_||{layer:this,managed:e===void 0?!0:e},o=this.getZIndex();return n.opacity=De(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=o===void 0&&!n.managed?1/0:o,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n},t.prototype.getLayersArray=function(e){return Z()},t.prototype.getLayerStatesArray=function(e){return Z()},t.prototype.getExtent=function(){return this.get(we.EXTENT)},t.prototype.getMaxResolution=function(){return this.get(we.MAX_RESOLUTION)},t.prototype.getMinResolution=function(){return this.get(we.MIN_RESOLUTION)},t.prototype.getMinZoom=function(){return this.get(we.MIN_ZOOM)},t.prototype.getMaxZoom=function(){return this.get(we.MAX_ZOOM)},t.prototype.getOpacity=function(){return this.get(we.OPACITY)},t.prototype.getSourceState=function(){return Z()},t.prototype.getVisible=function(){return this.get(we.VISIBLE)},t.prototype.getZIndex=function(){return this.get(we.Z_INDEX)},t.prototype.setBackground=function(e){this.background_=e,this.changed()},t.prototype.setExtent=function(e){this.set(we.EXTENT,e)},t.prototype.setMaxResolution=function(e){this.set(we.MAX_RESOLUTION,e)},t.prototype.setMinResolution=function(e){this.set(we.MIN_RESOLUTION,e)},t.prototype.setMaxZoom=function(e){this.set(we.MAX_ZOOM,e)},t.prototype.setMinZoom=function(e){this.set(we.MIN_ZOOM,e)},t.prototype.setOpacity=function(e){le(typeof e=="number",64),this.set(we.OPACITY,e)},t.prototype.setVisible=function(e){this.set(we.VISIBLE,e)},t.prototype.setZIndex=function(e){this.set(we.Z_INDEX,e)},t.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),r.prototype.disposeInternal.call(this)},t}(Lt),qh=Eb,Ln={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},dr={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},Tb=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ia=function(r){Tb(t,r);function t(e){var n=this,o=Oe({},e);delete o.source,n=r.call(this,o)||this,n.on,n.once,n.un,n.mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,n.rendered=!1,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addChangeListener(we.SOURCE,n.handleSourcePropertyChange_);var i=e.source?e.source:null;return n.setSource(i),n}return t.prototype.getLayersArray=function(e){var n=e||[];return n.push(this),n},t.prototype.getLayerStatesArray=function(e){var n=e||[];return n.push(this.getLayerState()),n},t.prototype.getSource=function(){return this.get(we.SOURCE)||null},t.prototype.getRenderSource=function(){return this.getSource()},t.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():dr.UNDEFINED},t.prototype.handleSourceChange_=function(){this.changed()},t.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Te(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=he(e,re.CHANGE,this.handleSourceChange_,this)),this.changed()},t.prototype.getFeatures=function(e){return this.renderer_?this.renderer_.getFeatures(e):new Promise(function(n){return n([])})},t.prototype.getData=function(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)},t.prototype.render=function(e,n){var o=this.getRenderer();if(o.prepareFrame(e))return this.rendered=!0,o.renderFrame(e,n)},t.prototype.unrender=function(){this.rendered=!1},t.prototype.setMapInternal=function(e){e||this.unrender(),this.set(we.MAP,e)},t.prototype.getMapInternal=function(){return this.get(we.MAP)},t.prototype.setMap=function(e){this.mapPrecomposeKey_&&(Te(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Te(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=he(e,Ln.PRECOMPOSE,function(n){var o=n,i=o.frameState.layerStatesArray,a=this.getLayerState(!1);le(!i.some(function(s){return s.layer===a.layer}),67),i.push(a)},this),this.mapRenderKey_=he(this,re.CHANGE,e.render,e),this.changed())},t.prototype.setSource=function(e){this.set(we.SOURCE,e)},t.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},t.prototype.hasRenderer=function(){return!!this.renderer_},t.prototype.createRenderer=function(){return null},t.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),r.prototype.disposeInternal.call(this)},t}(qh);function Ki(r,t){if(!r.visible)return!1;var e=t.resolution;if(e<r.minResolution||e>=r.maxResolution)return!1;var n=t.zoom;return n>r.minZoom&&n<=r.maxZoom}function Cb(r,t){for(var e=(""+r).split("."),n=(""+t).split("."),o=0;o<Math.max(e.length,n.length);o++){var i=parseInt(e[o]||"0",10),a=parseInt(n[o]||"0",10);if(i>a)return 1;if(a>i)return-1}return 0}function Ob(r,t){return r[0]+=+t[0],r[1]+=+t[1],r}function Hi(r,t){for(var e=!0,n=r.length-1;n>=0;--n)if(r[n]!=t[n]){e=!1;break}return e}function Yf(r,t){var e=Math.cos(t),n=Math.sin(t),o=r[0]*e-r[1]*n,i=r[1]*e+r[0]*n;return r[0]=o,r[1]=i,r}function Ib(r,t){return r[0]*=t,r[1]*=t,r}function Rb(r,t){var e=r[0]-t[0],n=r[1]-t[1];return e*e+n*n}function Zh(r,t){if(t.canWrapX()){var e=Pe(t.getExtent()),n=Sb(r,t,e);n&&(r[0]-=n*e)}return r}function Sb(r,t,e){var n=t.getExtent(),o=0;if(t.canWrapX()&&(r[0]<n[0]||r[0]>n[2])){var i=e||Pe(n);o=Math.floor((r[0]-n[0])/i)}return o}var Pb=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),kb=function(r){Pb(t,r);function t(e){var n=r.call(this)||this;return n.map_=e,n}return t.prototype.dispatchRenderEvent=function(e,n){Z()},t.prototype.calculateMatrices2D=function(e){var n=e.viewState,o=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;ln(o,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),Df(i,o)},t.prototype.forEachFeatureAtCoordinate=function(e,n,o,i,a,s,f,l){var c,u=n.viewState;function h(j,X,D,$){return a.call(s,X,j?D:null,$)}var d=u.projection,p=Zh(e.slice(),d),g=[[0,0]];if(d.canWrapX()&&i){var m=d.getExtent(),v=Pe(m);g.push([-v,0],[v,0])}for(var _=n.layerStatesArray,y=_.length,x=[],E=[],P=0;P<g.length;P++)for(var C=y-1;C>=0;--C){var O=_[C],M=O.layer;if(M.hasRenderer()&&Ki(O,u)&&f.call(l,M)){var U=M.getRenderer(),K=M.getSource();if(U&&K){var B=K.getWrapX()?p:e,V=h.bind(null,O.managed);E[0]=B[0]+g[P][0],E[1]=B[1]+g[P][1],c=U.forEachFeatureAtCoordinate(E,n,o,V,x)}if(c)return c}}if(x.length!==0){var te=1/x.length;return x.forEach(function(j,X){return j.distanceSq+=X*te}),x.sort(function(j,X){return j.distanceSq-X.distanceSq}),x.some(function(j){return c=j.callback(j.feature,j.layer,j.geometry)}),c}},t.prototype.forEachLayerAtPixel=function(e,n,o,i,a){return Z()},t.prototype.hasFeatureAtCoordinate=function(e,n,o,i,a,s){var f=this.forEachFeatureAtCoordinate(e,n,o,i,or,this,a,s);return f!==void 0},t.prototype.getMap=function(){return this.map_},t.prototype.renderFrame=function(e){Z()},t.prototype.scheduleExpireIconCache=function(e){Wi.canExpireCache()&&e.postRenderFunctions.push(Ab)},t}(Ff);function Ab(r,t){Wi.expire()}var Lb=kb,Mb=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fb=function(r){Mb(t,r);function t(e,n,o,i){var a=r.call(this,e)||this;return a.inversePixelTransform=n,a.frameState=o,a.context=i,a}return t}(Bt),Jh=Fb,gi="ol-hidden",Nb="ol-selectable",Ra="ol-unselectable",Uf="ol-control",dc="ol-collapsed",Db=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),pc=["style","variant","weight","size","lineHeight","family"],Qh=function(r){var t=r.match(Db);if(!t)return null;for(var e={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},n=0,o=pc.length;n<o;++n){var i=t[n+1];i!==void 0&&(e[pc[n]]=i)}return e.families=e.family.split(/,\s?/),e};function ed(r){return r===1?"":String(Math.round(r*100)/100)}function yt(r,t,e,n){var o;return e&&e.length?o=e.shift():Ea?o=new OffscreenCanvas(r||300,t||300):o=document.createElement("canvas"),r&&(o.width=r),t&&(o.height=t),o.getContext("2d",n)}function Gb(r){var t=r.offsetWidth,e=getComputedStyle(r);return t+=parseInt(e.marginLeft,10)+parseInt(e.marginRight,10),t}function jb(r){var t=r.offsetHeight,e=getComputedStyle(r);return t+=parseInt(e.marginTop,10)+parseInt(e.marginBottom,10),t}function gc(r,t){var e=t.parentNode;e&&e.replaceChild(r,t)}function Vi(r){return r&&r.parentNode?r.parentNode.removeChild(r):null}function td(r){for(;r.lastChild;)r.removeChild(r.lastChild)}function zb(r,t){for(var e=r.childNodes,n=0;;++n){var o=e[n],i=t[n];if(!o&&!i)break;if(o!==i){if(!o){r.appendChild(i);continue}if(!i){r.removeChild(o),--n;continue}r.insertBefore(i,o)}}}var nd="10px sans-serif",on="#000",qi="round",Go=[],jo=0,$r="round",zo=10,Yo="#000",Uo="center",Zi="middle",Zn=[0,0,0,0],Xo=1,Vt=new Lt,Yb=new qr;Yb.setSize=function(){console.warn("labelCache is deprecated.")};var Ir=null,Ns,Ds={},Ub=function(){var r=100,t="32px ",e=["monospace","serif"],n=e.length,o="wmytzilWMYTZIL@#/&?$%10\uF013",i,a;function s(l,c,u){for(var h=!0,d=0;d<n;++d){var p=e[d];if(a=Ji(l+" "+c+" "+t+p,o),u!=p){var g=Ji(l+" "+c+" "+t+u+","+p,o);h=h&&g!=a}}return!!h}function f(){for(var l=!0,c=Vt.getKeys(),u=0,h=c.length;u<h;++u){var d=c[u];Vt.get(d)<r&&(s.apply(this,d.split(`
`))?(Qo(Ds),Ir=null,Ns=void 0,Vt.set(d,r)):(Vt.set(d,Vt.get(d)+1,!0),l=!1))}l&&(clearInterval(i),i=void 0)}return function(l){var c=Qh(l);if(!!c)for(var u=c.families,h=0,d=u.length;h<d;++h){var p=u[h],g=c.style+`
`+c.weight+`
`+p;Vt.get(g)===void 0&&(Vt.set(g,r,!0),s(c.style,c.weight,p)||(Vt.set(g,0,!0),i===void 0&&(i=setInterval(f,32))))}}}(),Xb=function(){var r;return function(t){var e=Ds[t];if(e==null){if(Ea){var n=Qh(t),o=rd(t,"\u017Dg"),i=isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight);e=i*(o.actualBoundingBoxAscent+o.actualBoundingBoxDescent)}else r||(r=document.createElement("div"),r.innerHTML="M",r.style.minHeight="0",r.style.maxHeight="none",r.style.height="auto",r.style.padding="0",r.style.border="none",r.style.position="absolute",r.style.display="block",r.style.left="-99999px"),r.style.font=t,document.body.appendChild(r),e=r.offsetHeight,document.body.removeChild(r);Ds[t]=e}return e}}();function rd(r,t){return Ir||(Ir=yt(1,1)),r!=Ns&&(Ir.font=r,Ns=Ir.font),Ir.measureText(t)}function Ji(r,t){return rd(r,t).width}function vc(r,t,e){if(t in e)return e[t];var n=Ji(r,t);return e[t]=n,n}function Bb(r,t){for(var e=[],n=[],o=[],i=0,a=0,s=0,f=0,l=0,c=t.length;l<=c;l+=2){var u=t[l];if(u===`
`||l===c){i=Math.max(i,a),o.push(a),a=0,s+=f;continue}var h=t[l+1]||r.font,d=Ji(h,u);e.push(d),a+=d;var p=Xb(h);n.push(p),f=Math.max(f,p)}return{width:i,height:s,widths:e,heights:n,lineWidths:o}}function Wb(r,t,e,n,o,i,a,s,f,l,c){r.save(),e!==1&&(r.globalAlpha*=e),t&&r.setTransform.apply(r,t),n.contextInstructions?(r.translate(f,l),r.scale(c[0],c[1]),$b(n,r)):c[0]<0||c[1]<0?(r.translate(f,l),r.scale(c[0],c[1]),r.drawImage(n,o,i,a,s,0,0,a,s)):r.drawImage(n,o,i,a,s,f,l,a*c[0],s*c[1]),r.restore()}function $b(r,t){for(var e=r.contextInstructions,n=0,o=e.length;n<o;n+=2)Array.isArray(e[n+1])?t[e[n]].apply(t,e[n+1]):t[e[n]]=e[n+1]}var Kb=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hb=function(r){Kb(t,r);function t(e){var n=r.call(this,e)||this;n.fontChangeListenerKey_=he(Vt,Br.PROPERTYCHANGE,e.redrawText.bind(e)),n.element_=document.createElement("div");var o=n.element_.style;o.position="absolute",o.width="100%",o.height="100%",o.zIndex="0",n.element_.className=Ra+" ol-layers";var i=e.getViewport();return i.insertBefore(n.element_,i.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return t.prototype.dispatchRenderEvent=function(e,n){var o=this.getMap();if(o.hasListener(e)){var i=new Jh(e,void 0,n);o.dispatchEvent(i)}},t.prototype.disposeInternal=function(){Te(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),r.prototype.disposeInternal.call(this)},t.prototype.renderFrame=function(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(Ln.PRECOMPOSE,e);var n=e.layerStatesArray.sort(function(d,p){return d.zIndex-p.zIndex}),o=e.viewState;this.children_.length=0;for(var i=[],a=null,s=0,f=n.length;s<f;++s){var l=n[s];e.layerIndex=s;var c=l.layer,u=c.getSourceState();if(!Ki(l,o)||u!=dr.READY&&u!=dr.UNDEFINED){c.unrender();continue}var h=c.render(e,a);!h||(h!==a&&(this.children_.push(h),a=h),"getDeclutter"in c&&i.push(c))}for(var s=i.length-1;s>=0;--s)i[s].renderDeclutter(e);zb(this.element_,this.children_),this.dispatchRenderEvent(Ln.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)},t.prototype.forEachLayerAtPixel=function(e,n,o,i,a){for(var s=n.viewState,f=n.layerStatesArray,l=f.length,c=l-1;c>=0;--c){var u=f[c],h=u.layer;if(h.hasRenderer()&&Ki(u,s)&&a(h)){var d=h.getRenderer(),p=d.getDataAtPixel(e,n,o);if(p){var g=i(h,p);if(g)return g}}}},t}(Lb),Vb=Hb,at={ADD:"add",REMOVE:"remove"},od=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),mc={LENGTH:"length"},vi=function(r){od(t,r);function t(e,n,o){var i=r.call(this,e)||this;return i.element=n,i.index=o,i}return t}(Bt),qb=function(r){od(t,r);function t(e,n){var o=r.call(this)||this;o.on,o.once,o.un;var i=n||{};if(o.unique_=!!i.unique,o.array_=e||[],o.unique_)for(var a=0,s=o.array_.length;a<s;++a)o.assertUnique_(o.array_[a],a);return o.updateLength_(),o}return t.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},t.prototype.extend=function(e){for(var n=0,o=e.length;n<o;++n)this.push(e[n]);return this},t.prototype.forEach=function(e){for(var n=this.array_,o=0,i=n.length;o<i;++o)e(n[o],o,n)},t.prototype.getArray=function(){return this.array_},t.prototype.item=function(e){return this.array_[e]},t.prototype.getLength=function(){return this.get(mc.LENGTH)},t.prototype.insertAt=function(e,n){this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new vi(at.ADD,n,e))},t.prototype.pop=function(){return this.removeAt(this.getLength()-1)},t.prototype.push=function(e){this.unique_&&this.assertUnique_(e);var n=this.getLength();return this.insertAt(n,e),this.getLength()},t.prototype.remove=function(e){for(var n=this.array_,o=0,i=n.length;o<i;++o)if(n[o]===e)return this.removeAt(o)},t.prototype.removeAt=function(e){var n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new vi(at.REMOVE,n,e)),n},t.prototype.setAt=function(e,n){var o=this.getLength();if(e<o){this.unique_&&this.assertUnique_(n,e);var i=this.array_[e];this.array_[e]=n,this.dispatchEvent(new vi(at.REMOVE,i,e)),this.dispatchEvent(new vi(at.ADD,n,e))}else{for(var a=o;a<e;++a)this.insertAt(a,void 0);this.insertAt(e,n)}},t.prototype.updateLength_=function(){this.set(mc.LENGTH,this.array_.length)},t.prototype.assertUnique_=function(e,n){for(var o=0,i=this.array_.length;o<i;++o)if(this.array_[o]===e&&o!==n)throw new jh(58)},t}(Lt),_t=qb,id=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Cn=function(r){id(t,r);function t(e,n){var o=r.call(this,e)||this;return o.layer=n,o}return t}(Bt),qa={LAYERS:"layers"},Zb=function(r){id(t,r);function t(e){var n=this,o=e||{},i=Oe({},o);delete i.layers;var a=o.layers;return n=r.call(this,i)||this,n.on,n.once,n.un,n.layersListenerKeys_=[],n.listenerKeys_={},n.addChangeListener(qa.LAYERS,n.handleLayersChanged_),a?Array.isArray(a)?a=new _t(a.slice(),{unique:!0}):le(typeof a.getArray=="function",43):a=new _t(void 0,{unique:!0}),n.setLayers(a),n}return t.prototype.handleLayerChange_=function(){this.changed()},t.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(Te),this.layersListenerKeys_.length=0;var e=this.getLayers();this.layersListenerKeys_.push(he(e,at.ADD,this.handleLayersAdd_,this),he(e,at.REMOVE,this.handleLayersRemove_,this));for(var n in this.listenerKeys_)this.listenerKeys_[n].forEach(Te);Qo(this.listenerKeys_);for(var o=e.getArray(),i=0,a=o.length;i<a;i++){var s=o[i];this.registerLayerListeners_(s),this.dispatchEvent(new Cn("addlayer",s))}this.changed()},t.prototype.registerLayerListeners_=function(e){var n=[he(e,Br.PROPERTYCHANGE,this.handleLayerChange_,this),he(e,re.CHANGE,this.handleLayerChange_,this)];e instanceof t&&n.push(he(e,"addlayer",this.handleLayerGroupAdd_,this),he(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[be(e)]=n},t.prototype.handleLayerGroupAdd_=function(e){this.dispatchEvent(new Cn("addlayer",e.layer))},t.prototype.handleLayerGroupRemove_=function(e){this.dispatchEvent(new Cn("removelayer",e.layer))},t.prototype.handleLayersAdd_=function(e){var n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new Cn("addlayer",n)),this.changed()},t.prototype.handleLayersRemove_=function(e){var n=e.element,o=be(n);this.listenerKeys_[o].forEach(Te),delete this.listenerKeys_[o],this.dispatchEvent(new Cn("removelayer",n)),this.changed()},t.prototype.getLayers=function(){return this.get(qa.LAYERS)},t.prototype.setLayers=function(e){var n=this.getLayers();if(n)for(var o=n.getArray(),i=0,a=o.length;i<a;++i)this.dispatchEvent(new Cn("removelayer",o[i]));this.set(qa.LAYERS,e)},t.prototype.getLayersArray=function(e){var n=e!==void 0?e:[];return this.getLayers().forEach(function(o){o.getLayersArray(n)}),n},t.prototype.getLayerStatesArray=function(e){var n=e!==void 0?e:[],o=n.length;this.getLayers().forEach(function(c){c.getLayerStatesArray(n)});var i=this.getLayerState(),a=i.zIndex;!e&&i.zIndex===void 0&&(a=0);for(var s=o,f=n.length;s<f;s++){var l=n[s];l.opacity*=i.opacity,l.visible=l.visible&&i.visible,l.maxResolution=Math.min(l.maxResolution,i.maxResolution),l.minResolution=Math.max(l.minResolution,i.minResolution),l.minZoom=Math.max(l.minZoom,i.minZoom),l.maxZoom=Math.min(l.maxZoom,i.maxZoom),i.extent!==void 0&&(l.extent!==void 0?l.extent=Oo(l.extent,i.extent):l.extent=i.extent),l.zIndex===void 0&&(l.zIndex=a)}return n},t.prototype.getSourceState=function(){return dr.READY},t}(qh),Sa=Zb,Jb=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Qb=function(r){Jb(t,r);function t(e,n,o){var i=r.call(this,e)||this;return i.map=n,i.frameState=o!==void 0?o:null,i}return t}(Bt),Rr=Qb,e_=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),t_=function(r){e_(t,r);function t(e,n,o,i,a){var s=r.call(this,e,n,a)||this;return s.originalEvent=o,s.pixel_=null,s.coordinate_=null,s.dragging=i!==void 0?i:!1,s}return Object.defineProperty(t.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(e){this.pixel_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(e){this.coordinate_=e},enumerable:!1,configurable:!0}),t.prototype.preventDefault=function(){r.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){r.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},t}(Rr),Zt=t_,ve={SINGLECLICK:"singleclick",CLICK:re.CLICK,DBLCLICK:re.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Gs={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},n_=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),r_=function(r){n_(t,r);function t(e,n){var o=r.call(this,e)||this;o.map_=e,o.clickTimeoutId_,o.emulateClicks_=!1,o.dragging_=!1,o.dragListenerKeys_=[],o.moveTolerance_=n===void 0?1:n,o.down_=null;var i=o.map_.getViewport();return o.activePointers_=0,o.trackedTouches_={},o.element_=i,o.pointerdownListenerKey_=he(i,Gs.POINTERDOWN,o.handlePointerDown_,o),o.originalPointerMoveEvent_,o.relayedListenerKey_=he(i,Gs.POINTERMOVE,o.relayEvent_,o),o.boundHandleTouchMove_=o.handleTouchMove_.bind(o),o.element_.addEventListener(re.TOUCHMOVE,o.boundHandleTouchMove_,Gh?{passive:!1}:!1),o}return t.prototype.emulateClick_=function(e){var n=new Zt(ve.CLICK,this.map_,e);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new Zt(ve.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var o=new Zt(ve.SINGLECLICK,this.map_,e);this.dispatchEvent(o)}.bind(this),250)},t.prototype.updateActivePointers_=function(e){var n=e;n.type==ve.POINTERUP||n.type==ve.POINTERCANCEL?delete this.trackedTouches_[n.pointerId]:n.type==ve.POINTERDOWN&&(this.trackedTouches_[n.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},t.prototype.handlePointerUp_=function(e){this.updateActivePointers_(e);var n=new Zt(ve.POINTERUP,this.map_,e);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_===0&&(this.dragListenerKeys_.forEach(Te),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},t.prototype.isMouseActionButton_=function(e){return e.button===0},t.prototype.handlePointerDown_=function(e){this.emulateClicks_=this.activePointers_===0,this.updateActivePointers_(e);var n=new Zt(ve.POINTERDOWN,this.map_,e);this.dispatchEvent(n),this.down_={};for(var o in e){var i=e[o];this.down_[o]=typeof i=="function"?ur:i}if(this.dragListenerKeys_.length===0){var a=this.map_.getOwnerDocument();this.dragListenerKeys_.push(he(a,ve.POINTERMOVE,this.handlePointerMove_,this),he(a,ve.POINTERUP,this.handlePointerUp_,this),he(this.element_,ve.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==a&&this.dragListenerKeys_.push(he(this.element_.getRootNode(),ve.POINTERUP,this.handlePointerUp_,this))}},t.prototype.handlePointerMove_=function(e){if(this.isMoving_(e)){this.dragging_=!0;var n=new Zt(ve.POINTERDRAG,this.map_,e,this.dragging_);this.dispatchEvent(n)}},t.prototype.relayEvent_=function(e){this.originalPointerMoveEvent_=e;var n=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new Zt(e.type,this.map_,e,n))},t.prototype.handleTouchMove_=function(e){var n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()},t.prototype.isMoving_=function(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_},t.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Te(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(re.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Te(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Te),this.dragListenerKeys_.length=0,this.element_=null,r.prototype.disposeInternal.call(this)},t}(qr),o_=r_,Jt={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Ke={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Qi=1/0,i_=function(){function r(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return r.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Qo(this.queuedElements_)},r.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];t.length==1?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var o=this.keyFunction_(n);return delete this.queuedElements_[o],n},r.prototype.enqueue=function(t){le(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=Qi?(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},r.prototype.getCount=function(){return this.elements_.length},r.prototype.getLeftChildIndex_=function(t){return t*2+1},r.prototype.getRightChildIndex_=function(t){return t*2+2},r.prototype.getParentIndex_=function(t){return t-1>>1},r.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},r.prototype.isEmpty=function(){return this.elements_.length===0},r.prototype.isKeyQueued=function(t){return t in this.queuedElements_},r.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},r.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,o=e.length,i=e[t],a=n[t],s=t;t<o>>1;){var f=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),c=l<o&&n[l]<n[f]?l:f;e[t]=e[c],n[t]=n[c],t=c}e[t]=i,n[t]=a,this.siftDown_(s,t)},r.prototype.siftDown_=function(t,e){for(var n=this.elements_,o=this.priorities_,i=n[e],a=o[e];e>t;){var s=this.getParentIndex_(e);if(o[s]>a)n[e]=n[s],o[e]=o[s],e=s;else break}n[e]=i,o[e]=a},r.prototype.reprioritize=function(){var t=this.priorityFunction_,e=this.elements_,n=this.priorities_,o=0,i=e.length,a,s,f;for(s=0;s<i;++s)a=e[s],f=t(a),f==Qi?delete this.queuedElements_[this.keyFunction_(a)]:(n[o]=f,e[o++]=a);e.length=o,n.length=o,this.heapify_()},r}(),a_=i_,Q={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},s_=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),f_=function(r){s_(t,r);function t(e,n){var o=r.call(this,function(i){return e.apply(null,i)},function(i){return i[0].getKey()})||this;return o.boundHandleTileChange_=o.handleTileChange.bind(o),o.tileChangeCallback_=n,o.tilesLoading_=0,o.tilesLoadingKeys_={},o}return t.prototype.enqueue=function(e){var n=r.prototype.enqueue.call(this,e);if(n){var o=e[0];o.addEventListener(re.CHANGE,this.boundHandleTileChange_)}return n},t.prototype.getTilesLoading=function(){return this.tilesLoading_},t.prototype.handleTileChange=function(e){var n=e.target,o=n.getState();if(o===Q.LOADED||o===Q.ERROR||o===Q.EMPTY){n.removeEventListener(re.CHANGE,this.boundHandleTileChange_);var i=n.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},t.prototype.loadMoreTiles=function(e,n){for(var o=0,i,a,s;this.tilesLoading_<e&&o<n&&this.getCount()>0;)a=this.dequeue()[0],s=a.getKey(),i=a.getState(),i===Q.IDLE&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++o,a.load())},t}(a_),l_=f_;function c_(r,t,e,n,o){if(!r||!(e in r.wantedTiles)||!r.wantedTiles[e][t.getKey()])return Qi;var i=r.viewState.center,a=n[0]-i[0],s=n[1]-i[1];return 65536*Math.log(o)+Math.sqrt(a*a+s*s)/o}var R={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},Zr={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Xt={};Xt[Zr.RADIANS]=6370997/(2*Math.PI);Xt[Zr.DEGREES]=2*Math.PI*6370997/360;Xt[Zr.FEET]=.3048;Xt[Zr.METERS]=1;Xt[Zr.USFEET]=1200/3937;var an=Zr,He={ANIMATING:0,INTERACTING:1},wt={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},u_=42,Xf=256,h_=function(){function r(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return r.prototype.canWrapX=function(){return this.canWrapX_},r.prototype.getCode=function(){return this.code_},r.prototype.getExtent=function(){return this.extent_},r.prototype.getUnits=function(){return this.units_},r.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Xt[this.units_]},r.prototype.getWorldExtent=function(){return this.worldExtent_},r.prototype.getAxisOrientation=function(){return this.axisOrientation_},r.prototype.isGlobal=function(){return this.global_},r.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)},r.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},r.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},r.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)},r.prototype.setWorldExtent=function(t){this.worldExtent_=t},r.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},r.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},r}(),ad=h_,d_=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ti=6378137,Ar=Math.PI*ti,p_=[-Ar,-Ar,Ar,Ar],g_=[-180,-85,180,85],mi=ti*Math.log(Math.tan(Math.PI/2)),wr=function(r){d_(t,r);function t(e){return r.call(this,{code:e,units:an.METERS,extent:p_,global:!0,worldExtent:g_,getPointResolution:function(n,o){return n/sb(o[1]/ti)}})||this}return t}(ad),bc=[new wr("EPSG:3857"),new wr("EPSG:102100"),new wr("EPSG:102113"),new wr("EPSG:900913"),new wr("http://www.opengis.net/def/crs/EPSG/0/3857"),new wr("http://www.opengis.net/gml/srs/epsg.xml#3857")];function v_(r,t,e){var n=r.length,o=e>1?e:2,i=t;i===void 0&&(o>2?i=r.slice():i=new Array(n));for(var a=0;a<n;a+=o){i[a]=Ar*r[a]/180;var s=ti*Math.log(Math.tan(Math.PI*(+r[a+1]+90)/360));s>mi?s=mi:s<-mi&&(s=-mi),i[a+1]=s}return i}function m_(r,t,e){var n=r.length,o=e>1?e:2,i=t;i===void 0&&(o>2?i=r.slice():i=new Array(n));for(var a=0;a<n;a+=o)i[a]=180*r[a]/Ar,i[a+1]=360*Math.atan(Math.exp(r[a+1]/ti))/Math.PI-90;return i}var b_=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),__=6378137,_c=[-180,-90,180,90],y_=Math.PI*__/180,Xn=function(r){b_(t,r);function t(e,n){return r.call(this,{code:e,units:an.DEGREES,extent:_c,axisOrientation:n,global:!0,metersPerUnit:y_,worldExtent:_c})||this}return t}(ad),yc=[new Xn("CRS:84"),new Xn("EPSG:4326","neu"),new Xn("urn:ogc:def:crs:OGC:1.3:CRS84"),new Xn("urn:ogc:def:crs:OGC:2:84"),new Xn("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Xn("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Xn("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],js={};function w_(r){return js[r]||js[r.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function x_(r,t){js[r]=t}var Gr={};function ea(r,t,e){var n=r.getCode(),o=t.getCode();n in Gr||(Gr[n]={}),Gr[n][o]=e}function E_(r,t){var e;return r in Gr&&t in Gr[r]&&(e=Gr[r][t]),e}var Bf=63710088e-1;function zs(r,t,e){var n=e||Bf,o=ar(r[1]),i=ar(t[1]),a=(i-o)/2,s=ar(t[0]-r[0])/2,f=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(o)*Math.cos(i);return 2*n*Math.atan2(Math.sqrt(f),Math.sqrt(1-f))}function Za(r,t){for(var e=0,n=0,o=r.length;n<o-1;++n)e+=zs(r[n],r[n+1],t);return e}function sd(r,t){var e=t||{},n=e.radius||Bf,o=e.projection||"EPSG:3857",i=r.getType();i!==R.GEOMETRY_COLLECTION&&(r=r.clone().transform(o,"EPSG:4326"));var a=0,s,f,l,c,u,h;switch(i){case R.POINT:case R.MULTI_POINT:break;case R.LINE_STRING:case R.LINEAR_RING:{s=r.getCoordinates(),a=Za(s,n);break}case R.MULTI_LINE_STRING:case R.POLYGON:{for(s=r.getCoordinates(),l=0,c=s.length;l<c;++l)a+=Za(s[l],n);break}case R.MULTI_POLYGON:{for(s=r.getCoordinates(),l=0,c=s.length;l<c;++l)for(f=s[l],u=0,h=f.length;u<h;++u)a+=Za(f[u],n);break}case R.GEOMETRY_COLLECTION:{var d=r.getGeometries();for(l=0,c=d.length;l<c;++l)a+=sd(d[l],t);break}default:throw new Error("Unsupported geometry type: "+i)}return a}function bi(r,t){for(var e=0,n=r.length,o=r[n-1][0],i=r[n-1][1],a=0;a<n;a++){var s=r[a][0],f=r[a][1];e+=ar(s-o)*(2+Math.sin(ar(i))+Math.sin(ar(f))),o=s,i=f}return e*t*t/2}function fd(r,t){var e=t||{},n=e.radius||Bf,o=e.projection||"EPSG:3857",i=r.getType();i!==R.GEOMETRY_COLLECTION&&(r=r.clone().transform(o,"EPSG:4326"));var a=0,s,f,l,c,u,h;switch(i){case R.POINT:case R.MULTI_POINT:case R.LINE_STRING:case R.MULTI_LINE_STRING:case R.LINEAR_RING:break;case R.POLYGON:{for(s=r.getCoordinates(),a=Math.abs(bi(s[0],n)),l=1,c=s.length;l<c;++l)a-=Math.abs(bi(s[l],n));break}case R.MULTI_POLYGON:{for(s=r.getCoordinates(),l=0,c=s.length;l<c;++l)for(f=s[l],a+=Math.abs(bi(f[0],n)),u=1,h=f.length;u<h;++u)a-=Math.abs(bi(f[u],n));break}case R.GEOMETRY_COLLECTION:{var d=r.getGeometries();for(l=0,c=d.length;l<c;++l)a+=fd(d[l],t);break}default:throw new Error("Unsupported geometry type: "+i)}return a}var Ys=!0;function ld(r){var t=r===void 0?!0:r;Ys=!t}function Wf(r,t,e){var n;if(t!==void 0){for(var o=0,i=r.length;o<i;++o)t[o]=r[o];n=t}else n=r.slice();return n}function cd(r,t,e){if(t!==void 0&&r!==t){for(var n=0,o=r.length;n<o;++n)t[n]=r[n];r=t}return r}function T_(r){x_(r.getCode(),r),ea(r,r,Wf)}function C_(r){r.forEach(T_)}function Ge(r){return typeof r=="string"?w_(r):r||null}function wc(r,t,e,n){r=Ge(r);var o,i=r.getPointResolutionFunc();if(i){if(o=i(t,e),n&&n!==r.getUnits()){var a=r.getMetersPerUnit();a&&(o=o*a/Xt[n])}}else{var s=r.getUnits();if(s==an.DEGREES&&!n||n==an.DEGREES)o=t;else{var f=Kf(r,Ge("EPSG:4326"));if(f===cd&&s!==an.DEGREES)o=t*r.getMetersPerUnit();else{var l=[e[0]-t/2,e[1],e[0]+t/2,e[1],e[0],e[1]-t/2,e[0],e[1]+t/2];l=f(l,l,2);var c=zs(l.slice(0,2),l.slice(2,4)),u=zs(l.slice(4,6),l.slice(6,8));o=(c+u)/2}var a=n?Xt[n]:r.getMetersPerUnit();a!==void 0&&(o/=a)}}return o}function xc(r){C_(r),r.forEach(function(t){r.forEach(function(e){t!==e&&ea(t,e,Wf)})})}function O_(r,t,e,n){r.forEach(function(o){t.forEach(function(i){ea(o,i,e),ea(i,o,n)})})}function $f(r,t){return r?typeof r=="string"?Ge(r):r:Ge(t)}function I_(r,t){return ld(),Hf(r,"EPSG:4326",t!==void 0?t:"EPSG:3857")}function Hn(r,t){if(r===t)return!0;var e=r.getUnits()===t.getUnits();if(r.getCode()===t.getCode())return e;var n=Kf(r,t);return n===Wf&&e}function Kf(r,t){var e=r.getCode(),n=t.getCode(),o=E_(e,n);return o||(o=cd),o}function Bo(r,t){var e=Ge(r),n=Ge(t);return Kf(e,n)}function Hf(r,t,e){var n=Bo(t,e);return n(r,void 0,r.length)}function R_(r,t,e,n){var o=Bo(t,e);return ib(r,o,void 0,n)}var S_=null;function P_(){return S_}function Us(r,t){return r}function Et(r,t){return Ys&&!Hi(r,[0,0])&&r[0]>=-180&&r[0]<=180&&r[1]>=-90&&r[1]<=90&&(Ys=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),r}function ud(r,t){return r}function Jn(r,t){return r}function k_(){xc(bc),xc(yc),O_(yc,bc,v_,m_)}k_();function Ec(r,t,e){return function(n,o,i,a,s){if(!!n){if(!o&&!t)return n;var f=t?0:i[0]*o,l=t?0:i[1]*o,c=s?s[0]:0,u=s?s[1]:0,h=r[0]+f/2+c,d=r[2]-f/2+c,p=r[1]+l/2+u,g=r[3]-l/2+u;h>d&&(h=(d+h)/2,d=h),p>g&&(p=(g+p)/2,g=p);var m=De(n[0],h,d),v=De(n[1],p,g);if(a&&e&&o){var _=30*o;m+=-_*Math.log(1+Math.max(0,h-n[0])/_)+_*Math.log(1+Math.max(0,n[0]-d)/_),v+=-_*Math.log(1+Math.max(0,p-n[1])/_)+_*Math.log(1+Math.max(0,n[1]-g)/_)}return[m,v]}}}function A_(r){return r}function Vf(r,t,e,n){var o=Pe(t)/e[0],i=At(t)/e[1];return n?Math.min(r,Math.max(o,i)):Math.min(r,Math.min(o,i))}function qf(r,t,e){var n=Math.min(r,t),o=50;return n*=Math.log(1+o*Math.max(0,r/t-1))/o+1,e&&(n=Math.max(n,e),n/=Math.log(1+o*Math.max(0,e/r-1))/o+1),De(n,e/2,t*2)}function L_(r,t,e,n){return function(o,i,a,s){if(o!==void 0){var f=r[0],l=r[r.length-1],c=e?Vf(f,e,a,n):f;if(s){var u=t!==void 0?t:!0;return u?qf(o,c,l):De(o,l,c)}var h=Math.min(c,o),d=Math.floor(Nf(r,h,i));return r[d]>c&&d<r.length-1?r[d+1]:r[d]}else return}}function M_(r,t,e,n,o,i){return function(a,s,f,l){if(a!==void 0){var c=o?Vf(t,o,f,i):t,u=e!==void 0?e:0;if(l){var h=n!==void 0?n:!0;return h?qf(a,c,u):De(a,u,c)}var d=1e-9,p=Math.ceil(Math.log(t/c)/Math.log(r)-d),g=-s*(.5-d)+.5,m=Math.min(c,a),v=Math.floor(Math.log(t/m)/Math.log(r)+g),_=Math.max(p,v),y=t/Math.pow(r,_);return De(y,u,c)}else return}}function Tc(r,t,e,n,o){return function(i,a,s,f){if(i!==void 0){var l=n?Vf(r,n,s,o):r,c=e!==void 0?e:!0;return!c||!f?De(i,t,l):qf(i,l,t)}else return}}function Zf(r){if(r!==void 0)return 0}function Cc(r){if(r!==void 0)return r}function F_(r){var t=2*Math.PI/r;return function(e,n){if(n)return e;if(e!==void 0)return e=Math.floor(e/t+.5)*t,e}}function N_(r){var t=r||ar(5);return function(e,n){if(n)return e;if(e!==void 0)return Math.abs(e)<=t?0:e}}function hd(r){return Math.pow(r,3)}function Jr(r){return 1-hd(1-r)}function D_(r){return 3*r*r-2*r*r*r}function G_(r){return r}var Fe={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};function fr(r,t,e,n,o,i){for(var a=i||[],s=0,f=t;f<e;f+=n){var l=r[f],c=r[f+1];a[s++]=o[0]*l+o[2]*c+o[4],a[s++]=o[1]*l+o[3]*c+o[5]}return i&&a.length!=s&&(a.length=s),a}function Jf(r,t,e,n,o,i,a){for(var s=a||[],f=Math.cos(o),l=Math.sin(o),c=i[0],u=i[1],h=0,d=t;d<e;d+=n){var p=r[d]-c,g=r[d+1]-u;s[h++]=c+p*f-g*l,s[h++]=u+p*l+g*f;for(var m=d+2;m<d+n;++m)s[h++]=r[m]}return a&&s.length!=h&&(s.length=h),s}function j_(r,t,e,n,o,i,a,s){for(var f=s||[],l=a[0],c=a[1],u=0,h=t;h<e;h+=n){var d=r[h]-l,p=r[h+1]-c;f[u++]=l+o*d,f[u++]=c+i*p;for(var g=h+2;g<h+n;++g)f[u++]=r[g]}return s&&f.length!=u&&(f.length=u),f}function dd(r,t,e,n,o,i,a){for(var s=a||[],f=0,l=t;l<e;l+=n){s[f++]=r[l]+o,s[f++]=r[l+1]+i;for(var c=l+2;c<l+n;++c)s[f++]=r[c]}return a&&s.length!=f&&(s.length=f),s}var z_=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Oc=Yt(),Y_=function(r){z_(t,r);function t(){var e=r.call(this)||this;return e.extent_=pt(),e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=jm(function(n,o,i){if(!i)return this.getSimplifiedGeometry(o);var a=this.clone();return a.applyTransform(i),a.getSimplifiedGeometry(o)}),e}return t.prototype.simplifyTransformed=function(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)},t.prototype.clone=function(){return Z()},t.prototype.closestPointXY=function(e,n,o,i){return Z()},t.prototype.containsXY=function(e,n){var o=this.getClosestPoint([e,n]);return o[0]===e&&o[1]===n},t.prototype.getClosestPoint=function(e,n){var o=n||[NaN,NaN];return this.closestPointXY(e[0],e[1],o,1/0),o},t.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])},t.prototype.computeExtent=function(e){return Z()},t.prototype.getExtent=function(e){if(this.extentRevision_!=this.getRevision()){var n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&Jo(n),this.extentRevision_=this.getRevision()}return rb(this.extent_,e)},t.prototype.rotate=function(e,n){Z()},t.prototype.scale=function(e,n,o){Z()},t.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)},t.prototype.getSimplifiedGeometry=function(e){return Z()},t.prototype.getType=function(){return Z()},t.prototype.applyTransform=function(e){Z()},t.prototype.intersectsExtent=function(e){return Z()},t.prototype.translate=function(e,n){Z()},t.prototype.transform=function(e,n){var o=Ge(e),i=o.getUnits()==an.TILE_PIXELS?function(a,s,f){var l=o.getExtent(),c=o.getWorldExtent(),u=At(c)/At(l);return ln(Oc,c[0],c[3],u,-u,0,0,0),fr(a,0,a.length,f,Oc,s),Bo(o,n)(a,s,f)}:Bo(o,n);return this.applyTransform(i),this},t}(Lt),pd=Y_,U_=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),X_=function(r){U_(t,r);function t(){var e=r.call(this)||this;return e.layout=Fe.XY,e.stride=2,e.flatCoordinates=null,e}return t.prototype.computeExtent=function(e){return Uh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.getCoordinates=function(){return Z()},t.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.getFlatCoordinates=function(){return this.flatCoordinates},t.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},t.prototype.getLayout=function(){return this.layout},t.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var n=this.getSimplifiedGeometryInternal(e),o=n.getFlatCoordinates();return o.length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)},t.prototype.getSimplifiedGeometryInternal=function(e){return this},t.prototype.getStride=function(){return this.stride},t.prototype.setFlatCoordinates=function(e,n){this.stride=Ic(e),this.layout=e,this.flatCoordinates=n},t.prototype.setCoordinates=function(e,n){Z()},t.prototype.setLayout=function(e,n,o){var i;if(e)i=Ic(e);else{for(var a=0;a<o;++a)if(n.length===0){this.layout=Fe.XY,this.stride=2;return}else n=n[0];i=n.length,e=B_(i)}this.layout=e,this.stride=i},t.prototype.applyTransform=function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},t.prototype.rotate=function(e,n){var o=this.getFlatCoordinates();if(o){var i=this.getStride();Jf(o,0,o.length,i,e,n,o),this.changed()}},t.prototype.scale=function(e,n,o){var i=n;i===void 0&&(i=e);var a=o;a||(a=hr(this.getExtent()));var s=this.getFlatCoordinates();if(s){var f=this.getStride();j_(s,0,s.length,f,e,i,a,s),this.changed()}},t.prototype.translate=function(e,n){var o=this.getFlatCoordinates();if(o){var i=this.getStride();dd(o,0,o.length,i,e,n,o),this.changed()}},t}(pd);function B_(r){var t;return r==2?t=Fe.XY:r==3?t=Fe.XYZ:r==4&&(t=Fe.XYZM),t}function Ic(r){var t;return r==Fe.XY?t=2:r==Fe.XYZ||r==Fe.XYM?t=3:r==Fe.XYZM&&(t=4),t}function W_(r,t,e){var n=r.getFlatCoordinates();if(n){var o=r.getStride();return fr(n,0,n.length,o,t,e)}else return null}var jn=X_;function Rc(r,t,e,n,o,i,a){var s=r[t],f=r[t+1],l=r[e]-s,c=r[e+1]-f,u;if(l===0&&c===0)u=t;else{var h=((o-s)*l+(i-f)*c)/(l*l+c*c);if(h>1)u=e;else if(h>0){for(var d=0;d<n;++d)a[d]=Qt(r[t+d],r[e+d],h);a.length=n;return}else u=t}for(var d=0;d<n;++d)a[d]=r[u+d];a.length=n}function Qf(r,t,e,n,o){var i=r[t],a=r[t+1];for(t+=n;t<e;t+=n){var s=r[t],f=r[t+1],l=ir(i,a,s,f);l>o&&(o=l),i=s,a=f}return o}function el(r,t,e,n,o){for(var i=0,a=e.length;i<a;++i){var s=e[i];o=Qf(r,t,s,n,o),t=s}return o}function $_(r,t,e,n,o){for(var i=0,a=e.length;i<a;++i){var s=e[i];o=el(r,t,s,n,o),t=s[s.length-1]}return o}function tl(r,t,e,n,o,i,a,s,f,l,c){if(t==e)return l;var u,h;if(o===0)if(h=ir(a,s,r[t],r[t+1]),h<l){for(u=0;u<n;++u)f[u]=r[t+u];return f.length=n,h}else return l;for(var d=c||[NaN,NaN],p=t+n;p<e;)if(Rc(r,p-n,p,n,a,s,d),h=ir(a,s,d[0],d[1]),h<l){for(l=h,u=0;u<n;++u)f[u]=d[u];f.length=n,p+=n}else p+=n*Math.max((Math.sqrt(h)-Math.sqrt(l))/o|0,1);if(i&&(Rc(r,e-n,t,n,a,s,d),h=ir(a,s,d[0],d[1]),h<l)){for(l=h,u=0;u<n;++u)f[u]=d[u];f.length=n}return l}function nl(r,t,e,n,o,i,a,s,f,l,c){for(var u=c||[NaN,NaN],h=0,d=e.length;h<d;++h){var p=e[h];l=tl(r,t,p,n,o,i,a,s,f,l,u),t=p}return l}function K_(r,t,e,n,o,i,a,s,f,l,c){for(var u=c||[NaN,NaN],h=0,d=e.length;h<d;++h){var p=e[h];l=nl(r,t,p,n,o,i,a,s,f,l,u),t=p[p.length-1]}return l}function gd(r,t,e,n){for(var o=0,i=e.length;o<i;++o)r[t++]=e[o];return t}function Pa(r,t,e,n){for(var o=0,i=e.length;o<i;++o)for(var a=e[o],s=0;s<n;++s)r[t++]=a[s];return t}function rl(r,t,e,n,o){for(var i=o||[],a=0,s=0,f=e.length;s<f;++s){var l=Pa(r,t,e[s],n);i[a++]=l,t=l}return i.length=a,i}function H_(r,t,e,n,o){for(var i=o||[],a=0,s=0,f=e.length;s<f;++s){var l=rl(r,t,e[s],n,i[a]);i[a++]=l,t=l[l.length-1]}return i.length=a,i}function ol(r,t,e,n,o,i,a){var s=(e-t)/n;if(s<3){for(;t<e;t+=n)i[a++]=r[t],i[a++]=r[t+1];return a}var f=new Array(s);f[0]=1,f[s-1]=1;for(var l=[t,e-n],c=0;l.length>0;){for(var u=l.pop(),h=l.pop(),d=0,p=r[h],g=r[h+1],m=r[u],v=r[u+1],_=h+n;_<u;_+=n){var y=r[_],x=r[_+1],E=lb(y,x,p,g,m,v);E>d&&(c=_,d=E)}d>o&&(f[(c-t)/n]=1,h+n<c&&l.push(h,c),c+n<u&&l.push(c,u))}for(var _=0;_<s;++_)f[_]&&(i[a++]=r[t+_*n],i[a++]=r[t+_*n+1]);return a}function V_(r,t,e,n,o,i,a,s){for(var f=0,l=e.length;f<l;++f){var c=e[f];a=ol(r,t,c,n,o,i,a),s.push(a),t=c}return a}function $n(r,t){return t*Math.round(r/t)}function q_(r,t,e,n,o,i,a){if(t==e)return a;var s=$n(r[t],o),f=$n(r[t+1],o);t+=n,i[a++]=s,i[a++]=f;var l,c;do if(l=$n(r[t],o),c=$n(r[t+1],o),t+=n,t==e)return i[a++]=l,i[a++]=c,a;while(l==s&&c==f);for(;t<e;){var u=$n(r[t],o),h=$n(r[t+1],o);if(t+=n,!(u==l&&h==c)){var d=l-s,p=c-f,g=u-s,m=h-f;if(d*m==p*g&&(d<0&&g<d||d==g||d>0&&g>d)&&(p<0&&m<p||p==m||p>0&&m>p)){l=u,c=h;continue}i[a++]=l,i[a++]=c,s=l,f=c,l=u,c=h}}return i[a++]=l,i[a++]=c,a}function vd(r,t,e,n,o,i,a,s){for(var f=0,l=e.length;f<l;++f){var c=e[f];a=q_(r,t,c,n,o,i,a),s.push(a),t=c}return a}function Z_(r,t,e,n,o,i,a,s){for(var f=0,l=e.length;f<l;++f){var c=e[f],u=[];a=vd(r,t,c,n,o,i,a,u),s.push(u),t=c[c.length-1]}return a}function Rn(r,t,e,n,o){for(var i=o!==void 0?o:[],a=0,s=t;s<e;s+=n)i[a++]=r.slice(s,s+n);return i.length=a,i}function Wo(r,t,e,n,o){for(var i=o!==void 0?o:[],a=0,s=0,f=e.length;s<f;++s){var l=e[s];i[a++]=Rn(r,t,l,n,i[a]),t=l}return i.length=a,i}function Xs(r,t,e,n,o){for(var i=o!==void 0?o:[],a=0,s=0,f=e.length;s<f;++s){var l=e[s];i[a++]=Wo(r,t,l,n,i[a]),t=l[l.length-1]}return i.length=a,i}function md(r,t,e,n){for(var o=0,i=r[e-n],a=r[e-n+1];t<e;t+=n){var s=r[t],f=r[t+1];o+=a*s-i*f,i=s,a=f}return o/2}function bd(r,t,e,n){for(var o=0,i=0,a=e.length;i<a;++i){var s=e[i];o+=md(r,t,s,n),t=s}return o}function J_(r,t,e,n){for(var o=0,i=0,a=e.length;i<a;++i){var s=e[i];o+=bd(r,t,s,n),t=s[s.length-1]}return o}var Q_=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ey=function(r){Q_(t,r);function t(e,n){var o=r.call(this)||this;return o.maxDelta_=-1,o.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?o.setFlatCoordinates(n,e):o.setCoordinates(e,n),o}return t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(e,n,o,i){return i<br(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Qf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),tl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,o,i))},t.prototype.getArea=function(){return md(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinates=function(){return Rn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getSimplifiedGeometryInternal=function(e){var n=[];return n.length=ol(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new t(n,Fe.XY)},t.prototype.getType=function(){return R.LINEAR_RING},t.prototype.intersectsExtent=function(e){return!1},t.prototype.setCoordinates=function(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Pa(this.flatCoordinates,0,e,this.stride),this.changed()},t}(jn),Sc=ey,ty=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ny=function(r){ty(t,r);function t(e,n){var o=r.call(this)||this;return o.setCoordinates(e,n),o}return t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,n,o,i){var a=this.flatCoordinates,s=ir(e,n,a[0],a[1]);if(s<i){for(var f=this.stride,l=0;l<f;++l)o[l]=a[l];return o.length=f,s}else return i},t.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},t.prototype.computeExtent=function(e){return eb(this.flatCoordinates,e)},t.prototype.getType=function(){return R.POINT},t.prototype.intersectsExtent=function(e){return Gf(e,this.flatCoordinates[0],this.flatCoordinates[1])},t.prototype.setCoordinates=function(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=gd(this.flatCoordinates,0,e,this.stride),this.changed()},t}(jn),lr=ny;function ry(r,t,e,n,o){var i=jf(o,function(a){return!Qn(r,t,e,n,a[0],a[1])});return!i}function Qn(r,t,e,n,o,i){for(var a=0,s=r[e-n],f=r[e-n+1];t<e;t+=n){var l=r[t],c=r[t+1];f<=i?c>i&&(l-s)*(i-f)-(o-s)*(c-f)>0&&a++:c<=i&&(l-s)*(i-f)-(o-s)*(c-f)<0&&a--,s=l,f=c}return a!==0}function il(r,t,e,n,o,i){if(e.length===0||!Qn(r,t,e[0],n,o,i))return!1;for(var a=1,s=e.length;a<s;++a)if(Qn(r,e[a-1],e[a],n,o,i))return!1;return!0}function oy(r,t,e,n,o,i){if(e.length===0)return!1;for(var a=0,s=e.length;a<s;++a){var f=e[a];if(il(r,t,f,n,o,i))return!0;t=f[f.length-1]}return!1}function _d(r,t,e,n,o,i,a){for(var s,f,l,c,u,h,d,p=o[i+1],g=[],m=0,v=e.length;m<v;++m){var _=e[m];for(c=r[_-n],h=r[_-n+1],s=t;s<_;s+=n)u=r[s],d=r[s+1],(p<=h&&d<=p||h<=p&&p<=d)&&(l=(p-h)/(d-h)*(u-c)+c,g.push(l)),c=u,h=d}var y=NaN,x=-1/0;for(g.sort(cr),c=g[0],s=1,f=g.length;s<f;++s){u=g[s];var E=Math.abs(u-c);E>x&&(l=(c+u)/2,il(r,t,e,n,l,p)&&(y=l,x=E)),c=u}return isNaN(y)&&(y=o[i]),a?(a.push(y,p,x),a):[y,p,x]}function iy(r,t,e,n,o){for(var i=[],a=0,s=e.length;a<s;++a){var f=e[a];i=_d(r,t,f,n,o,2*a,i),t=f[f.length-1]}return i}function yd(r,t,e,n,o){var i;for(t+=n;t<e;t+=n)if(i=o(r.slice(t-n,t),r.slice(t,t+n)),i)return i;return!1}function ka(r,t,e,n,o){var i=Bh(pt(),r,t,e,n);return Je(o,i)?qn(o,i)||i[0]>=o[0]&&i[2]<=o[2]||i[1]>=o[1]&&i[3]<=o[3]?!0:yd(r,t,e,n,function(a,s){return ob(o,a,s)}):!1}function ay(r,t,e,n,o){for(var i=0,a=e.length;i<a;++i){if(ka(r,t,e[i],n,o))return!0;t=e[i]}return!1}function sy(r,t,e,n,o){return!!(ka(r,t,e,n,o)||Qn(r,t,e,n,o[0],o[1])||Qn(r,t,e,n,o[0],o[3])||Qn(r,t,e,n,o[2],o[1])||Qn(r,t,e,n,o[2],o[3]))}function wd(r,t,e,n,o){if(!sy(r,t,e[0],n,o))return!1;if(e.length===1)return!0;for(var i=1,a=e.length;i<a;++i)if(ry(r,e[i-1],e[i],n,o)&&!ka(r,e[i-1],e[i],n,o))return!1;return!0}function fy(r,t,e,n,o){for(var i=0,a=e.length;i<a;++i){var s=e[i];if(wd(r,t,s,n,o))return!0;t=s[s.length-1]}return!1}function ly(r,t,e,n){for(;t<e-n;){for(var o=0;o<n;++o){var i=r[t+o];r[t+o]=r[e-n+o],r[e-n+o]=i}t+=n,e-=n}}function xd(r,t,e,n){for(var o=0,i=r[e-n],a=r[e-n+1];t<e;t+=n){var s=r[t],f=r[t+1];o+=(s-i)*(f+a),i=s,a=f}return o===0?void 0:o>0}function Ed(r,t,e,n,o){for(var i=o!==void 0?o:!1,a=0,s=e.length;a<s;++a){var f=e[a],l=xd(r,t,f,n);if(a===0){if(i&&l||!i&&!l)return!1}else if(i&&!l||!i&&l)return!1;t=f}return!0}function cy(r,t,e,n,o){for(var i=0,a=e.length;i<a;++i){var s=e[i];if(!Ed(r,t,s,n,o))return!1;s.length&&(t=s[s.length-1])}return!0}function Bs(r,t,e,n,o){for(var i=o!==void 0?o:!1,a=0,s=e.length;a<s;++a){var f=e[a],l=xd(r,t,f,n),c=a===0?i&&l||!i&&!l:i&&!l||!i&&l;c&&ly(r,t,f,n),t=f}return t}function Pc(r,t,e,n,o){for(var i=0,a=e.length;i<a;++i)t=Bs(r,t,e[i],n,o);return t}var uy=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Td=function(r){uy(t,r);function t(e,n,o){var i=r.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,n!==void 0&&o?(i.setFlatCoordinates(n,e),i.ends_=o):i.setCoordinates(e,n),i}return t.prototype.appendLinearRing=function(e){this.flatCoordinates?rn(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,n,o,i){return i<br(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(el(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),nl(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,o,i))},t.prototype.containsXY=function(e,n){return il(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)},t.prototype.getArea=function(){return bd(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},t.prototype.getCoordinates=function(e){var n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),Bs(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,Wo(n,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=hr(this.getExtent());this.flatInteriorPoint_=_d(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},t.prototype.getInteriorPoint=function(){return new lr(this.getFlatInteriorPoint(),Fe.XYM)},t.prototype.getLinearRingCount=function(){return this.ends_.length},t.prototype.getLinearRing=function(e){return e<0||this.ends_.length<=e?null:new Sc(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)},t.prototype.getLinearRings=function(){for(var e=this.layout,n=this.flatCoordinates,o=this.ends_,i=[],a=0,s=0,f=o.length;s<f;++s){var l=o[s],c=new Sc(n.slice(a,l),e);i.push(c),a=l}return i},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;Ed(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Bs(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(e){var n=[],o=[];return n.length=vd(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,o),new t(n,Fe.XY,o)},t.prototype.getType=function(){return R.POLYGON},t.prototype.intersectsExtent=function(e){return wd(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)},t.prototype.setCoordinates=function(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var o=rl(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=o.length===0?0:o[o.length-1],this.changed()},t}(jn),pr=Td;function kc(r){var t=r[0],e=r[1],n=r[2],o=r[3],i=[t,e,t,o,n,o,n,e,t,e];return new Td(i,Fe.XY,[i.length])}var hy=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ja=0,dy=function(r){hy(t,r);function t(e){var n=r.call(this)||this;n.on,n.once,n.un;var o=Oe({},e);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=$f(o.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.targetResolution_,n.targetRotation_,n.nextCenter_=null,n.nextResolution_,n.nextRotation_,n.cancelAnchor_=void 0,o.projection&&ld(),o.center&&(o.center=Et(o.center,n.projection_)),o.extent&&(o.extent=Jn(o.extent,n.projection_)),n.applyOptions_(o),n}return t.prototype.applyOptions_=function(e){var n=Oe({},e);for(var o in wt)delete n[o];this.setProperties(n,!0);var i=gy(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;var a=py(e),s=i.constraint,f=vy(e);this.constraints_={center:a,resolution:s,rotation:f},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)},Object.defineProperty(t.prototype,"padding",{get:function(){return this.padding_},set:function(e){var n=this.padding_;this.padding_=e;var o=this.getCenter();if(o){var i=e||[0,0,0,0];n=n||[0,0,0,0];var a=this.getResolution(),s=a/2*(i[3]-n[3]+n[1]-i[1]),f=a/2*(i[0]-n[0]+n[2]-i[2]);this.setCenterInternal([o[0]+s,o[1]-f])}},enumerable:!1,configurable:!0}),t.prototype.getUpdatedOptions_=function(e){var n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Oe({},n,e)},t.prototype.animate=function(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var n=new Array(arguments.length),o=0;o<n.length;++o){var i=arguments[o];i.center&&(i=Oe({},i),i.center=Et(i.center,this.getProjection())),i.anchor&&(i=Oe({},i),i.anchor=Et(i.anchor,this.getProjection())),n[o]=i}this.animateInternal.apply(this,n)},t.prototype.animateInternal=function(e){var n=arguments.length,o;n>1&&typeof arguments[n-1]=="function"&&(o=arguments[n-1],--n);for(var i=0;i<n&&!this.isDef();++i){var a=arguments[i];a.center&&this.setCenterInternal(a.center),a.zoom!==void 0?this.setZoom(a.zoom):a.resolution&&this.setResolution(a.resolution),a.rotation!==void 0&&this.setRotation(a.rotation)}if(i===n){o&&_i(o,!0);return}for(var s=Date.now(),f=this.targetCenter_.slice(),l=this.targetResolution_,c=this.targetRotation_,u=[];i<n;++i){var h=arguments[i],d={start:s,complete:!1,anchor:h.anchor,duration:h.duration!==void 0?h.duration:1e3,easing:h.easing||D_,callback:o};if(h.center&&(d.sourceCenter=f,d.targetCenter=h.center.slice(),f=d.targetCenter),h.zoom!==void 0?(d.sourceResolution=l,d.targetResolution=this.getResolutionForZoom(h.zoom),l=d.targetResolution):h.resolution&&(d.sourceResolution=l,d.targetResolution=h.resolution,l=d.targetResolution),h.rotation!==void 0){d.sourceRotation=c;var p=sr(h.rotation-c+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=c+p,c=d.targetRotation}my(d)?d.complete=!0:s+=d.duration,u.push(d)}this.animations_.push(u),this.setHint(He.ANIMATING,1),this.updateAnimations_()},t.prototype.getAnimating=function(){return this.hints_[He.ANIMATING]>0},t.prototype.getInteracting=function(){return this.hints_[He.INTERACTING]>0},t.prototype.cancelAnimations=function(){this.setHint(He.ANIMATING,-this.hints_[He.ANIMATING]);for(var e,n=0,o=this.animations_.length;n<o;++n){var i=this.animations_[n];if(i[0].callback&&_i(i[0].callback,!1),!e)for(var a=0,s=i.length;a<s;++a){var f=i[a];if(!f.complete){e=f.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},t.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var e=Date.now(),n=!1,o=this.animations_.length-1;o>=0;--o){for(var i=this.animations_[o],a=!0,s=0,f=i.length;s<f;++s){var l=i[s];if(!l.complete){var c=e-l.start,u=l.duration>0?c/l.duration:1;u>=1?(l.complete=!0,u=1):a=!1;var h=l.easing(u);if(l.sourceCenter){var d=l.sourceCenter[0],p=l.sourceCenter[1],g=l.targetCenter[0],m=l.targetCenter[1];this.nextCenter_=l.targetCenter;var v=d+h*(g-d),_=p+h*(m-p);this.targetCenter_=[v,_]}if(l.sourceResolution&&l.targetResolution){var y=h===1?l.targetResolution:l.sourceResolution+h*(l.targetResolution-l.sourceResolution);if(l.anchor){var x=this.getViewportSize_(this.getRotation()),E=this.constraints_.resolution(y,0,x,!0);this.targetCenter_=this.calculateCenterZoom(E,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=y,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){var P=h===1?sr(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+h*(l.targetRotation-l.sourceRotation);if(l.anchor){var C=this.constraints_.rotation(P,!0);this.targetCenter_=this.calculateCenterRotate(C,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=P}if(this.applyTargetState_(!0),n=!0,!l.complete)break}}if(a){this.animations_[o]=null,this.setHint(He.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var O=i[0].callback;O&&_i(O,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},t.prototype.calculateCenterRotate=function(e,n){var o,i=this.getCenterInternal();return i!==void 0&&(o=[i[0]-n[0],i[1]-n[1]],Yf(o,e-this.getRotation()),Ob(o,n)),o},t.prototype.calculateCenterZoom=function(e,n){var o,i=this.getCenterInternal(),a=this.getResolution();if(i!==void 0&&a!==void 0){var s=n[0]-e*(n[0]-i[0])/a,f=n[1]-e*(n[1]-i[1])/a;o=[s,f]}return o},t.prototype.getViewportSize_=function(e){var n=this.viewportSize_;if(e){var o=n[0],i=n[1];return[Math.abs(o*Math.cos(e))+Math.abs(i*Math.sin(e)),Math.abs(o*Math.sin(e))+Math.abs(i*Math.cos(e))]}else return n},t.prototype.setViewportSize=function(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},t.prototype.getCenter=function(){var e=this.getCenterInternal();return e&&Us(e,this.getProjection())},t.prototype.getCenterInternal=function(){return this.get(wt.CENTER)},t.prototype.getConstraints=function(){return this.constraints_},t.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},t.prototype.getHints=function(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()},t.prototype.calculateExtent=function(e){var n=this.calculateExtentInternal(e);return ud(n,this.getProjection())},t.prototype.calculateExtentInternal=function(e){var n=e||this.getViewportSizeMinusPadding_(),o=this.getCenterInternal();le(o,1);var i=this.getResolution();le(i!==void 0,2);var a=this.getRotation();return le(a!==void 0,3),Ms(o,i,a,n)},t.prototype.getMaxResolution=function(){return this.maxResolution_},t.prototype.getMinResolution=function(){return this.minResolution_},t.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},t.prototype.setMaxZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))},t.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},t.prototype.setMinZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))},t.prototype.setConstrainResolution=function(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))},t.prototype.getProjection=function(){return this.projection_},t.prototype.getResolution=function(){return this.get(wt.RESOLUTION)},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getResolutionForExtent=function(e,n){return this.getResolutionForExtentInternal(Jn(e,this.getProjection()),n)},t.prototype.getResolutionForExtentInternal=function(e,n){var o=n||this.getViewportSizeMinusPadding_(),i=Pe(e)/o[0],a=At(e)/o[1];return Math.max(i,a)},t.prototype.getResolutionForValueFunction=function(e){var n=e||2,o=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,a=Math.log(o/i)/Math.log(n);return function(s){var f=o/Math.pow(n,s*a);return f}},t.prototype.getRotation=function(){return this.get(wt.ROTATION)},t.prototype.getValueForResolutionFunction=function(e){var n=Math.log(e||2),o=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,a=Math.log(o/i)/n;return function(s){var f=Math.log(o/s)/n/a;return f}},t.prototype.getViewportSizeMinusPadding_=function(e){var n=this.getViewportSize_(e),o=this.padding_;return o&&(n=[n[0]-o[1]-o[3],n[1]-o[0]-o[2]]),n},t.prototype.getState=function(){var e=this.getProjection(),n=this.getResolution(),o=this.getRotation(),i=this.getCenterInternal(),a=this.padding_;if(a){var s=this.getViewportSizeMinusPadding_();i=Qa(i,this.getViewportSize_(),[s[0]/2+a[3],s[1]/2+a[0]],n,o)}return{center:i.slice(0),projection:e!==void 0?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:o,zoom:this.getZoom()}},t.prototype.getZoom=function(){var e,n=this.getResolution();return n!==void 0&&(e=this.getZoomForResolution(n)),e},t.prototype.getZoomForResolution=function(e){var n=this.minZoom_||0,o,i;if(this.resolutions_){var a=Nf(this.resolutions_,e,1);n=a,o=this.resolutions_[a],a==this.resolutions_.length-1?i=2:i=o/this.resolutions_[a+1]}else o=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(o/e)/Math.log(i)},t.prototype.getResolutionForZoom=function(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var n=De(Math.floor(e),0,this.resolutions_.length-2),o=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(o,De(e-n,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)},t.prototype.fit=function(e,n){var o;if(le(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function",24),Array.isArray(e)){le(!zf(e),25);var i=Jn(e,this.getProjection());o=kc(i)}else if(e.getType()===R.CIRCLE){var i=Jn(e.getExtent(),this.getProjection());o=kc(i),o.rotate(this.getRotation(),hr(i))}else{var a=P_();a?o=e.clone().transform(a,this.getProjection()):o=e}this.fitInternal(o,n)},t.prototype.rotatedExtentForGeometry=function(e){for(var n=this.getRotation(),o=Math.cos(n),i=Math.sin(-n),a=e.getFlatCoordinates(),s=e.getStride(),f=1/0,l=1/0,c=-1/0,u=-1/0,h=0,d=a.length;h<d;h+=s){var p=a[h]*o-a[h+1]*i,g=a[h]*i+a[h+1]*o;f=Math.min(f,p),l=Math.min(l,g),c=Math.max(c,p),u=Math.max(u,g)}return[f,l,c,u]},t.prototype.fitInternal=function(e,n){var o=n||{},i=o.size;i||(i=this.getViewportSizeMinusPadding_());var a=o.padding!==void 0?o.padding:[0,0,0,0],s=o.nearest!==void 0?o.nearest:!1,f;o.minResolution!==void 0?f=o.minResolution:o.maxZoom!==void 0?f=this.getResolutionForZoom(o.maxZoom):f=0;var l=this.rotatedExtentForGeometry(e),c=this.getResolutionForExtentInternal(l,[i[0]-a[1]-a[3],i[1]-a[0]-a[2]]);c=isNaN(c)?f:Math.max(c,f),c=this.getConstrainedResolution(c,s?0:1);var u=this.getRotation(),h=Math.sin(u),d=Math.cos(u),p=hr(l);p[0]+=(a[1]-a[3])/2*c,p[1]+=(a[0]-a[2])/2*c;var g=p[0]*d-p[1]*h,m=p[1]*d+p[0]*h,v=this.getConstrainedCenter([g,m],c),_=o.callback?o.callback:ur;o.duration!==void 0?this.animateInternal({resolution:c,center:v,duration:o.duration,easing:o.easing},_):(this.targetResolution_=c,this.targetCenter_=v,this.applyTargetState_(!1,!0),_i(_,!0))},t.prototype.centerOn=function(e,n,o){this.centerOnInternal(Et(e,this.getProjection()),n,o)},t.prototype.centerOnInternal=function(e,n,o){this.setCenterInternal(Qa(e,n,o,this.getResolution(),this.getRotation()))},t.prototype.calculateCenterShift=function(e,n,o,i){var a,s=this.padding_;if(s&&e){var f=this.getViewportSizeMinusPadding_(-o),l=Qa(e,i,[f[0]/2+s[3],f[1]/2+s[0]],n,o);a=[e[0]-l[0],e[1]-l[1]]}return a},t.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},t.prototype.adjustCenter=function(e){var n=Us(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])},t.prototype.adjustCenterInternal=function(e){var n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])},t.prototype.adjustResolution=function(e,n){var o=n&&Et(n,this.getProjection());this.adjustResolutionInternal(e,o)},t.prototype.adjustResolutionInternal=function(e,n){var o=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),a=this.constraints_.resolution(this.targetResolution_*e,0,i,o);n&&(this.targetCenter_=this.calculateCenterZoom(a,n)),this.targetResolution_*=e,this.applyTargetState_()},t.prototype.adjustZoom=function(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)},t.prototype.adjustRotation=function(e,n){n&&(n=Et(n,this.getProjection())),this.adjustRotationInternal(e,n)},t.prototype.adjustRotationInternal=function(e,n){var o=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+e,o);n&&(this.targetCenter_=this.calculateCenterRotate(i,n)),this.targetRotation_+=e,this.applyTargetState_()},t.prototype.setCenter=function(e){this.setCenterInternal(e&&Et(e,this.getProjection()))},t.prototype.setCenterInternal=function(e){this.targetCenter_=e,this.applyTargetState_()},t.prototype.setHint=function(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]},t.prototype.setResolution=function(e){this.targetResolution_=e,this.applyTargetState_()},t.prototype.setRotation=function(e){this.targetRotation_=e,this.applyTargetState_()},t.prototype.setZoom=function(e){this.setResolution(this.getResolutionForZoom(e))},t.prototype.applyTargetState_=function(e,n){var o=this.getAnimating()||this.getInteracting()||n,i=this.constraints_.rotation(this.targetRotation_,o),a=this.getViewportSize_(i),s=this.constraints_.resolution(this.targetResolution_,0,a,o),f=this.constraints_.center(this.targetCenter_,s,a,o,this.calculateCenterShift(this.targetCenter_,s,i,a));this.get(wt.ROTATION)!==i&&this.set(wt.ROTATION,i),this.get(wt.RESOLUTION)!==s&&(this.set(wt.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!f||!this.get(wt.CENTER)||!Hi(this.get(wt.CENTER),f))&&this.set(wt.CENTER,f),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0},t.prototype.resolveConstraints=function(e,n,o){var i=e!==void 0?e:200,a=n||0,s=this.constraints_.rotation(this.targetRotation_),f=this.getViewportSize_(s),l=this.constraints_.resolution(this.targetResolution_,a,f),c=this.constraints_.center(this.targetCenter_,l,f,!1,this.calculateCenterShift(this.targetCenter_,l,s,f));if(i===0&&!this.cancelAnchor_){this.targetResolution_=l,this.targetRotation_=s,this.targetCenter_=c,this.applyTargetState_();return}var u=o||(i===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==l||this.getRotation()!==s||!this.getCenterInternal()||!Hi(this.getCenterInternal(),c))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:c,resolution:l,duration:i,easing:Jr,anchor:u}))},t.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(He.INTERACTING,1)},t.prototype.endInteraction=function(e,n,o){var i=o&&Et(o,this.getProjection());this.endInteractionInternal(e,n,i)},t.prototype.endInteractionInternal=function(e,n,o){this.setHint(He.INTERACTING,-1),this.resolveConstraints(e,n,o)},t.prototype.getConstrainedCenter=function(e,n){var o=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),o)},t.prototype.getConstrainedZoom=function(e,n){var o=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(o,n))},t.prototype.getConstrainedResolution=function(e,n){var o=n||0,i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,o,i)},t}(Lt);function _i(r,t){setTimeout(function(){r(t)},0)}function py(r){if(r.extent!==void 0){var t=r.smoothExtentConstraint!==void 0?r.smoothExtentConstraint:!0;return Ec(r.extent,r.constrainOnlyCenter,t)}var e=$f(r.projection,"EPSG:3857");if(r.multiWorld!==!0&&e.isGlobal()){var n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,Ec(n,!1,!1)}return A_}function gy(r){var t,e,n,o=28,i=2,a=r.minZoom!==void 0?r.minZoom:Ja,s=r.maxZoom!==void 0?r.maxZoom:o,f=r.zoomFactor!==void 0?r.zoomFactor:i,l=r.multiWorld!==void 0?r.multiWorld:!1,c=r.smoothResolutionConstraint!==void 0?r.smoothResolutionConstraint:!0,u=r.showFullExtent!==void 0?r.showFullExtent:!1,h=$f(r.projection,"EPSG:3857"),d=h.getExtent(),p=r.constrainOnlyCenter,g=r.extent;if(!l&&!g&&h.isGlobal()&&(p=!1,g=d),r.resolutions!==void 0){var m=r.resolutions;e=m[a],n=m[s]!==void 0?m[s]:m[m.length-1],r.constrainResolution?t=L_(m,c,!p&&g,u):t=Tc(e,n,c,!p&&g,u)}else{var v=d?Math.max(Pe(d),At(d)):360*Xt[an.DEGREES]/h.getMetersPerUnit(),_=v/Xf/Math.pow(i,Ja),y=_/Math.pow(i,o-Ja);e=r.maxResolution,e!==void 0?a=0:e=_/Math.pow(f,a),n=r.minResolution,n===void 0&&(r.maxZoom!==void 0?r.maxResolution!==void 0?n=e/Math.pow(f,s):n=_/Math.pow(f,s):n=y),s=a+Math.floor(Math.log(e/n)/Math.log(f)),n=e/Math.pow(f,s-a),r.constrainResolution?t=M_(f,e,n,c,!p&&g,u):t=Tc(e,n,c,!p&&g,u)}return{constraint:t,maxResolution:e,minResolution:n,minZoom:a,zoomFactor:f}}function vy(r){var t=r.enableRotation!==void 0?r.enableRotation:!0;if(t){var e=r.constrainRotation;return e===void 0||e===!0?N_():e===!1?Cc:typeof e=="number"?F_(e):Cc}else return Zf}function my(r){return!(r.sourceCenter&&r.targetCenter&&!Hi(r.sourceCenter,r.targetCenter)||r.sourceResolution!==r.targetResolution||r.sourceRotation!==r.targetRotation)}function Qa(r,t,e,n,o){var i=Math.cos(-o),a=Math.sin(-o),s=r[0]*i-r[1]*a,f=r[1]*i+r[0]*a;s+=(t[0]/2-e[0])*n,f+=(e[1]-t[1]/2)*n,a=-a;var l=s*i-f*a,c=f*i+s*a;return[l,c]}var In=dy;function Ac(r,t,e){return e===void 0&&(e=[0,0]),e[0]=r[0]+2*t,e[1]=r[1]+2*t,e}function Lc(r){return r[0]>0&&r[1]>0}function Cd(r,t,e){return e===void 0&&(e=[0,0]),e[0]=r[0]*t+.5|0,e[1]=r[1]*t+.5|0,e}function ht(r,t){return Array.isArray(r)?r:(t===void 0?t=[r,r]:(t[0]=r,t[1]=r),t)}var by=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();function Od(r){if(r instanceof Ia){r.setMapInternal(null);return}r instanceof Sa&&r.getLayers().forEach(Od)}function Id(r,t){if(r instanceof Ia){r.setMapInternal(t);return}if(r instanceof Sa)for(var e=r.getLayers().getArray(),n=0,o=e.length;n<o;++n)Id(e[n],t)}var _y=function(r){by(t,r);function t(e){var n=r.call(this)||this;n.on,n.once,n.un;var o=yy(e);n.renderComplete_,n.loaded_=!0,n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,n.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:Dh,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=Yt(),n.pixelToCoordinateTransform_=Yt(),n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=e.moveTolerance,n.keyboardEventTarget_=o.keyboardEventTarget,n.targetChangeHandlerKeys_=null,n.controls=o.controls||new _t,n.interactions=o.interactions||new _t,n.overlays_=o.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new l_(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addChangeListener(Ke.LAYERGROUP,n.handleLayerGroupChanged_),n.addChangeListener(Ke.VIEW,n.handleViewChanged_),n.addChangeListener(Ke.SIZE,n.handleSizeChanged_),n.addChangeListener(Ke.TARGET,n.handleTargetChanged_),n.setProperties(o.values);var i=n;return e.view&&!(e.view instanceof In)&&e.view.then(function(a){i.setView(new In(a))}),n.controls.addEventListener(at.ADD,function(a){a.element.setMap(this)}.bind(n)),n.controls.addEventListener(at.REMOVE,function(a){a.element.setMap(null)}.bind(n)),n.interactions.addEventListener(at.ADD,function(a){a.element.setMap(this)}.bind(n)),n.interactions.addEventListener(at.REMOVE,function(a){a.element.setMap(null)}.bind(n)),n.overlays_.addEventListener(at.ADD,function(a){this.addOverlayInternal_(a.element)}.bind(n)),n.overlays_.addEventListener(at.REMOVE,function(a){var s=a.element,f=s.getId();f!==void 0&&delete this.overlayIdIndex_[f.toString()],a.element.setMap(null)}.bind(n)),n.controls.forEach(function(a){a.setMap(this)}.bind(n)),n.interactions.forEach(function(a){a.setMap(this)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n}return t.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},t.prototype.addControl=function(e){this.getControls().push(e)},t.prototype.addInteraction=function(e){this.getInteractions().push(e)},t.prototype.addLayer=function(e){var n=this.getLayerGroup().getLayers();n.push(e)},t.prototype.handleLayerAdd_=function(e){Id(e.layer,this)},t.prototype.addOverlay=function(e){this.getOverlays().push(e)},t.prototype.addOverlayInternal_=function(e){var n=e.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)},t.prototype.disposeInternal=function(){this.setTarget(null),r.prototype.disposeInternal.call(this)},t.prototype.forEachFeatureAtPixel=function(e,n,o){if(!(!this.frameState_||!this.renderer_)){var i=this.getCoordinateFromPixelInternal(e);o=o!==void 0?o:{};var a=o.hitTolerance!==void 0?o.hitTolerance:0,s=o.layerFilter!==void 0?o.layerFilter:or,f=o.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,a,f,n,null,s,null)}},t.prototype.getFeaturesAtPixel=function(e,n){var o=[];return this.forEachFeatureAtPixel(e,function(i){o.push(i)},n),o},t.prototype.getAllLayers=function(){var e=[];function n(o){o.forEach(function(i){i instanceof Sa?n(i.getLayers()):e.push(i)})}return n(this.getLayers()),e},t.prototype.forEachLayerAtPixel=function(e,n,o){if(!(!this.frameState_||!this.renderer_)){var i=o||{},a=i.hitTolerance!==void 0?i.hitTolerance:0,s=i.layerFilter||or;return this.renderer_.forEachLayerAtPixel(e,this.frameState_,a,n,s)}},t.prototype.hasFeatureAtPixel=function(e,n){if(!this.frameState_||!this.renderer_)return!1;var o=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};var i=n.layerFilter!==void 0?n.layerFilter:or,a=n.hitTolerance!==void 0?n.hitTolerance:0,s=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(o,this.frameState_,a,s,i,null)},t.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))},t.prototype.getEventCoordinateInternal=function(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))},t.prototype.getEventPixel=function(e){var n=this.viewport_.getBoundingClientRect(),o="changedTouches"in e?e.changedTouches[0]:e;return[o.clientX-n.left,o.clientY-n.top]},t.prototype.getTarget=function(){return this.get(Ke.TARGET)},t.prototype.getTargetElement=function(){var e=this.getTarget();return e!==void 0?typeof e=="string"?document.getElementById(e):e:null},t.prototype.getCoordinateFromPixel=function(e){return Us(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())},t.prototype.getCoordinateFromPixelInternal=function(e){var n=this.frameState_;return n?Ne(n.pixelToCoordinateTransform,e.slice()):null},t.prototype.getControls=function(){return this.controls},t.prototype.getOverlays=function(){return this.overlays_},t.prototype.getOverlayById=function(e){var n=this.overlayIdIndex_[e.toString()];return n!==void 0?n:null},t.prototype.getInteractions=function(){return this.interactions},t.prototype.getLayerGroup=function(){return this.get(Ke.LAYERGROUP)},t.prototype.setLayers=function(e){var n=this.getLayerGroup();if(e instanceof _t){n.setLayers(e);return}var o=n.getLayers();o.clear(),o.extend(e)},t.prototype.getLayers=function(){var e=this.getLayerGroup().getLayers();return e},t.prototype.getLoadingOrNotReady=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),n=0,o=e.length;n<o;++n){var i=e[n];if(!!i.visible){var a=i.layer.getRenderer();if(a&&!a.ready)return!0;var s=i.layer.getSource();if(s&&s.loading)return!0}}return!1},t.prototype.getPixelFromCoordinate=function(e){var n=Et(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)},t.prototype.getPixelFromCoordinateInternal=function(e){var n=this.frameState_;return n?Ne(n.coordinateToPixelTransform,e.slice(0,2)):null},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.getSize=function(){return this.get(Ke.SIZE)},t.prototype.getView=function(){return this.get(Ke.VIEW)},t.prototype.getViewport=function(){return this.viewport_},t.prototype.getOverlayContainer=function(){return this.overlayContainer_},t.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},t.prototype.getOwnerDocument=function(){var e=this.getTargetElement();return e?e.ownerDocument:document},t.prototype.getTilePriority=function(e,n,o,i){return c_(this.frameState_,e,n,o,i)},t.prototype.handleBrowserEvent=function(e,n){var o=n||e.type,i=new Zt(o,this,e);this.handleMapBrowserEvent(i)},t.prototype.handleMapBrowserEvent=function(e){if(!!this.frameState_){var n=e.originalEvent,o=n.type;if(o===Gs.POINTERDOWN||o===re.WHEEL||o===re.KEYDOWN){var i=this.getOwnerDocument(),a=this.viewport_.getRootNode?this.viewport_.getRootNode():i,s=n.target;if(this.overlayContainerStopEvent_.contains(s)||!(a===i?i.documentElement:a).contains(s))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1)for(var f=this.getInteractions().getArray().slice(),l=f.length-1;l>=0;l--){var c=f[l];if(!(c.getMap()!==this||!c.getActive()||!this.getTargetElement())){var u=c.handleEvent(e);if(!u||e.propagationStopped)break}}}},t.prototype.handlePostRender=function(){var e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){var o=this.maxTilesLoading_,i=o;if(e){var a=e.viewHints;if(a[He.ANIMATING]||a[He.INTERACTING]){var s=Date.now()-e.time>8;o=s?0:8,i=s?0:2}}n.getTilesLoading()<o&&(n.reprioritize(),n.loadMoreTiles(o,i))}e&&this.renderer_&&!e.animate&&(this.renderComplete_===!0?(this.hasListener(Ln.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Ln.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Rr(Jt.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Rr(Jt.LOADSTART,this,e))));for(var f=this.postRenderFunctions_,l=0,c=f.length;l<c;++l)f[l](this,e);f.length=0},t.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},t.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var e=0,n=this.targetChangeHandlerKeys_.length;e<n;++e)Te(this.targetChangeHandlerKeys_[e]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(re.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(re.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Vi(this.viewport_)}var o=this.getTargetElement();if(!o)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{o.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new o_(this,this.moveTolerance_);for(var i in ve)this.mapBrowserEventHandler_.addEventListener(ve[i],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(re.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(re.WHEEL,this.boundHandleBrowserEvent_,Gh?{passive:!1}:!1);var a=this.getOwnerDocument().defaultView,s=this.keyboardEventTarget_?this.keyboardEventTarget_:o;this.targetChangeHandlerKeys_=[he(s,re.KEYDOWN,this.handleBrowserEvent,this),he(s,re.KEYPRESS,this.handleBrowserEvent,this),he(a,re.RESIZE,this.updateSize,this)]}this.updateSize()},t.prototype.handleTileChange_=function(){this.render()},t.prototype.handleViewPropertyChanged_=function(){this.render()},t.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Te(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Te(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=he(e,Br.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=he(e,re.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()},t.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Te),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Cn("addlayer",e)),this.layerGroupPropertyListenerKeys_=[he(e,Br.PROPERTYCHANGE,this.render,this),he(e,re.CHANGE,this.render,this),he(e,"addlayer",this.handleLayerAdd_,this),he(e,"removelayer",this.handleLayerRemove_,this)]),this.render()},t.prototype.isRendered=function(){return!!this.frameState_},t.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},t.prototype.redrawText=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),n=0,o=e.length;n<o;++n){var i=e[n].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}},t.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},t.prototype.removeControl=function(e){return this.getControls().remove(e)},t.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)},t.prototype.removeLayer=function(e){var n=this.getLayerGroup().getLayers();return n.remove(e)},t.prototype.handleLayerRemove_=function(e){Od(e.layer)},t.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)},t.prototype.renderFrame_=function(e){var n=this,o=this.getSize(),i=this.getView(),a=this.frameState_,s=null;if(o!==void 0&&Lc(o)&&i&&i.isDef()){var f=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=i.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Ms(l.center,l.resolution,l.rotation,o),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:o,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:l,viewHints:f,wantedTiles:{},mapId:be(this),renderTargets:{}},l.nextCenter&&l.nextResolution){var c=isNaN(l.nextRotation)?l.rotation:l.nextRotation;s.nextExtent=Ms(l.nextCenter,l.nextResolution,c,o)}}if(this.frameState_=s,this.renderer_.renderFrame(s),s){if(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),a){var u=!this.previousExtent_||!zf(this.previousExtent_)&&!Do(s.extent,this.previousExtent_);u&&(this.dispatchEvent(new Rr(Jt.MOVESTART,this,a)),this.previousExtent_=Jo(this.previousExtent_))}var h=this.previousExtent_&&!s.viewHints[He.ANIMATING]&&!s.viewHints[He.INTERACTING]&&!Do(s.extent,this.previousExtent_);h&&(this.dispatchEvent(new Rr(Jt.MOVEEND,this,s)),Yh(s.extent,this.previousExtent_))}this.dispatchEvent(new Rr(Jt.POSTRENDER,this,s)),this.renderComplete_=this.hasListener(Jt.LOADSTART)||this.hasListener(Jt.LOADEND)||this.hasListener(Ln.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){n.postRenderTimeoutHandle_=void 0,n.handlePostRender()},0))},t.prototype.setLayerGroup=function(e){var n=this.getLayerGroup();n&&this.handleLayerRemove_(new Cn("removelayer",n)),this.set(Ke.LAYERGROUP,e)},t.prototype.setSize=function(e){this.set(Ke.SIZE,e)},t.prototype.setTarget=function(e){this.set(Ke.TARGET,e)},t.prototype.setView=function(e){if(!e||e instanceof In){this.set(Ke.VIEW,e);return}this.set(Ke.VIEW,new In);var n=this;e.then(function(o){n.setView(new In(o))})},t.prototype.updateSize=function(){var e=this.getTargetElement(),n=void 0;if(e){var o=getComputedStyle(e),i=e.offsetWidth-parseFloat(o.borderLeftWidth)-parseFloat(o.paddingLeft)-parseFloat(o.paddingRight)-parseFloat(o.borderRightWidth),a=e.offsetHeight-parseFloat(o.borderTopWidth)-parseFloat(o.paddingTop)-parseFloat(o.paddingBottom)-parseFloat(o.borderBottomWidth);!isNaN(i)&&!isNaN(a)&&(n=[i,a],!Lc(n)&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(n),this.updateViewportSize_()},t.prototype.updateViewportSize_=function(){var e=this.getView();if(e){var n=void 0,o=getComputedStyle(this.viewport_);o.width&&o.height&&(n=[parseInt(o.width,10),parseInt(o.height,10)]),e.setViewportSize(n)}},t}(Lt);function yy(r){var t=null;r.keyboardEventTarget!==void 0&&(t=typeof r.keyboardEventTarget=="string"?document.getElementById(r.keyboardEventTarget):r.keyboardEventTarget);var e={},n=r.layers&&typeof r.layers.getLayers=="function"?r.layers:new Sa({layers:r.layers});e[Ke.LAYERGROUP]=n,e[Ke.TARGET]=r.target,e[Ke.VIEW]=r.view instanceof In?r.view:new In;var o;r.controls!==void 0&&(Array.isArray(r.controls)?o=new _t(r.controls.slice()):(le(typeof r.controls.getArray=="function",47),o=r.controls));var i;r.interactions!==void 0&&(Array.isArray(r.interactions)?i=new _t(r.interactions.slice()):(le(typeof r.interactions.getArray=="function",48),i=r.interactions));var a;return r.overlays!==void 0?Array.isArray(r.overlays)?a=new _t(r.overlays.slice()):(le(typeof r.overlays.getArray=="function",49),a=r.overlays):a=new _t,{controls:o,interactions:i,keyboardEventTarget:t,overlays:a,values:e}}var wy=_y,xy=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ey=function(r){xy(t,r);function t(e){var n=r.call(this)||this,o=e.element;return o&&!e.target&&!o.style.pointerEvents&&(o.style.pointerEvents="auto"),n.element=o||null,n.target_=null,n.map_=null,n.listenerKeys=[],e.render&&(n.render=e.render),e.target&&n.setTarget(e.target),n}return t.prototype.disposeInternal=function(){Vi(this.element),r.prototype.disposeInternal.call(this)},t.prototype.getMap=function(){return this.map_},t.prototype.setMap=function(e){this.map_&&Vi(this.element);for(var n=0,o=this.listenerKeys.length;n<o;++n)Te(this.listenerKeys[n]);if(this.listenerKeys.length=0,this.map_=e,e){var i=this.target_?this.target_:e.getOverlayContainerStopEvent();i.appendChild(this.element),this.render!==ur&&this.listenerKeys.push(he(e,Jt.POSTRENDER,this.render,this)),e.render()}},t.prototype.render=function(e){},t.prototype.setTarget=function(e){this.target_=typeof e=="string"?document.getElementById(e):e},t}(Lt),$o=Ey,Ty=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Cy=function(r){Ty(t,r);function t(e){var n=this,o=e||{};n=r.call(this,{element:document.createElement("div"),render:o.render,target:o.target})||this,n.ulElement_=document.createElement("ul"),n.collapsed_=o.collapsed!==void 0?o.collapsed:!0,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=o.collapsible!==void 0,n.collapsible_=o.collapsible!==void 0?o.collapsible:!0,n.collapsible_||(n.collapsed_=!1);var i=o.className!==void 0?o.className:"ol-attribution",a=o.tipLabel!==void 0?o.tipLabel:"Attributions",s=o.expandClassName!==void 0?o.expandClassName:i+"-expand",f=o.collapseLabel!==void 0?o.collapseLabel:"\u203A",l=o.collapseClassName!==void 0?o.collapseClassName:i+"-collapse";typeof f=="string"?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=f,n.collapseLabel_.className=l):n.collapseLabel_=f;var c=o.label!==void 0?o.label:"i";typeof c=="string"?(n.label_=document.createElement("span"),n.label_.textContent=c,n.label_.className=s):n.label_=c;var u=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_;n.toggleButton_=document.createElement("button"),n.toggleButton_.setAttribute("type","button"),n.toggleButton_.setAttribute("aria-expanded",String(!n.collapsed_)),n.toggleButton_.title=a,n.toggleButton_.appendChild(u),n.toggleButton_.addEventListener(re.CLICK,n.handleClick_.bind(n),!1);var h=i+" "+Ra+" "+Uf+(n.collapsed_&&n.collapsible_?" "+dc:"")+(n.collapsible_?"":" ol-uncollapsible"),d=n.element;return d.className=h,d.appendChild(n.toggleButton_),d.appendChild(n.ulElement_),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return t.prototype.collectSourceAttributions_=function(e){for(var n={},o=[],i=!0,a=e.layerStatesArray,s=0,f=a.length;s<f;++s){var l=a[s];if(!!Ki(l,e.viewState)){var c=l.layer.getSource();if(!!c){var u=c.getAttributions();if(!!u){var h=u(e);if(!!h)if(i=i&&c.getAttributionsCollapsible()!==!1,Array.isArray(h))for(var d=0,p=h.length;d<p;++d)h[d]in n||(o.push(h[d]),n[h[d]]=!0);else h in n||(o.push(h),n[h]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(i),o},t.prototype.updateElement_=function(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var n=this.collectSourceAttributions_(e),o=n.length>0;if(this.renderedVisible_!=o&&(this.element.style.display=o?"":"none",this.renderedVisible_=o),!mr(n,this.renderedAttributions_)){td(this.ulElement_);for(var i=0,a=n.length;i<a;++i){var s=document.createElement("li");s.innerHTML=n[i],this.ulElement_.appendChild(s)}this.renderedAttributions_=n}},t.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},t.prototype.handleToggle_=function(){this.element.classList.toggle(dc),this.collapsed_?gc(this.collapseLabel_,this.label_):gc(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t.prototype.render=function(e){this.updateElement_(e.frameState)},t}($o),Oy=Cy,Iy=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ry=function(r){Iy(t,r);function t(e){var n=this,o=e||{};n=r.call(this,{element:document.createElement("div"),render:o.render,target:o.target})||this;var i=o.className!==void 0?o.className:"ol-rotate",a=o.label!==void 0?o.label:"\u21E7",s=o.compassClassName!==void 0?o.compassClassName:"ol-compass";n.label_=null,typeof a=="string"?(n.label_=document.createElement("span"),n.label_.className=s,n.label_.textContent=a):(n.label_=a,n.label_.classList.add(s));var f=o.tipLabel?o.tipLabel:"Reset rotation",l=document.createElement("button");l.className=i+"-reset",l.setAttribute("type","button"),l.title=f,l.appendChild(n.label_),l.addEventListener(re.CLICK,n.handleClick_.bind(n),!1);var c=i+" "+Ra+" "+Uf,u=n.element;return u.className=c,u.appendChild(l),n.callResetNorth_=o.resetNorth?o.resetNorth:void 0,n.duration_=o.duration!==void 0?o.duration:250,n.autoHide_=o.autoHide!==void 0?o.autoHide:!0,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(gi),n}return t.prototype.handleClick_=function(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},t.prototype.resetNorth_=function(){var e=this.getMap(),n=e.getView();if(!!n){var o=n.getRotation();o!==void 0&&(this.duration_>0&&o%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:Jr}):n.setRotation(0))}},t.prototype.render=function(e){var n=e.frameState;if(!!n){var o=n.viewState.rotation;if(o!=this.rotation_){var i="rotate("+o+"rad)";if(this.autoHide_){var a=this.element.classList.contains(gi);!a&&o===0?this.element.classList.add(gi):a&&o!==0&&this.element.classList.remove(gi)}this.label_.style.transform=i}this.rotation_=o}},t}($o),Sy=Ry,Py=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ky=function(r){Py(t,r);function t(e){var n=this,o=e||{};n=r.call(this,{element:document.createElement("div"),target:o.target})||this;var i=o.className!==void 0?o.className:"ol-zoom",a=o.delta!==void 0?o.delta:1,s=o.zoomInClassName!==void 0?o.zoomInClassName:i+"-in",f=o.zoomOutClassName!==void 0?o.zoomOutClassName:i+"-out",l=o.zoomInLabel!==void 0?o.zoomInLabel:"+",c=o.zoomOutLabel!==void 0?o.zoomOutLabel:"\u2013",u=o.zoomInTipLabel!==void 0?o.zoomInTipLabel:"Zoom in",h=o.zoomOutTipLabel!==void 0?o.zoomOutTipLabel:"Zoom out",d=document.createElement("button");d.className=s,d.setAttribute("type","button"),d.title=u,d.appendChild(typeof l=="string"?document.createTextNode(l):l),d.addEventListener(re.CLICK,n.handleClick_.bind(n,a),!1);var p=document.createElement("button");p.className=f,p.setAttribute("type","button"),p.title=h,p.appendChild(typeof c=="string"?document.createTextNode(c):c),p.addEventListener(re.CLICK,n.handleClick_.bind(n,-a),!1);var g=i+" "+Ra+" "+Uf,m=n.element;return m.className=g,m.appendChild(d),m.appendChild(p),n.duration_=o.duration!==void 0?o.duration:250,n}return t.prototype.handleClick_=function(e,n){n.preventDefault(),this.zoomByDelta_(e)},t.prototype.zoomByDelta_=function(e){var n=this.getMap(),o=n.getView();if(!!o){var i=o.getZoom();if(i!==void 0){var a=o.getConstrainedZoom(i+e);this.duration_>0?(o.getAnimating()&&o.cancelAnimations(),o.animate({zoom:a,duration:this.duration_,easing:Jr})):o.setZoom(a)}}},t}($o),Ay=ky,lt={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},Ly=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),$e={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},My=function(r){Ly(t,r);function t(e){var n=r.call(this)||this;n.on,n.once,n.un,n.options=e,n.id=e.id,n.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,n.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,n.element=document.createElement("div"),n.element.className=e.className!==void 0?e.className:"ol-overlay-container "+Nb,n.element.style.position="absolute",n.element.style.pointerEvents="auto";var o=e.autoPan;return o&&typeof o!="object"&&(o={animation:e.autoPanAnimation,margin:e.autoPanMargin}),n.autoPan=o||!1,n.rendered={transform_:"",visible:!0},n.mapPostrenderListenerKey=null,n.addChangeListener($e.ELEMENT,n.handleElementChanged),n.addChangeListener($e.MAP,n.handleMapChanged),n.addChangeListener($e.OFFSET,n.handleOffsetChanged),n.addChangeListener($e.POSITION,n.handlePositionChanged),n.addChangeListener($e.POSITIONING,n.handlePositioningChanged),e.element!==void 0&&n.setElement(e.element),n.setOffset(e.offset!==void 0?e.offset:[0,0]),n.setPositioning(e.positioning!==void 0?e.positioning:lt.TOP_LEFT),e.position!==void 0&&n.setPosition(e.position),n}return t.prototype.getElement=function(){return this.get($e.ELEMENT)},t.prototype.getId=function(){return this.id},t.prototype.getMap=function(){return this.get($e.MAP)||null},t.prototype.getOffset=function(){return this.get($e.OFFSET)},t.prototype.getPosition=function(){return this.get($e.POSITION)},t.prototype.getPositioning=function(){return this.get($e.POSITIONING)},t.prototype.handleElementChanged=function(){td(this.element);var e=this.getElement();e&&this.element.appendChild(e)},t.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Vi(this.element),Te(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var e=this.getMap();if(e){this.mapPostrenderListenerKey=he(e,Jt.POSTRENDER,this.render,this),this.updatePixelPosition();var n=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?n.insertBefore(this.element,n.childNodes[0]||null):n.appendChild(this.element),this.performAutoPan()}},t.prototype.render=function(){this.updatePixelPosition()},t.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},t.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},t.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},t.prototype.setElement=function(e){this.set($e.ELEMENT,e)},t.prototype.setMap=function(e){this.set($e.MAP,e)},t.prototype.setOffset=function(e){this.set($e.OFFSET,e)},t.prototype.setPosition=function(e){this.set($e.POSITION,e)},t.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},t.prototype.panIntoView=function(e){var n=this.getMap();if(!(!n||!n.getTargetElement()||!this.get($e.POSITION))){var o=this.getRect(n.getTargetElement(),n.getSize()),i=this.getElement(),a=this.getRect(i,[Gb(i),jb(i)]),s=e||{},f=s.margin===void 0?20:s.margin;if(!qn(o,a)){var l=a[0]-o[0],c=o[2]-a[2],u=a[1]-o[1],h=o[3]-a[3],d=[0,0];if(l<0?d[0]=l-f:c<0&&(d[0]=Math.abs(c)+f),u<0?d[1]=u-f:h<0&&(d[1]=Math.abs(h)+f),d[0]!==0||d[1]!==0){var p=n.getView().getCenterInternal(),g=n.getPixelFromCoordinateInternal(p);if(!g)return;var m=[g[0]+d[0],g[1]+d[1]],v=s.animation||{};n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(m),duration:v.duration,easing:v.easing})}}}},t.prototype.getRect=function(e,n){var o=e.getBoundingClientRect(),i=o.left+window.pageXOffset,a=o.top+window.pageYOffset;return[i,a,i+n[0],a+n[1]]},t.prototype.setPositioning=function(e){this.set($e.POSITIONING,e)},t.prototype.setVisible=function(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)},t.prototype.updatePixelPosition=function(){var e=this.getMap(),n=this.getPosition();if(!e||!e.isRendered()||!n){this.setVisible(!1);return}var o=e.getPixelFromCoordinate(n),i=e.getSize();this.updateRenderedPosition(o,i)},t.prototype.updateRenderedPosition=function(e,n){var o=this.element.style,i=this.getOffset(),a=this.getPositioning();this.setVisible(!0);var s=Math.round(e[0]+i[0])+"px",f=Math.round(e[1]+i[1])+"px",l="0%",c="0%";a==lt.BOTTOM_RIGHT||a==lt.CENTER_RIGHT||a==lt.TOP_RIGHT?l="-100%":(a==lt.BOTTOM_CENTER||a==lt.CENTER_CENTER||a==lt.TOP_CENTER)&&(l="-50%"),a==lt.BOTTOM_LEFT||a==lt.BOTTOM_CENTER||a==lt.BOTTOM_RIGHT?c="-100%":(a==lt.CENTER_LEFT||a==lt.CENTER_CENTER||a==lt.CENTER_RIGHT)&&(c="-50%");var u="translate(".concat(l,", ").concat(c,") translate(").concat(s,", ").concat(f,")");this.rendered.transform_!=u&&(this.rendered.transform_=u,o.transform=u,o.msTransform=u)},t.prototype.getOptions=function(){return this.options},t}(Lt),Ws=My;function Rd(r){var t=r||{},e=new _t,n=t.zoom!==void 0?t.zoom:!0;n&&e.push(new Ay(t.zoomOptions));var o=t.rotate!==void 0?t.rotate:!0;o&&e.push(new Sy(t.rotateOptions));var i=t.attribution!==void 0?t.attribution:!0;return i&&e.push(new Oy(t.attributionOptions)),e}var $s={ACTIVE:"active"},Fy=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ny=function(r){Fy(t,r);function t(e){var n=r.call(this)||this;return n.on,n.once,n.un,e&&e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return t.prototype.getActive=function(){return this.get($s.ACTIVE)},t.prototype.getMap=function(){return this.map_},t.prototype.handleEvent=function(e){return!0},t.prototype.setActive=function(e){this.set($s.ACTIVE,e)},t.prototype.setMap=function(e){this.map_=e},t}(Lt);function Dy(r,t,e){var n=r.getCenterInternal();if(n){var o=[n[0]+t[0],n[1]+t[1]];r.animateInternal({duration:e!==void 0?e:250,easing:G_,center:r.getConstrainedCenter(o)})}}function al(r,t,e,n){var o=r.getZoom();if(o!==void 0){var i=r.getConstrainedZoom(o+t),a=r.getResolutionForZoom(i);r.getAnimating()&&r.cancelAnimations(),r.animate({resolution:a,anchor:e,duration:n!==void 0?n:250,easing:Jr})}}var ni=Ny,Gy=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),jy=function(r){Gy(t,r);function t(e){var n=r.call(this)||this,o=e||{};return n.delta_=o.delta?o.delta:1,n.duration_=o.duration!==void 0?o.duration:250,n}return t.prototype.handleEvent=function(e){var n=!1;if(e.type==ve.DBLCLICK){var o=e.originalEvent,i=e.map,a=e.coordinate,s=o.shiftKey?-this.delta_:this.delta_,f=i.getView();al(f,s,a,this.duration_),o.preventDefault(),n=!0}return!n},t}(ni),zy=jy,Yy=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Uy=function(r){Yy(t,r);function t(e){var n=this,o=e||{};return n=r.call(this,o)||this,o.handleDownEvent&&(n.handleDownEvent=o.handleDownEvent),o.handleDragEvent&&(n.handleDragEvent=o.handleDragEvent),o.handleMoveEvent&&(n.handleMoveEvent=o.handleMoveEvent),o.handleUpEvent&&(n.handleUpEvent=o.handleUpEvent),o.stopDown&&(n.stopDown=o.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return t.prototype.getPointerCount=function(){return this.targetPointers.length},t.prototype.handleDownEvent=function(e){return!1},t.prototype.handleDragEvent=function(e){},t.prototype.handleEvent=function(e){if(!e.originalEvent)return!0;var n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==ve.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==ve.POINTERUP){var o=this.handleUpEvent(e);this.handlingDownUpSequence=o&&this.targetPointers.length>0}}else if(e.type==ve.POINTERDOWN){var i=this.handleDownEvent(e);this.handlingDownUpSequence=i,n=this.stopDown(i)}else e.type==ve.POINTERMOVE&&this.handleMoveEvent(e);return!n},t.prototype.handleMoveEvent=function(e){},t.prototype.handleUpEvent=function(e){return!1},t.prototype.stopDown=function(e){return e},t.prototype.updateTrackedPointers_=function(e){if(Xy(e)){var n=e.originalEvent,o=n.pointerId.toString();e.type==ve.POINTERUP?delete this.trackedPointers_[o]:e.type==ve.POINTERDOWN?this.trackedPointers_[o]=n:o in this.trackedPointers_&&(this.trackedPointers_[o]=n),this.targetPointers=Hh(this.trackedPointers_)}},t}(ni);function sl(r){for(var t=r.length,e=0,n=0,o=0;o<t;o++)e+=r[o].clientX,n+=r[o].clientY;return[e/t,n/t]}function Xy(r){var t=r.type;return t===ve.POINTERDOWN||t===ve.POINTERDRAG||t===ve.POINTERUP}var Qr=Uy;function Ks(r){var t=arguments;return function(e){for(var n=!0,o=0,i=t.length;o<i&&(n=n&&t[o](e),!!n);++o);return n}}var By=function(r){var t=r.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Wy=function(r){var t=r.map.getTargetElement(),e=r.map.getOwnerDocument().activeElement;return t.contains(e)},Sd=function(r){return r.map.getTargetElement().hasAttribute("tabindex")?Wy(r):!0},Pd=or,kd=function(r){var t=r.originalEvent;return t.button==0&&!(Bm&&Wm&&t.ctrlKey)},fl=function(r){var t=r.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},Ad=function(r){var t=r.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Ld=function(r){var t=r.originalEvent,e=t.target.tagName;return e!=="INPUT"&&e!=="SELECT"&&e!=="TEXTAREA"},es=function(r){var t=r.originalEvent;return le(t!==void 0,56),t.pointerType=="mouse"},$y=function(r){var t=r.originalEvent;return le(t!==void 0,56),t.isPrimary&&t.button===0},Ky=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hy=function(r){Ky(t,r);function t(e){var n=r.call(this,{stopDown:qo})||this,o=e||{};n.kinetic_=o.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1;var i=o.condition?o.condition:Ks(fl,$y);return n.condition_=o.onFocusOnly?Ks(Sd,i):i,n.noKinetic_=!1,n}return t.prototype.handleDragEvent=function(e){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var n=this.targetPointers,o=sl(n);if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(o[0],o[1]),this.lastCentroid){var i=[this.lastCentroid[0]-o[0],o[1]-this.lastCentroid[1]],a=e.map,s=a.getView();Ib(i,s.getResolution()),Yf(i,s.getRotation()),s.adjustCenterInternal(i)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=o,this.lastPointersCount_=n.length,e.originalEvent.preventDefault()},t.prototype.handleUpEvent=function(e){var n=e.map,o=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),s=o.getCenterInternal(),f=n.getPixelFromCoordinateInternal(s),l=n.getCoordinateFromPixelInternal([f[0]-i*Math.cos(a),f[1]-i*Math.sin(a)]);o.animateInternal({center:o.getConstrainedCenter(l),duration:500,easing:Jr})}return this.panning_&&(this.panning_=!1,o.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>0&&this.condition_(e)){var n=e.map,o=n.getView();return this.lastCentroid=null,o.getAnimating()&&o.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},t}(Qr),Vy=Hy,qy=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Zy=function(r){qy(t,r);function t(e){var n=this,o=e||{};return n=r.call(this,{stopDown:qo})||this,n.condition_=o.condition?o.condition:By,n.lastAngle_=void 0,n.duration_=o.duration!==void 0?o.duration:250,n}return t.prototype.handleDragEvent=function(e){if(!!es(e)){var n=e.map,o=n.getView();if(o.getConstraints().rotation!==Zf){var i=n.getSize(),a=e.pixel,s=Math.atan2(i[1]/2-a[1],a[0]-i[0]/2);if(this.lastAngle_!==void 0){var f=s-this.lastAngle_;o.adjustRotationInternal(-f)}this.lastAngle_=s}}},t.prototype.handleUpEvent=function(e){if(!es(e))return!0;var n=e.map,o=n.getView();return o.endInteraction(this.duration_),!1},t.prototype.handleDownEvent=function(e){if(!es(e))return!1;if(kd(e)&&this.condition_(e)){var n=e.map;return n.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},t}(Qr),Jy=Zy,Qy=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),e0=function(r){Qy(t,r);function t(e){var n=r.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.style.pointerEvents="auto",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return t.prototype.disposeInternal=function(){this.setMap(null)},t.prototype.render_=function(){var e=this.startPixel_,n=this.endPixel_,o="px",i=this.element_.style;i.left=Math.min(e[0],n[0])+o,i.top=Math.min(e[1],n[1])+o,i.width=Math.abs(n[0]-e[0])+o,i.height=Math.abs(n[1]-e[1])+o},t.prototype.setMap=function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},t.prototype.setPixels=function(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()},t.prototype.createOrUpdateGeometry=function(){var e=this.startPixel_,n=this.endPixel_,o=[e,[e[0],n[1]],n,[n[0],e[1]]],i=o.map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new pr([i])},t.prototype.getGeometry=function(){return this.geometry_},t}(Ff),t0=e0,Md=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),yi={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},ts=function(r){Md(t,r);function t(e,n,o){var i=r.call(this,e)||this;return i.coordinate=n,i.mapBrowserEvent=o,i}return t}(Bt),n0=function(r){Md(t,r);function t(e){var n=r.call(this)||this;n.on,n.once,n.un;var o=e||{};return n.box_=new t0(o.className||"ol-dragbox"),n.minArea_=o.minArea!==void 0?o.minArea:64,o.onBoxEnd&&(n.onBoxEnd=o.onBoxEnd),n.startPixel_=null,n.condition_=o.condition?o.condition:kd,n.boxEndCondition_=o.boxEndCondition?o.boxEndCondition:n.defaultBoxEndCondition,n}return t.prototype.defaultBoxEndCondition=function(e,n,o){var i=o[0]-n[0],a=o[1]-n[1];return i*i+a*a>=this.minArea_},t.prototype.getGeometry=function(){return this.box_.getGeometry()},t.prototype.handleDragEvent=function(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new ts(yi.BOXDRAG,e.coordinate,e))},t.prototype.handleUpEvent=function(e){this.box_.setMap(null);var n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new ts(n?yi.BOXEND:yi.BOXCANCEL,e.coordinate,e)),!1},t.prototype.handleDownEvent=function(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new ts(yi.BOXSTART,e.coordinate,e)),!0):!1},t.prototype.onBoxEnd=function(e){},t}(Qr),r0=n0,o0=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),i0=function(r){o0(t,r);function t(e){var n=this,o=e||{},i=o.condition?o.condition:Ad;return n=r.call(this,{condition:i,className:o.className||"ol-dragzoom",minArea:o.minArea})||this,n.duration_=o.duration!==void 0?o.duration:200,n.out_=o.out!==void 0?o.out:!1,n}return t.prototype.onBoxEnd=function(e){var n=this.getMap(),o=n.getView(),i=this.getGeometry();if(this.out_){var a=o.rotatedExtentForGeometry(i),s=o.getResolutionForExtentInternal(a),f=o.getResolution()/s;i=i.clone(),i.scale(f*f)}o.fitInternal(i,{duration:this.duration_,easing:Jr})},t}(r0),a0=i0,Bn={LEFT:37,UP:38,RIGHT:39,DOWN:40},s0=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),f0=function(r){s0(t,r);function t(e){var n=r.call(this)||this,o=e||{};return n.defaultCondition_=function(i){return fl(i)&&Ld(i)},n.condition_=o.condition!==void 0?o.condition:n.defaultCondition_,n.duration_=o.duration!==void 0?o.duration:100,n.pixelDelta_=o.pixelDelta!==void 0?o.pixelDelta:128,n}return t.prototype.handleEvent=function(e){var n=!1;if(e.type==re.KEYDOWN){var o=e.originalEvent,i=o.keyCode;if(this.condition_(e)&&(i==Bn.DOWN||i==Bn.LEFT||i==Bn.RIGHT||i==Bn.UP)){var a=e.map,s=a.getView(),f=s.getResolution()*this.pixelDelta_,l=0,c=0;i==Bn.DOWN?c=-f:i==Bn.LEFT?l=-f:i==Bn.RIGHT?l=f:c=f;var u=[l,c];Yf(u,s.getRotation()),Dy(s,u,this.duration_),o.preventDefault(),n=!0}}return!n},t}(ni),l0=f0,c0=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),u0=function(r){c0(t,r);function t(e){var n=r.call(this)||this,o=e||{};return n.condition_=o.condition?o.condition:Ld,n.delta_=o.delta?o.delta:1,n.duration_=o.duration!==void 0?o.duration:100,n}return t.prototype.handleEvent=function(e){var n=!1;if(e.type==re.KEYDOWN||e.type==re.KEYPRESS){var o=e.originalEvent,i=o.charCode;if(this.condition_(e)&&(i=="+".charCodeAt(0)||i=="-".charCodeAt(0))){var a=e.map,s=i=="+".charCodeAt(0)?this.delta_:-this.delta_,f=a.getView();al(f,s,void 0,this.duration_),o.preventDefault(),n=!0}}return!n},t}(ni),h0=u0,d0=function(){function r(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return r.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},r.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},r.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var o=this.points_[e+2]-this.points_[n+2];if(o<1e3/60)return!1;var i=this.points_[e]-this.points_[n],a=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(a,i),this.initialVelocity_=Math.sqrt(i*i+a*a)/o,this.initialVelocity_>this.minVelocity_},r.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},r.prototype.getAngle=function(){return this.angle_},r}(),p0=d0,g0=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ns={TRACKPAD:"trackpad",WHEEL:"wheel"},v0=function(r){g0(t,r);function t(e){var n=this,o=e||{};n=r.call(this,o)||this,n.totalDelta_=0,n.lastDelta_=0,n.maxDelta_=o.maxDelta!==void 0?o.maxDelta:1,n.duration_=o.duration!==void 0?o.duration:250,n.timeout_=o.timeout!==void 0?o.timeout:80,n.useAnchor_=o.useAnchor!==void 0?o.useAnchor:!0,n.constrainResolution_=o.constrainResolution!==void 0?o.constrainResolution:!1;var i=o.condition?o.condition:Pd;return n.condition_=o.onFocusOnly?Ks(Sd,i):i,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.deltaPerZoom_=300,n}return t.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var e=this.getMap().getView();e.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},t.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;var n=e.type;if(n!==re.WHEEL)return!0;var o=e.map,i=e.originalEvent;i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);var a;if(e.type==re.WHEEL&&(a=i.deltaY,Um&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(a/=Dh),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(a*=40)),a===0)return!1;this.lastDelta_=a;var s=Date.now();this.startTime_===void 0&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(a)<4?ns.TRACKPAD:ns.WHEEL);var f=o.getView();if(this.mode_===ns.TRACKPAD&&!(f.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(f.getAnimating()&&f.cancelAnimations(),f.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),f.adjustZoom(-a/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=a;var l=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,o),l),!1},t.prototype.handleWheelZoom_=function(e){var n=e.getView();n.getAnimating()&&n.cancelAnimations();var o=-De(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(o=o?o>0?1:-1:0),al(n,o,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},t.prototype.setMouseAnchor=function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)},t}(ni),m0=v0,b0=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),_0=function(r){b0(t,r);function t(e){var n=this,o=e||{},i=o;return i.stopDown||(i.stopDown=qo),n=r.call(this,i)||this,n.anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=o.threshold!==void 0?o.threshold:.3,n.duration_=o.duration!==void 0?o.duration:250,n}return t.prototype.handleDragEvent=function(e){var n=0,o=this.targetPointers[0],i=this.targetPointers[1],a=Math.atan2(i.clientY-o.clientY,i.clientX-o.clientX);if(this.lastAngle_!==void 0){var s=a-this.lastAngle_;this.rotationDelta_+=s,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=s}this.lastAngle_=a;var f=e.map,l=f.getView();if(l.getConstraints().rotation!==Zf){var c=f.getViewport().getBoundingClientRect(),u=sl(this.targetPointers);u[0]-=c.left,u[1]-=c.top,this.anchor_=f.getCoordinateFromPixelInternal(u),this.rotating_&&(f.render(),l.adjustRotationInternal(n,this.anchor_))}},t.prototype.handleUpEvent=function(e){if(this.targetPointers.length<2){var n=e.map,o=n.getView();return o.endInteraction(this.duration_),!1}else return!0},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}else return!1},t}(Qr),y0=_0,w0=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),x0=function(r){w0(t,r);function t(e){var n=this,o=e||{},i=o;return i.stopDown||(i.stopDown=qo),n=r.call(this,i)||this,n.anchor_=null,n.duration_=o.duration!==void 0?o.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return t.prototype.handleDragEvent=function(e){var n=1,o=this.targetPointers[0],i=this.targetPointers[1],a=o.clientX-i.clientX,s=o.clientY-i.clientY,f=Math.sqrt(a*a+s*s);this.lastDistance_!==void 0&&(n=this.lastDistance_/f),this.lastDistance_=f;var l=e.map,c=l.getView();n!=1&&(this.lastScaleDelta_=n);var u=l.getViewport().getBoundingClientRect(),h=sl(this.targetPointers);h[0]-=u.left,h[1]-=u.top,this.anchor_=l.getCoordinateFromPixelInternal(h),l.render(),c.adjustResolutionInternal(n,this.anchor_)},t.prototype.handleUpEvent=function(e){if(this.targetPointers.length<2){var n=e.map,o=n.getView(),i=this.lastScaleDelta_>1?1:-1;return o.endInteraction(this.duration_,i),!1}else return!0},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}else return!1},t}(Qr),E0=x0,Sr={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},T0=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fd=function(r){T0(t,r);function t(e,n,o){var i=r.call(this)||this;if(o!==void 0&&n===void 0)i.setFlatCoordinates(o,e);else{var a=n||0;i.setCenterAndRadius(e,a,o)}return i}return t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,n,o,i){var a=this.flatCoordinates,s=e-a[0],f=n-a[1],l=s*s+f*f;if(l<i){if(l===0)for(var c=0;c<this.stride;++c)o[c]=a[c];else{var u=this.getRadius()/Math.sqrt(l);o[0]=a[0]+u*s,o[1]=a[1]+u*f;for(var c=2;c<this.stride;++c)o[c]=a[c]}return o.length=this.stride,l}else return i},t.prototype.containsXY=function(e,n){var o=this.flatCoordinates,i=e-o[0],a=n-o[1];return i*i+a*a<=this.getRadiusSquared_()},t.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.computeExtent=function(e){var n=this.flatCoordinates,o=n[this.stride]-n[0];return kt(n[0]-o,n[1]-o,n[0]+o,n[1]+o,e)},t.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},t.prototype.getRadiusSquared_=function(){var e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],n=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+n*n},t.prototype.getType=function(){return R.CIRCLE},t.prototype.intersectsExtent=function(e){var n=this.getExtent();if(Je(e,n)){var o=this.getCenter();return e[0]<=o[0]&&e[2]>=o[0]||e[1]<=o[1]&&e[3]>=o[1]?!0:jf(e,this.intersectsCoordinate.bind(this))}return!1},t.prototype.setCenter=function(e){var n=this.stride,o=this.flatCoordinates[n]-this.flatCoordinates[0],i=e.slice();i[n]=i[0]+o;for(var a=1;a<n;++a)i[n+a]=e[a];this.setFlatCoordinates(this.layout,i),this.changed()},t.prototype.setCenterAndRadius=function(e,n,o){this.setLayout(o,e,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,a=gd(i,0,e,this.stride);i[a++]=i[0]+n;for(var s=1,f=this.stride;s<f;++s)i[a++]=i[s];i.length=a,this.changed()},t.prototype.getCoordinates=function(){return null},t.prototype.setCoordinates=function(e,n){},t.prototype.setRadius=function(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()},t.prototype.rotate=function(e,n){var o=this.getCenter(),i=this.getStride();this.setCenter(Jf(o,0,o.length,i,e,n,o)),this.changed()},t.prototype.translate=function(e,n){var o=this.getCenter(),i=this.getStride();this.setCenter(dd(o,0,o.length,i,e,n,o)),this.changed()},t}(jn);Fd.prototype.transform;var C0=Fd,O0=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),I0=function(r){O0(t,r);function t(e){var n=r.call(this)||this;if(n.on,n.once,n.un,n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addChangeListener(n.geometryName_,n.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){var o=e;n.setGeometry(o)}else{var i=e;n.setProperties(i)}return n}return t.prototype.clone=function(){var e=new t(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&e.setGeometry(n.clone());var o=this.getStyle();return o&&e.setStyle(o),e},t.prototype.getGeometry=function(){return this.get(this.geometryName_)},t.prototype.getId=function(){return this.id_},t.prototype.getGeometryName=function(){return this.geometryName_},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.handleGeometryChange_=function(){this.changed()},t.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Te(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=he(e,re.CHANGE,this.handleGeometryChange_,this)),this.changed()},t.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},t.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?R0(e):void 0,this.changed()},t.prototype.setId=function(e){this.id_=e,this.changed()},t.prototype.setGeometryName=function(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},t}(Lt);function R0(r){if(typeof r=="function")return r;var t;if(Array.isArray(r))t=r;else{le(typeof r.getZIndex=="function",41);var e=r;t=[e]}return function(){return t}}var Pr=I0;function Nd(r,t,e,n,o,i,a){var s,f,l=(e-t)/n;if(l===1)s=t;else if(l===2)s=t,f=o;else if(l!==0){for(var c=r[t],u=r[t+1],h=0,d=[0],p=t+n;p<e;p+=n){var g=r[p],m=r[p+1];h+=Math.sqrt((g-c)*(g-c)+(m-u)*(m-u)),d.push(h),c=g,u=m}var v=o*h,_=Nm(d,v);_<0?(f=(v-d[-_-2])/(d[-_-1]-d[-_-2]),s=t+(-_-2)*n):s=t+_*n}for(var y=a>1?a:2,x=i||new Array(y),p=0;p<y;++p)x[p]=s===void 0?NaN:f===void 0?r[s+p]:Qt(r[s+p],r[s+n+p],f);return x}function Hs(r,t,e,n,o,i){if(e==t)return null;var a;if(o<r[t+n-1])return i?(a=r.slice(t,t+n),a[n-1]=o,a):null;if(r[e-1]<o)return i?(a=r.slice(e-n,e),a[n-1]=o,a):null;if(o==r[t+n-1])return r.slice(t,t+n);for(var s=t/n,f=e/n;s<f;){var l=s+f>>1;o<r[(l+1)*n-1]?f=l:s=l+1}var c=r[s*n-1];if(o==c)return r.slice((s-1)*n,(s-1)*n+n);var u=r[(s+1)*n-1],h=(o-c)/(u-c);a=[];for(var d=0;d<n-1;++d)a.push(Qt(r[(s-1)*n+d],r[s*n+d],h));return a.push(o),a}function S0(r,t,e,n,o,i,a){if(a)return Hs(r,t,e[e.length-1],n,o,i);var s;if(o<r[n-1])return i?(s=r.slice(0,n),s[n-1]=o,s):null;if(r[r.length-1]<o)return i?(s=r.slice(r.length-n),s[n-1]=o,s):null;for(var f=0,l=e.length;f<l;++f){var c=e[f];if(t!=c){if(o<r[t+n-1])return null;if(o<=r[c-1])return Hs(r,t,c,n,o,!1);t=c}}return null}function Dd(r,t,e,n){for(var o=r[t],i=r[t+1],a=0,s=t+n;s<e;s+=n){var f=r[s],l=r[s+1];a+=Math.sqrt((f-o)*(f-o)+(l-i)*(l-i)),o=f,i=l}return a}var P0=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),k0=function(r){P0(t,r);function t(e,n){var o=r.call(this)||this;return o.flatMidpoint_=null,o.flatMidpointRevision_=-1,o.maxDelta_=-1,o.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?o.setFlatCoordinates(n,e):o.setCoordinates(e,n),o}return t.prototype.appendCoordinate=function(e){this.flatCoordinates?rn(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,n,o,i){return i<br(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Qf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),tl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,n,o,i))},t.prototype.forEachSegment=function(e){return yd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.getCoordinateAtM=function(e,n){if(this.layout!=Fe.XYM&&this.layout!=Fe.XYZM)return null;var o=n!==void 0?n:!1;return Hs(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,o)},t.prototype.getCoordinates=function(){return Rn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinateAt=function(e,n){return Nd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,this.stride)},t.prototype.getLength=function(){return Dd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},t.prototype.getSimplifiedGeometryInternal=function(e){var n=[];return n.length=ol(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new t(n,Fe.XY)},t.prototype.getType=function(){return R.LINE_STRING},t.prototype.intersectsExtent=function(e){return ka(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.setCoordinates=function(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Pa(this.flatCoordinates,0,e,this.stride),this.changed()},t}(jn),Mn=k0,A0=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),L0=function(r){A0(t,r);function t(e,n,o){var i=r.call(this)||this;if(i.ends_=[],i.maxDelta_=-1,i.maxDeltaRevision_=-1,Array.isArray(e[0]))i.setCoordinates(e,n);else if(n!==void 0&&o)i.setFlatCoordinates(n,e),i.ends_=o;else{for(var a=i.getLayout(),s=e,f=[],l=[],c=0,u=s.length;c<u;++c){var h=s[c];c===0&&(a=h.getLayout()),rn(f,h.getFlatCoordinates()),l.push(f.length)}i.setFlatCoordinates(a,f),i.ends_=l}return i}return t.prototype.appendLineString=function(e){this.flatCoordinates?rn(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,n,o,i){return i<br(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(el(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),nl(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,n,o,i))},t.prototype.getCoordinateAtM=function(e,n,o){if(this.layout!=Fe.XYM&&this.layout!=Fe.XYZM||this.flatCoordinates.length===0)return null;var i=n!==void 0?n:!1,a=o!==void 0?o:!1;return S0(this.flatCoordinates,0,this.ends_,this.stride,e,i,a)},t.prototype.getCoordinates=function(){return Wo(this.flatCoordinates,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getLineString=function(e){return e<0||this.ends_.length<=e?null:new Mn(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)},t.prototype.getLineStrings=function(){for(var e=this.flatCoordinates,n=this.ends_,o=this.layout,i=[],a=0,s=0,f=n.length;s<f;++s){var l=n[s],c=new Mn(e.slice(a,l),o);i.push(c),a=l}return i},t.prototype.getFlatMidpoints=function(){for(var e=[],n=this.flatCoordinates,o=0,i=this.ends_,a=this.stride,s=0,f=i.length;s<f;++s){var l=i[s],c=Nd(n,o,l,a,.5);rn(e,c),o=l}return e},t.prototype.getSimplifiedGeometryInternal=function(e){var n=[],o=[];return n.length=V_(this.flatCoordinates,0,this.ends_,this.stride,e,n,0,o),new t(n,Fe.XY,o)},t.prototype.getType=function(){return R.MULTI_LINE_STRING},t.prototype.intersectsExtent=function(e){return ay(this.flatCoordinates,0,this.ends_,this.stride,e)},t.prototype.setCoordinates=function(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var o=rl(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=o.length===0?0:o[o.length-1],this.changed()},t}(jn),Gd=L0,M0=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),F0=function(r){M0(t,r);function t(e,n){var o=r.call(this)||this;return n&&!Array.isArray(e[0])?o.setFlatCoordinates(n,e):o.setCoordinates(e,n),o}return t.prototype.appendPoint=function(e){this.flatCoordinates?rn(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,n,o,i){if(i<br(this.getExtent(),e,n))return i;for(var a=this.flatCoordinates,s=this.stride,f=0,l=a.length;f<l;f+=s){var c=ir(e,n,a[f],a[f+1]);if(c<i){i=c;for(var u=0;u<s;++u)o[u]=a[f+u];o.length=s}}return i},t.prototype.getCoordinates=function(){return Rn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getPoint=function(e){var n=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return e<0||n<=e?null:new lr(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)},t.prototype.getPoints=function(){for(var e=this.flatCoordinates,n=this.layout,o=this.stride,i=[],a=0,s=e.length;a<s;a+=o){var f=new lr(e.slice(a,a+o),n);i.push(f)}return i},t.prototype.getType=function(){return R.MULTI_POINT},t.prototype.intersectsExtent=function(e){for(var n=this.flatCoordinates,o=this.stride,i=0,a=n.length;i<a;i+=o){var s=n[i],f=n[i+1];if(Gf(e,s,f))return!0}return!1},t.prototype.setCoordinates=function(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Pa(this.flatCoordinates,0,e,this.stride),this.changed()},t}(jn),ll=F0;function N0(r,t,e,n){for(var o=[],i=pt(),a=0,s=e.length;a<s;++a){var f=e[a];i=Uh(r,t,f[0],n),o.push((i[0]+i[2])/2,(i[1]+i[3])/2),t=f[f.length-1]}return o}var D0=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),G0=function(r){D0(t,r);function t(e,n,o){var i=r.call(this)||this;if(i.endss_=[],i.flatInteriorPointsRevision_=-1,i.flatInteriorPoints_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,!o&&!Array.isArray(e[0])){for(var a=i.getLayout(),s=e,f=[],l=[],c=0,u=s.length;c<u;++c){var h=s[c];c===0&&(a=h.getLayout());for(var d=f.length,p=h.getEnds(),g=0,m=p.length;g<m;++g)p[g]+=d;rn(f,h.getFlatCoordinates()),l.push(p)}n=a,e=f,o=l}return n!==void 0&&o?(i.setFlatCoordinates(n,e),i.endss_=o):i.setCoordinates(e,n),i}return t.prototype.appendPolygon=function(e){var n;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),n=e.getEnds().slice(),this.endss_.push();else{var o=this.flatCoordinates.length;rn(this.flatCoordinates,e.getFlatCoordinates()),n=e.getEnds().slice();for(var i=0,a=n.length;i<a;++i)n[i]+=o}this.endss_.push(n),this.changed()},t.prototype.clone=function(){for(var e=this.endss_.length,n=new Array(e),o=0;o<e;++o)n[o]=this.endss_[o].slice();var i=new t(this.flatCoordinates.slice(),this.layout,n);return i.applyProperties(this),i},t.prototype.closestPointXY=function(e,n,o,i){return i<br(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt($_(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),K_(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,n,o,i))},t.prototype.containsXY=function(e,n){return oy(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,n)},t.prototype.getArea=function(){return J_(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},t.prototype.getCoordinates=function(e){var n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),Pc(n,0,this.endss_,this.stride,e)):n=this.flatCoordinates,Xs(n,0,this.endss_,this.stride)},t.prototype.getEndss=function(){return this.endss_},t.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var e=N0(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=iy(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},t.prototype.getInteriorPoints=function(){return new ll(this.getFlatInteriorPoints().slice(),Fe.XYM)},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;cy(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Pc(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(e){var n=[],o=[];return n.length=Z_(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),n,0,o),new t(n,Fe.XY,o)},t.prototype.getPolygon=function(e){if(e<0||this.endss_.length<=e)return null;var n;if(e===0)n=0;else{var o=this.endss_[e-1];n=o[o.length-1]}var i=this.endss_[e].slice(),a=i[i.length-1];if(n!==0)for(var s=0,f=i.length;s<f;++s)i[s]-=n;return new pr(this.flatCoordinates.slice(n,a),this.layout,i)},t.prototype.getPolygons=function(){for(var e=this.layout,n=this.flatCoordinates,o=this.endss_,i=[],a=0,s=0,f=o.length;s<f;++s){var l=o[s].slice(),c=l[l.length-1];if(a!==0)for(var u=0,h=l.length;u<h;++u)l[u]-=a;var d=new pr(n.slice(a,c),e,l);i.push(d),a=c}return i},t.prototype.getType=function(){return R.MULTI_POLYGON},t.prototype.intersectsExtent=function(e){return fy(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)},t.prototype.setCoordinates=function(e,n){this.setLayout(n,e,3),this.flatCoordinates||(this.flatCoordinates=[]);var o=H_(this.flatCoordinates,0,e,this.stride,this.endss_);if(o.length===0)this.flatCoordinates.length=0;else{var i=o[o.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()},t}(jn),jd=G0;function j0(r,t,e,n,o){zd(r,t,e||0,n||r.length-1,o||z0)}function zd(r,t,e,n,o){for(;n>e;){if(n-e>600){var i=n-e+1,a=t-e+1,s=Math.log(i),f=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*f*(i-f)/i)*(a-i/2<0?-1:1),c=Math.max(e,Math.floor(t-a*f/i+l)),u=Math.min(n,Math.floor(t+(i-a)*f/i+l));zd(r,t,c,u,o)}var h=r[t],d=e,p=n;for(lo(r,e,t),o(r[n],h)>0&&lo(r,e,n);d<p;){for(lo(r,d,p),d++,p--;o(r[d],h)<0;)d++;for(;o(r[p],h)>0;)p--}o(r[e],h)===0?lo(r,e,p):(p++,lo(r,p,n)),p<=t&&(e=p+1),t<=p&&(n=p-1)}}function lo(r,t,e){var n=r[t];r[t]=r[e],r[e]=n}function z0(r,t){return r<t?-1:r>t?1:0}class Yd{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let e=this.data;const n=[];if(!xi(t,e))return n;const o=this.toBBox,i=[];for(;e;){for(let a=0;a<e.children.length;a++){const s=e.children[a],f=e.leaf?o(s):s;xi(t,f)&&(e.leaf?n.push(s):os(t,f)?this._all(s,n):i.push(s))}e=i.pop()}return n}collides(t){let e=this.data;if(!xi(t,e))return!1;const n=[];for(;e;){for(let o=0;o<e.children.length;o++){const i=e.children[o],a=e.leaf?this.toBBox(i):i;if(xi(t,a)){if(e.leaf||os(t,a))return!0;n.push(i)}}e=n.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let n=0;n<t.length;n++)this.insert(t[n]);return this}let e=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=e;else if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const n=this.data;this.data=e,e=n}this._insert(e,this.data.height-e.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=kr([]),this}remove(t,e){if(!t)return this;let n=this.data;const o=this.toBBox(t),i=[],a=[];let s,f,l;for(;n||i.length;){if(n||(n=i.pop(),f=i[i.length-1],s=a.pop(),l=!0),n.leaf){const c=Y0(t,n.children,e);if(c!==-1)return n.children.splice(c,1),i.push(n),this._condense(i),this}!l&&!n.leaf&&os(n,o)?(i.push(n),a.push(s),s=0,f=n,n=n.children[0]):f?(s++,n=f.children[s],l=!1):n=null}return this}toBBox(t){return t}compareMinX(t,e){return t.minX-e.minX}compareMinY(t,e){return t.minY-e.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,e){const n=[];for(;t;)t.leaf?e.push(...t.children):n.push(...t.children),t=n.pop();return e}_build(t,e,n,o){const i=n-e+1;let a=this._maxEntries,s;if(i<=a)return s=kr(t.slice(e,n+1)),xr(s,this.toBBox),s;o||(o=Math.ceil(Math.log(i)/Math.log(a)),a=Math.ceil(i/Math.pow(a,o-1))),s=kr([]),s.leaf=!1,s.height=o;const f=Math.ceil(i/a),l=f*Math.ceil(Math.sqrt(a));Mc(t,e,n,l,this.compareMinX);for(let c=e;c<=n;c+=l){const u=Math.min(c+l-1,n);Mc(t,c,u,f,this.compareMinY);for(let h=c;h<=u;h+=f){const d=Math.min(h+f-1,u);s.children.push(this._build(t,h,d,o-1))}}return xr(s,this.toBBox),s}_chooseSubtree(t,e,n,o){for(;o.push(e),!(e.leaf||o.length-1===n);){let i=1/0,a=1/0,s;for(let f=0;f<e.children.length;f++){const l=e.children[f],c=rs(l),u=B0(t,l)-c;u<a?(a=u,i=c<i?c:i,s=l):u===a&&c<i&&(i=c,s=l)}e=s||e.children[0]}return e}_insert(t,e,n){const o=n?t:this.toBBox(t),i=[],a=this._chooseSubtree(o,this.data,e,i);for(a.children.push(t),vo(a,o);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(o,i,e)}_split(t,e){const n=t[e],o=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,o);const a=this._chooseSplitIndex(n,i,o),s=kr(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,xr(n,this.toBBox),xr(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)}_splitRoot(t,e){this.data=kr([t,e]),this.data.height=t.height+1,this.data.leaf=!1,xr(this.data,this.toBBox)}_chooseSplitIndex(t,e,n){let o,i=1/0,a=1/0;for(let s=e;s<=n-e;s++){const f=go(t,0,s,this.toBBox),l=go(t,s,n,this.toBBox),c=W0(f,l),u=rs(f)+rs(l);c<i?(i=c,o=s,a=u<a?u:a):c===i&&u<a&&(a=u,o=s)}return o||n-e}_chooseSplitAxis(t,e,n){const o=t.leaf?this.compareMinX:U0,i=t.leaf?this.compareMinY:X0,a=this._allDistMargin(t,e,n,o),s=this._allDistMargin(t,e,n,i);a<s&&t.children.sort(o)}_allDistMargin(t,e,n,o){t.children.sort(o);const i=this.toBBox,a=go(t,0,e,i),s=go(t,n-e,n,i);let f=wi(a)+wi(s);for(let l=e;l<n-e;l++){const c=t.children[l];vo(a,t.leaf?i(c):c),f+=wi(a)}for(let l=n-e-1;l>=e;l--){const c=t.children[l];vo(s,t.leaf?i(c):c),f+=wi(s)}return f}_adjustParentBBoxes(t,e,n){for(let o=n;o>=0;o--)vo(e[o],t)}_condense(t){for(let e=t.length-1,n;e>=0;e--)t[e].children.length===0?e>0?(n=t[e-1].children,n.splice(n.indexOf(t[e]),1)):this.clear():xr(t[e],this.toBBox)}}function Y0(r,t,e){if(!e)return t.indexOf(r);for(let n=0;n<t.length;n++)if(e(r,t[n]))return n;return-1}function xr(r,t){go(r,0,r.children.length,t,r)}function go(r,t,e,n,o){o||(o=kr(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(let i=t;i<e;i++){const a=r.children[i];vo(o,r.leaf?n(a):a)}return o}function vo(r,t){return r.minX=Math.min(r.minX,t.minX),r.minY=Math.min(r.minY,t.minY),r.maxX=Math.max(r.maxX,t.maxX),r.maxY=Math.max(r.maxY,t.maxY),r}function U0(r,t){return r.minX-t.minX}function X0(r,t){return r.minY-t.minY}function rs(r){return(r.maxX-r.minX)*(r.maxY-r.minY)}function wi(r){return r.maxX-r.minX+(r.maxY-r.minY)}function B0(r,t){return(Math.max(t.maxX,r.maxX)-Math.min(t.minX,r.minX))*(Math.max(t.maxY,r.maxY)-Math.min(t.minY,r.minY))}function W0(r,t){const e=Math.max(r.minX,t.minX),n=Math.max(r.minY,t.minY),o=Math.min(r.maxX,t.maxX),i=Math.min(r.maxY,t.maxY);return Math.max(0,o-e)*Math.max(0,i-n)}function os(r,t){return r.minX<=t.minX&&r.minY<=t.minY&&t.maxX<=r.maxX&&t.maxY<=r.maxY}function xi(r,t){return t.minX<=r.maxX&&t.minY<=r.maxY&&t.maxX>=r.minX&&t.maxY>=r.minY}function kr(r){return{children:r,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Mc(r,t,e,n,o){const i=[t,e];for(;i.length;){if(e=i.pop(),t=i.pop(),e-t<=n)continue;const a=t+Math.ceil((e-t)/n/2)*n;j0(r,a,t,e,o),i.push(t,a,a,e)}}var Ee={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},$0=function(){function r(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=ht(t.scale),this.displacement_=t.displacement}return r.prototype.clone=function(){var t=this.getScale();return new r({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},r.prototype.getOpacity=function(){return this.opacity_},r.prototype.getRotateWithView=function(){return this.rotateWithView_},r.prototype.getRotation=function(){return this.rotation_},r.prototype.getScale=function(){return this.scale_},r.prototype.getScaleArray=function(){return this.scaleArray_},r.prototype.getDisplacement=function(){return this.displacement_},r.prototype.getAnchor=function(){return Z()},r.prototype.getImage=function(t){return Z()},r.prototype.getHitDetectionImage=function(){return Z()},r.prototype.getPixelRatio=function(t){return 1},r.prototype.getImageState=function(){return Z()},r.prototype.getImageSize=function(){return Z()},r.prototype.getOrigin=function(){return Z()},r.prototype.getSize=function(){return Z()},r.prototype.setDisplacement=function(t){this.displacement_=t},r.prototype.setOpacity=function(t){this.opacity_=t},r.prototype.setRotateWithView=function(t){this.rotateWithView_=t},r.prototype.setRotation=function(t){this.rotation_=t},r.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=ht(t)},r.prototype.listenImageChange=function(t){Z()},r.prototype.load=function(){Z()},r.prototype.unlistenImageChange=function(t){Z()},r}(),Ud=$0;function jt(r){return Array.isArray(r)?Kh(r):r}var K0=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),H0=function(r){K0(t,r);function t(e){var n=this,o=e.rotateWithView!==void 0?e.rotateWithView:!1;return n=r.call(this,{opacity:1,rotateWithView:o,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0]})||this,n.canvas_=void 0,n.hitDetectionCanvas_=null,n.fill_=e.fill!==void 0?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=e.radius!==void 0?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=e.angle!==void 0?e.angle:0,n.stroke_=e.stroke!==void 0?e.stroke:null,n.size_=null,n.renderOptions_=null,n.render(),n}return t.prototype.clone=function(){var e=this.getScale(),n=new t({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},t.prototype.getAnchor=function(){var e=this.size_;if(!e)return null;var n=this.getDisplacement();return[e[0]/2-n[0],e[1]/2+n[1]]},t.prototype.getAngle=function(){return this.angle_},t.prototype.getFill=function(){return this.fill_},t.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},t.prototype.getImage=function(e){var n=this.canvas_[e];if(!n){var o=this.renderOptions_,i=yt(o.size*e,o.size*e);this.draw_(o,i,e),n=i.canvas,this.canvas_[e]=n}return n},t.prototype.getPixelRatio=function(e){return e},t.prototype.getImageSize=function(){return this.size_},t.prototype.getImageState=function(){return Ee.LOADED},t.prototype.getOrigin=function(){return this.origin_},t.prototype.getPoints=function(){return this.points_},t.prototype.getRadius=function(){return this.radius_},t.prototype.getRadius2=function(){return this.radius2_},t.prototype.getSize=function(){return this.size_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.listenImageChange=function(e){},t.prototype.load=function(){},t.prototype.unlistenImageChange=function(e){},t.prototype.calculateLineJoinSize_=function(e,n,o){if(n===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return n;var i=this.radius_,a=this.radius2_===void 0?i:this.radius2_;if(i<a){var s=i;i=a,a=s}var f=this.radius2_===void 0?this.points_:this.points_*2,l=2*Math.PI/f,c=a*Math.sin(l),u=Math.sqrt(a*a-c*c),h=i-u,d=Math.sqrt(c*c+h*h),p=d/c;if(e==="miter"&&p<=o)return p*n;var g=n/2/p,m=n/2*(h/d),v=Math.sqrt((i+g)*(i+g)+m*m),_=v-i;if(this.radius2_===void 0||e==="bevel")return _*2;var y=i*Math.sin(l),x=Math.sqrt(i*i-y*y),E=a-x,P=Math.sqrt(y*y+E*E),C=P/y;if(C<=o){var O=C*n/2-a-i;return 2*Math.max(_,O)}return _*2},t.prototype.createRenderOptions=function(){var e=$r,n=0,o=null,i=0,a,s=0;this.stroke_&&(a=this.stroke_.getColor(),a===null&&(a=Yo),a=jt(a),s=this.stroke_.getWidth(),s===void 0&&(s=Xo),o=this.stroke_.getLineDash(),i=this.stroke_.getLineDashOffset(),e=this.stroke_.getLineJoin(),e===void 0&&(e=$r),n=this.stroke_.getMiterLimit(),n===void 0&&(n=zo));var f=this.calculateLineJoinSize_(e,s,n),l=Math.max(this.radius_,this.radius2_||0),c=Math.ceil(2*l+f);return{strokeStyle:a,strokeWidth:s,size:c,lineDash:o,lineDashOffset:i,lineJoin:e,miterLimit:n}},t.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]},t.prototype.draw_=function(e,n,o){if(n.scale(o,o),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){var i=this.fill_.getColor();i===null&&(i=on),n.fillStyle=jt(i),n.fill()}this.stroke_&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,n.setLineDash&&e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())},t.prototype.createHitDetectionCanvas_=function(e){if(this.fill_){var n=this.fill_.getColor(),o=0;if(typeof n=="string"&&(n=Bi(n)),n===null?o=1:Array.isArray(n)&&(o=n.length===4?n[3]:1),o===0){var i=yt(e.size,e.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(e,i)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},t.prototype.createPath_=function(e){var n=this.points_,o=this.radius_;if(n===1/0)e.arc(0,0,o,0,2*Math.PI);else{var i=this.radius2_===void 0?o:this.radius2_;this.radius2_!==void 0&&(n*=2);for(var a=this.angle_-Math.PI/2,s=2*Math.PI/n,f=0;f<n;f++){var l=a+f*s,c=f%2===0?o:i;e.lineTo(c*Math.cos(l),c*Math.sin(l))}e.closePath()}},t.prototype.drawHitDetectionCanvas_=function(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=on,n.fill(),this.stroke_&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())},t}(Ud),V0=H0,q0=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Z0=function(r){q0(t,r);function t(e){var n=e||{};return r.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,scale:n.scale!==void 0?n.scale:1,rotation:n.rotation!==void 0?n.rotation:0,rotateWithView:n.rotateWithView!==void 0?n.rotateWithView:!1,displacement:n.displacement!==void 0?n.displacement:[0,0]})||this}return t.prototype.clone=function(){var e=this.getScale(),n=new t({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},t.prototype.setRadius=function(e){this.radius_=e,this.render()},t}(V0),Ko=Z0,J0=function(){function r(t){var e=t||{};this.color_=e.color!==void 0?e.color:null}return r.prototype.clone=function(){var t=this.getColor();return new r({color:Array.isArray(t)?t.slice():t||void 0})},r.prototype.getColor=function(){return this.color_},r.prototype.setColor=function(t){this.color_=t},r}(),nn=J0,Q0=function(){function r(t){var e=t||{};this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return r.prototype.clone=function(){var t=this.getColor();return new r({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},r.prototype.getColor=function(){return this.color_},r.prototype.getLineCap=function(){return this.lineCap_},r.prototype.getLineDash=function(){return this.lineDash_},r.prototype.getLineDashOffset=function(){return this.lineDashOffset_},r.prototype.getLineJoin=function(){return this.lineJoin_},r.prototype.getMiterLimit=function(){return this.miterLimit_},r.prototype.getWidth=function(){return this.width_},r.prototype.setColor=function(t){this.color_=t},r.prototype.setLineCap=function(t){this.lineCap_=t},r.prototype.setLineDash=function(t){this.lineDash_=t},r.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},r.prototype.setLineJoin=function(t){this.lineJoin_=t},r.prototype.setMiterLimit=function(t){this.miterLimit_=t},r.prototype.setWidth=function(t){this.width_=t},r}(),sn=Q0,Lr=function(){function r(t){var e=t||{};this.geometry_=null,this.geometryFunction_=Fc,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}return r.prototype.clone=function(){var t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new r({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},r.prototype.getRenderer=function(){return this.renderer_},r.prototype.setRenderer=function(t){this.renderer_=t},r.prototype.setHitDetectionRenderer=function(t){this.hitDetectionRenderer_=t},r.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},r.prototype.getGeometry=function(){return this.geometry_},r.prototype.getGeometryFunction=function(){return this.geometryFunction_},r.prototype.getFill=function(){return this.fill_},r.prototype.setFill=function(t){this.fill_=t},r.prototype.getImage=function(){return this.image_},r.prototype.setImage=function(t){this.image_=t},r.prototype.getStroke=function(){return this.stroke_},r.prototype.setStroke=function(t){this.stroke_=t},r.prototype.getText=function(){return this.text_},r.prototype.setText=function(t){this.text_=t},r.prototype.getZIndex=function(){return this.zIndex_},r.prototype.setGeometry=function(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(e){return e.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=Fc,this.geometry_=t},r.prototype.setZIndex=function(t){this.zIndex_=t},r}();function e1(r){var t;if(typeof r=="function")t=r;else{var e;if(Array.isArray(r))e=r;else{le(typeof r.getZIndex=="function",41);var n=r;e=[n]}t=function(){return e}}return t}var is=null;function t1(r,t){if(!is){var e=new nn({color:"rgba(255,255,255,0.4)"}),n=new sn({color:"#3399CC",width:1.25});is=[new Lr({image:new Ko({fill:e,stroke:n,radius:5}),fill:e,stroke:n})]}return is}function n1(){var r={},t=[255,255,255,1],e=[0,153,255,1],n=3;return r[R.POLYGON]=[new Lr({fill:new nn({color:[255,255,255,.5]})})],r[R.MULTI_POLYGON]=r[R.POLYGON],r[R.LINE_STRING]=[new Lr({stroke:new sn({color:t,width:n+2})}),new Lr({stroke:new sn({color:e,width:n})})],r[R.MULTI_LINE_STRING]=r[R.LINE_STRING],r[R.CIRCLE]=r[R.POLYGON].concat(r[R.LINE_STRING]),r[R.POINT]=[new Lr({image:new Ko({radius:n*2,fill:new nn({color:e}),stroke:new sn({color:t,width:n/2})}),zIndex:1/0})],r[R.MULTI_POINT]=r[R.POINT],r[R.GEOMETRY_COLLECTION]=r[R.POLYGON].concat(r[R.LINE_STRING],r[R.POINT]),r}function Fc(r){return r.getGeometry()}var Vs=Lr,r1=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Nc={RENDER_ORDER:"renderOrder"},o1=function(r){r1(t,r);function t(e){var n=this,o=e||{},i=Oe({},o);return delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,n=r.call(this,i)||this,n.declutter_=o.declutter!==void 0?o.declutter:!1,n.renderBuffer_=o.renderBuffer!==void 0?o.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(o.style),n.updateWhileAnimating_=o.updateWhileAnimating!==void 0?o.updateWhileAnimating:!1,n.updateWhileInteracting_=o.updateWhileInteracting!==void 0?o.updateWhileInteracting:!1,n}return t.prototype.getDeclutter=function(){return this.declutter_},t.prototype.getFeatures=function(e){return r.prototype.getFeatures.call(this,e)},t.prototype.getRenderBuffer=function(){return this.renderBuffer_},t.prototype.getRenderOrder=function(){return this.get(Nc.RENDER_ORDER)},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},t.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},t.prototype.renderDeclutter=function(e){e.declutterTree||(e.declutterTree=new Yd(9)),this.getRenderer().renderDeclutter(e)},t.prototype.setRenderOrder=function(e){this.set(Nc.RENDER_ORDER,e)},t.prototype.setStyle=function(e){this.style_=e!==void 0?e:t1,this.styleFunction_=e===null?void 0:e1(this.style_),this.changed()},t}(Ia),i1=o1,ri={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Ei=[ri.FILL],Sn=[ri.STROKE],er=[ri.BEGIN_PATH],Dc=[ri.CLOSE_PATH],ee=ri,a1=function(){function r(){}return r.prototype.drawCustom=function(t,e,n,o){},r.prototype.drawGeometry=function(t){},r.prototype.setStyle=function(t){},r.prototype.drawCircle=function(t,e){},r.prototype.drawFeature=function(t,e){},r.prototype.drawGeometryCollection=function(t,e){},r.prototype.drawLineString=function(t,e){},r.prototype.drawMultiLineString=function(t,e){},r.prototype.drawMultiPoint=function(t,e){},r.prototype.drawMultiPolygon=function(t,e){},r.prototype.drawPoint=function(t,e){},r.prototype.drawPolygon=function(t,e){},r.prototype.drawText=function(t,e){},r.prototype.setFillStrokeStyle=function(t,e){},r.prototype.setImageStyle=function(t,e){},r.prototype.setTextStyle=function(t,e){},r}(),Xd=a1,s1=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),f1=function(r){s1(t,r);function t(e,n,o,i){var a=r.call(this)||this;return a.tolerance=e,a.maxExtent=n,a.pixelRatio=i,a.maxLineWidth=0,a.resolution=o,a.beginGeometryInstruction1_=null,a.beginGeometryInstruction2_=null,a.bufferedMaxExtent_=null,a.instructions=[],a.coordinates=[],a.tmpCoordinate_=[],a.hitDetectionInstructions=[],a.state={},a}return t.prototype.applyPixelRatio=function(e){var n=this.pixelRatio;return n==1?e:e.map(function(o){return o*n})},t.prototype.appendFlatPointCoordinates=function(e,n){for(var o=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,a=this.coordinates,s=a.length,f=0,l=e.length;f<l;f+=n)i[0]=e[f],i[1]=e[f+1],Zo(o,i)&&(a[s++]=i[0],a[s++]=i[1]);return s},t.prototype.appendFlatLineCoordinates=function(e,n,o,i,a,s){var f=this.coordinates,l=f.length,c=this.getBufferedMaxExtent();s&&(n+=i);var u=e[n],h=e[n+1],d=this.tmpCoordinate_,p=!0,g,m,v;for(g=n+i;g<o;g+=i)d[0]=e[g],d[1]=e[g+1],v=As(c,d),v!==m?(p&&(f[l++]=u,f[l++]=h,p=!1),f[l++]=d[0],f[l++]=d[1]):v===Ye.INTERSECTING?(f[l++]=d[0],f[l++]=d[1],p=!1):p=!0,u=d[0],h=d[1],m=v;return(a&&p||g===n+i)&&(f[l++]=u,f[l++]=h),l},t.prototype.drawCustomCoordinates_=function(e,n,o,i,a){for(var s=0,f=o.length;s<f;++s){var l=o[s],c=this.appendFlatLineCoordinates(e,n,l,i,!1,!1);a.push(c),n=l}return n},t.prototype.drawCustom=function(e,n,o,i){this.beginGeometry(e,n);var a=e.getType(),s=e.getStride(),f=this.coordinates.length,l,c,u,h,d;switch(a){case R.MULTI_POLYGON:l=e.getOrientedFlatCoordinates(),h=[];var p=e.getEndss();d=0;for(var g=0,m=p.length;g<m;++g){var v=[];d=this.drawCustomCoordinates_(l,d,p[g],s,v),h.push(v)}this.instructions.push([ee.CUSTOM,f,h,e,o,Xs]),this.hitDetectionInstructions.push([ee.CUSTOM,f,h,e,i||o,Xs]);break;case R.POLYGON:case R.MULTI_LINE_STRING:u=[],l=a==R.POLYGON?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),d=this.drawCustomCoordinates_(l,0,e.getEnds(),s,u),this.instructions.push([ee.CUSTOM,f,u,e,o,Wo]),this.hitDetectionInstructions.push([ee.CUSTOM,f,u,e,i||o,Wo]);break;case R.LINE_STRING:case R.CIRCLE:l=e.getFlatCoordinates(),c=this.appendFlatLineCoordinates(l,0,l.length,s,!1,!1),this.instructions.push([ee.CUSTOM,f,c,e,o,Rn]),this.hitDetectionInstructions.push([ee.CUSTOM,f,c,e,i||o,Rn]);break;case R.MULTI_POINT:l=e.getFlatCoordinates(),c=this.appendFlatPointCoordinates(l,s),c>f&&(this.instructions.push([ee.CUSTOM,f,c,e,o,Rn]),this.hitDetectionInstructions.push([ee.CUSTOM,f,c,e,i||o,Rn]));break;case R.POINT:l=e.getFlatCoordinates(),this.coordinates.push(l[0],l[1]),c=this.coordinates.length,this.instructions.push([ee.CUSTOM,f,c,e,o]),this.hitDetectionInstructions.push([ee.CUSTOM,f,c,e,i||o]);break}this.endGeometry(n)},t.prototype.beginGeometry=function(e,n){this.beginGeometryInstruction1_=[ee.BEGIN_GEOMETRY,n,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[ee.BEGIN_GEOMETRY,n,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},t.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},t.prototype.reverseHitDetectionInstructions=function(){var e=this.hitDetectionInstructions;e.reverse();var n,o=e.length,i,a,s=-1;for(n=0;n<o;++n)i=e[n],a=i[0],a==ee.END_GEOMETRY?s=n:a==ee.BEGIN_GEOMETRY&&(i[2]=n,Dm(this.hitDetectionInstructions,s,n),s=-1)},t.prototype.setFillStrokeStyle=function(e,n){var o=this.state;if(e){var i=e.getColor();o.fillStyle=jt(i||on)}else o.fillStyle=void 0;if(n){var a=n.getColor();o.strokeStyle=jt(a||Yo);var s=n.getLineCap();o.lineCap=s!==void 0?s:qi;var f=n.getLineDash();o.lineDash=f?f.slice():Go;var l=n.getLineDashOffset();o.lineDashOffset=l||jo;var c=n.getLineJoin();o.lineJoin=c!==void 0?c:$r;var u=n.getWidth();o.lineWidth=u!==void 0?u:Xo;var h=n.getMiterLimit();o.miterLimit=h!==void 0?h:zo,o.lineWidth>this.maxLineWidth&&(this.maxLineWidth=o.lineWidth,this.bufferedMaxExtent_=null)}else o.strokeStyle=void 0,o.lineCap=void 0,o.lineDash=null,o.lineDashOffset=void 0,o.lineJoin=void 0,o.lineWidth=void 0,o.miterLimit=void 0},t.prototype.createFill=function(e){var n=e.fillStyle,o=[ee.SET_FILL_STYLE,n];return typeof n!="string"&&o.push(!0),o},t.prototype.applyStroke=function(e){this.instructions.push(this.createStroke(e))},t.prototype.createStroke=function(e){return[ee.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]},t.prototype.updateFillStyle=function(e,n){var o=e.fillStyle;(typeof o!="string"||e.currentFillStyle!=o)&&(o!==void 0&&this.instructions.push(n.call(this,e)),e.currentFillStyle=o)},t.prototype.updateStrokeStyle=function(e,n){var o=e.strokeStyle,i=e.lineCap,a=e.lineDash,s=e.lineDashOffset,f=e.lineJoin,l=e.lineWidth,c=e.miterLimit;(e.currentStrokeStyle!=o||e.currentLineCap!=i||a!=e.currentLineDash&&!mr(e.currentLineDash,a)||e.currentLineDashOffset!=s||e.currentLineJoin!=f||e.currentLineWidth!=l||e.currentMiterLimit!=c)&&(o!==void 0&&n.call(this,e),e.currentStrokeStyle=o,e.currentLineCap=i,e.currentLineDash=a,e.currentLineDashOffset=s,e.currentLineJoin=f,e.currentLineWidth=l,e.currentMiterLimit=c)},t.prototype.endGeometry=function(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var n=[ee.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)},t.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Yh(this.maxExtent),this.maxLineWidth>0)){var e=this.resolution*(this.maxLineWidth+1)/2;No(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},t}(Xd),oi=f1,l1=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),c1=function(r){l1(t,r);function t(e,n,o,i){var a=r.call(this,e,n,o,i)||this;return a.hitDetectionImage_=null,a.image_=null,a.imagePixelRatio_=void 0,a.anchorX_=void 0,a.anchorY_=void 0,a.height_=void 0,a.opacity_=void 0,a.originX_=void 0,a.originY_=void 0,a.rotateWithView_=void 0,a.rotation_=void 0,a.scale_=void 0,a.width_=void 0,a.declutterImageWithText_=void 0,a}return t.prototype.drawPoint=function(e,n){if(!!this.image_){this.beginGeometry(e,n);var o=e.getFlatCoordinates(),i=e.getStride(),a=this.coordinates.length,s=this.appendFlatPointCoordinates(o,i);this.instructions.push([ee.DRAW_IMAGE,a,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([ee.DRAW_IMAGE,a,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(n)}},t.prototype.drawMultiPoint=function(e,n){if(!!this.image_){this.beginGeometry(e,n);var o=e.getFlatCoordinates(),i=e.getStride(),a=this.coordinates.length,s=this.appendFlatPointCoordinates(o,i);this.instructions.push([ee.DRAW_IMAGE,a,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([ee.DRAW_IMAGE,a,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(n)}},t.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,r.prototype.finish.call(this)},t.prototype.setImageStyle=function(e,n){var o=e.getAnchor(),i=e.getSize(),a=e.getHitDetectionImage(),s=e.getImage(this.pixelRatio),f=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=o[0],this.anchorY_=o[1],this.hitDetectionImage_=a,this.image_=s,this.height_=i[1],this.opacity_=e.getOpacity(),this.originX_=f[0]*this.imagePixelRatio_,this.originY_=f[1]*this.imagePixelRatio_,this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=i[0],this.declutterImageWithText_=n},t}(oi),u1=c1,h1=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),d1=function(r){h1(t,r);function t(e,n,o,i){return r.call(this,e,n,o,i)||this}return t.prototype.drawFlatCoordinates_=function(e,n,o,i){var a=this.coordinates.length,s=this.appendFlatLineCoordinates(e,n,o,i,!1,!1),f=[ee.MOVE_TO_LINE_TO,a,s];return this.instructions.push(f),this.hitDetectionInstructions.push(f),o},t.prototype.drawLineString=function(e,n){var o=this.state,i=o.strokeStyle,a=o.lineWidth;if(!(i===void 0||a===void 0)){this.updateStrokeStyle(o,this.applyStroke),this.beginGeometry(e,n),this.hitDetectionInstructions.push([ee.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,Go,jo],er);var s=e.getFlatCoordinates(),f=e.getStride();this.drawFlatCoordinates_(s,0,s.length,f),this.hitDetectionInstructions.push(Sn),this.endGeometry(n)}},t.prototype.drawMultiLineString=function(e,n){var o=this.state,i=o.strokeStyle,a=o.lineWidth;if(!(i===void 0||a===void 0)){this.updateStrokeStyle(o,this.applyStroke),this.beginGeometry(e,n),this.hitDetectionInstructions.push([ee.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset],er);for(var s=e.getEnds(),f=e.getFlatCoordinates(),l=e.getStride(),c=0,u=0,h=s.length;u<h;++u)c=this.drawFlatCoordinates_(f,c,s[u],l);this.hitDetectionInstructions.push(Sn),this.endGeometry(n)}},t.prototype.finish=function(){var e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Sn),this.reverseHitDetectionInstructions(),this.state=null,r.prototype.finish.call(this)},t.prototype.applyStroke=function(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Sn),e.lastStroke=this.coordinates.length),e.lastStroke=0,r.prototype.applyStroke.call(this,e),this.instructions.push(er)},t}(oi),p1=d1,g1=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),v1=function(r){g1(t,r);function t(e,n,o,i){return r.call(this,e,n,o,i)||this}return t.prototype.drawFlatCoordinatess_=function(e,n,o,i){var a=this.state,s=a.fillStyle!==void 0,f=a.strokeStyle!==void 0,l=o.length;this.instructions.push(er),this.hitDetectionInstructions.push(er);for(var c=0;c<l;++c){var u=o[c],h=this.coordinates.length,d=this.appendFlatLineCoordinates(e,n,u,i,!0,!f),p=[ee.MOVE_TO_LINE_TO,h,d];this.instructions.push(p),this.hitDetectionInstructions.push(p),f&&(this.instructions.push(Dc),this.hitDetectionInstructions.push(Dc)),n=u}return s&&(this.instructions.push(Ei),this.hitDetectionInstructions.push(Ei)),f&&(this.instructions.push(Sn),this.hitDetectionInstructions.push(Sn)),n},t.prototype.drawCircle=function(e,n){var o=this.state,i=o.fillStyle,a=o.strokeStyle;if(!(i===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(e,n),o.fillStyle!==void 0&&this.hitDetectionInstructions.push([ee.SET_FILL_STYLE,on]),o.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ee.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);var s=e.getFlatCoordinates(),f=e.getStride(),l=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,f,!1,!1);var c=[ee.CIRCLE,l];this.instructions.push(er,c),this.hitDetectionInstructions.push(er,c),o.fillStyle!==void 0&&(this.instructions.push(Ei),this.hitDetectionInstructions.push(Ei)),o.strokeStyle!==void 0&&(this.instructions.push(Sn),this.hitDetectionInstructions.push(Sn)),this.endGeometry(n)}},t.prototype.drawPolygon=function(e,n){var o=this.state,i=o.fillStyle,a=o.strokeStyle;if(!(i===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(e,n),o.fillStyle!==void 0&&this.hitDetectionInstructions.push([ee.SET_FILL_STYLE,on]),o.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ee.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);var s=e.getEnds(),f=e.getOrientedFlatCoordinates(),l=e.getStride();this.drawFlatCoordinatess_(f,0,s,l),this.endGeometry(n)}},t.prototype.drawMultiPolygon=function(e,n){var o=this.state,i=o.fillStyle,a=o.strokeStyle;if(!(i===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(e,n),o.fillStyle!==void 0&&this.hitDetectionInstructions.push([ee.SET_FILL_STYLE,on]),o.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ee.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);for(var s=e.getEndss(),f=e.getOrientedFlatCoordinates(),l=e.getStride(),c=0,u=0,h=s.length;u<h;++u)c=this.drawFlatCoordinatess_(f,c,s[u],l);this.endGeometry(n)}},t.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(e!==0)for(var n=this.coordinates,o=0,i=n.length;o<i;++o)n[o]=$n(n[o],e);return r.prototype.finish.call(this)},t.prototype.setFillStrokeStyles_=function(){var e=this.state,n=e.fillStyle;n!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)},t}(oi),Gc=v1,m1={POINT:"point",LINE:"line"};function b1(r,t,e,n,o){var i=e,a=e,s=0,f=0,l=e,c,u,h,d,p,g,m,v,_,y;for(u=e;u<n;u+=o){var x=t[u],E=t[u+1];p!==void 0&&(_=x-p,y=E-g,d=Math.sqrt(_*_+y*y),m!==void 0&&(f+=h,c=Math.acos((m*_+v*y)/(h*d)),c>r&&(f>s&&(s=f,i=l,a=u),f=0,l=u-o)),h=d,m=_,v=y),p=x,g=E}return f+=d,f>s?[l,u]:[i,a]}var _1=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ta={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},y1=function(r){_1(t,r);function t(e,n,o,i){var a=r.call(this,e,n,o,i)||this;return a.labels_=null,a.text_="",a.textOffsetX_=0,a.textOffsetY_=0,a.textRotateWithView_=void 0,a.textRotation_=0,a.textFillState_=null,a.fillStates={},a.textStrokeState_=null,a.strokeStates={},a.textState_={},a.textStates={},a.textKey_="",a.fillKey_="",a.strokeKey_="",a.declutterImageWithText_=void 0,a}return t.prototype.finish=function(){var e=r.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},t.prototype.drawText=function(e,n){var o=this.textFillState_,i=this.textStrokeState_,a=this.textState_;if(!(this.text_===""||!a||!o&&!i)){var s=this.coordinates,f=s.length,l=e.getType(),c=null,u=e.getStride();if(a.placement===m1.LINE&&(l==R.LINE_STRING||l==R.MULTI_LINE_STRING||l==R.POLYGON||l==R.MULTI_POLYGON)){if(!Je(this.getBufferedMaxExtent(),e.getExtent()))return;var h=void 0;if(c=e.getFlatCoordinates(),l==R.LINE_STRING)h=[c.length];else if(l==R.MULTI_LINE_STRING)h=e.getEnds();else if(l==R.POLYGON)h=e.getEnds().slice(0,1);else if(l==R.MULTI_POLYGON){var d=e.getEndss();h=[];for(var p=0,g=d.length;p<g;++p)h.push(d[p][0])}this.beginGeometry(e,n);for(var m=a.textAlign,v=0,_=void 0,y=0,x=h.length;y<x;++y){if(m==null){var E=b1(a.maxAngle,c,v,h[y],u);v=E[0],_=E[1]}else _=h[y];for(var p=v;p<_;p+=u)s.push(c[p],c[p+1]);var P=s.length;v=h[y],this.drawChars_(f,P),f=P}this.endGeometry(n)}else{var C=a.overflow?null:[];switch(l){case R.POINT:case R.MULTI_POINT:c=e.getFlatCoordinates();break;case R.LINE_STRING:c=e.getFlatMidpoint();break;case R.CIRCLE:c=e.getCenter();break;case R.MULTI_LINE_STRING:c=e.getFlatMidpoints(),u=2;break;case R.POLYGON:c=e.getFlatInteriorPoint(),a.overflow||C.push(c[2]/this.resolution),u=3;break;case R.MULTI_POLYGON:var O=e.getFlatInteriorPoints();c=[];for(var p=0,g=O.length;p<g;p+=3)a.overflow||C.push(O[p+2]/this.resolution),c.push(O[p],O[p+1]);if(c.length===0)return;u=2;break}var P=this.appendFlatPointCoordinates(c,u);if(P===f)return;if(C&&(P-f)/2!==c.length/u){var M=f/2;C=C.filter(function($,ne){var ce=s[(M+ne)*2]===c[ne*u]&&s[(M+ne)*2+1]===c[ne*u+1];return ce||--M,ce})}this.saveTextStates_(),(a.backgroundFill||a.backgroundStroke)&&(this.setFillStrokeStyle(a.backgroundFill,a.backgroundStroke),a.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),a.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,n);var U=a.padding;if(U!=Zn&&(a.scale[0]<0||a.scale[1]<0)){var K=a.padding[0],B=a.padding[1],V=a.padding[2],te=a.padding[3];a.scale[0]<0&&(B=-B,te=-te),a.scale[1]<0&&(K=-K,V=-V),U=[K,B,V,te]}var j=this.pixelRatio;this.instructions.push([ee.DRAW_IMAGE,f,P,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,U==Zn?Zn:U.map(function($){return $*j}),!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,C]);var X=1/j;this.hitDetectionInstructions.push([ee.DRAW_IMAGE,f,P,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[X,X],NaN,this.declutterImageWithText_,U,!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,C]),this.endGeometry(n)}}},t.prototype.saveTextStates_=function(){var e=this.textStrokeState_,n=this.textState_,o=this.textFillState_,i=this.strokeKey_;e&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));var a=this.textKey_;a in this.textStates||(this.textStates[a]={font:n.font,textAlign:n.textAlign||Uo,textBaseline:n.textBaseline||Zi,scale:n.scale});var s=this.fillKey_;o&&(s in this.fillStates||(this.fillStates[s]={fillStyle:o.fillStyle}))},t.prototype.drawChars_=function(e,n){var o=this.textStrokeState_,i=this.textState_,a=this.strokeKey_,s=this.textKey_,f=this.fillKey_;this.saveTextStates_();var l=this.pixelRatio,c=ta[i.textBaseline],u=this.textOffsetY_*l,h=this.text_,d=o?o.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([ee.DRAW_CHARS,e,n,c,i.overflow,f,i.maxAngle,l,u,a,d*l,h,s,1]),this.hitDetectionInstructions.push([ee.DRAW_CHARS,e,n,c,i.overflow,f,i.maxAngle,1,u,a,d,h,s,1/l])},t.prototype.setTextStyle=function(e,n){var o,i,a;if(!e)this.text_="";else{var s=e.getFill();s?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=jt(s.getColor()||on)):(i=null,this.textFillState_=i);var f=e.getStroke();if(!f)a=null,this.textStrokeState_=a;else{a=this.textStrokeState_,a||(a={},this.textStrokeState_=a);var l=f.getLineDash(),c=f.getLineDashOffset(),u=f.getWidth(),h=f.getMiterLimit();a.lineCap=f.getLineCap()||qi,a.lineDash=l?l.slice():Go,a.lineDashOffset=c===void 0?jo:c,a.lineJoin=f.getLineJoin()||$r,a.lineWidth=u===void 0?Xo:u,a.miterLimit=h===void 0?zo:h,a.strokeStyle=jt(f.getColor()||Yo)}o=this.textState_;var d=e.getFont()||nd;Ub(d);var p=e.getScaleArray();o.overflow=e.getOverflow(),o.font=d,o.maxAngle=e.getMaxAngle(),o.placement=e.getPlacement(),o.textAlign=e.getTextAlign(),o.textBaseline=e.getTextBaseline()||Zi,o.backgroundFill=e.getBackgroundFill(),o.backgroundStroke=e.getBackgroundStroke(),o.padding=e.getPadding()||Zn,o.scale=p===void 0?[1,1]:p;var g=e.getOffsetX(),m=e.getOffsetY(),v=e.getRotateWithView(),_=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=g===void 0?0:g,this.textOffsetY_=m===void 0?0:m,this.textRotateWithView_=v===void 0?!1:v,this.textRotation_=_===void 0?0:_,this.strokeKey_=a?(typeof a.strokeStyle=="string"?a.strokeStyle:be(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"",this.textKey_=o.font+o.scale+(o.textAlign||"?")+(o.textBaseline||"?"),this.fillKey_=i?typeof i.fillStyle=="string"?i.fillStyle:"|"+be(i.fillStyle):""}this.declutterImageWithText_=n},t}(oi),w1=y1,x1={Circle:Gc,Default:oi,Image:u1,LineString:p1,Polygon:Gc,Text:w1},E1=function(){function r(t,e,n,o){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=o,this.resolution_=n,this.buildersByZIndex_={}}return r.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var o in n){var i=n[o].finish();t[e][o]=i}}return t},r.prototype.getBuilder=function(t,e){var n=t!==void 0?t.toString():"0",o=this.buildersByZIndex_[n];o===void 0&&(o={},this.buildersByZIndex_[n]=o);var i=o[e];if(i===void 0){var a=x1[e];i=new a(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),o[e]=i}return i},r}(),jc=E1,T1=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),C1=function(r){T1(t,r);function t(e){var n=r.call(this)||this;return n.ready=!0,n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n.declutterExecutorGroup=null,n}return t.prototype.getFeatures=function(e){return Z()},t.prototype.getData=function(e){return null},t.prototype.prepareFrame=function(e){return Z()},t.prototype.renderFrame=function(e,n){return Z()},t.prototype.loadedTileCallback=function(e,n,o){e[n]||(e[n]={}),e[n][o.tileCoord.toString()]=o},t.prototype.createLoadedTileFinder=function(e,n,o){return function(i,a){var s=this.loadedTileCallback.bind(this,o,i);return e.forEachLoadedTile(n,i,a,s)}.bind(this)},t.prototype.forEachFeatureAtCoordinate=function(e,n,o,i,a){},t.prototype.getDataAtPixel=function(e,n,o){return null},t.prototype.getLayer=function(){return this.layer_},t.prototype.handleFontsChanged=function(){},t.prototype.handleImageChange_=function(e){var n=e.target;n.getState()===Ee.LOADED&&this.renderIfReadyAndVisible()},t.prototype.loadImage=function(e){var n=e.getState();return n!=Ee.LOADED&&n!=Ee.ERROR&&e.addEventListener(re.CHANGE,this.boundHandleImageChange_),n==Ee.IDLE&&(e.load(),n=e.getState()),n==Ee.LOADED},t.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e.getVisible()&&e.getSourceState()==dr.READY&&e.changed()},t.prototype.disposeInternal=function(){delete this.layer_,r.prototype.disposeInternal.call(this)},t}(ei),O1=C1,I1=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),mo=null;function R1(){var r=document.createElement("canvas");r.width=1,r.height=1,mo=r.getContext("2d")}var S1=function(r){I1(t,r);function t(e){var n=r.call(this,e)||this;return n.container=null,n.renderedResolution,n.tempTransform=Yt(),n.pixelTransform=Yt(),n.inversePixelTransform=Yt(),n.context=null,n.containerReused=!1,n.pixelContext_=null,n.frameState=null,n}return t.prototype.getImageData=function(e,n,o){mo||R1(),mo.clearRect(0,0,1,1);var i;try{mo.drawImage(e,n,o,1,1,0,0,1,1),i=mo.getImageData(0,0,1,1).data}catch{return null}return i},t.prototype.getBackground=function(e){var n=this.getLayer(),o=n.getBackground();return typeof o=="function"&&(o=o(e.viewState.resolution)),o||void 0},t.prototype.useContainer=function(e,n,o,i){var a=this.getLayer().getClassName(),s,f;if(e&&e.className===a&&e.style.opacity===""&&o===1&&(!i||e.style.backgroundColor&&mr(Bi(e.style.backgroundColor),Bi(i)))){var l=e.firstElementChild;l instanceof HTMLCanvasElement&&(f=l.getContext("2d"))}if(f&&f.canvas.style.transform===n?(this.container=e,this.context=f,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){s=document.createElement("div"),s.className=a;var c=s.style;c.position="absolute",c.width="100%",c.height="100%",i&&(c.backgroundColor=i),f=yt();var l=f.canvas;s.appendChild(l),c=l.style,c.position="absolute",c.left="0",c.transformOrigin="top left",this.container=s,this.context=f}},t.prototype.clipUnrotated=function(e,n,o){var i=_r(o),a=Oa(o),s=Ca(o),f=Ta(o);Ne(n.coordinateToPixelTransform,i),Ne(n.coordinateToPixelTransform,a),Ne(n.coordinateToPixelTransform,s),Ne(n.coordinateToPixelTransform,f);var l=this.inversePixelTransform;Ne(l,i),Ne(l,a),Ne(l,s),Ne(l,f),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(f[0]),Math.round(f[1])),e.clip()},t.prototype.dispatchRenderEvent_=function(e,n,o){var i=this.getLayer();if(i.hasListener(e)){var a=new Jh(e,this.inversePixelTransform,o,n);i.dispatchEvent(a)}},t.prototype.preRender=function(e,n){this.frameState=n,this.dispatchRenderEvent_(Ln.PRERENDER,e,n)},t.prototype.postRender=function(e,n){this.dispatchRenderEvent_(Ln.POSTRENDER,e,n)},t.prototype.getRenderTransform=function(e,n,o,i,a,s,f){var l=a/2,c=s/2,u=i/n,h=-u,d=-e[0]+f,p=-e[1];return ln(this.tempTransform,l,c,u,h,-o,d,p)},t.prototype.getDataAtPixel=function(e,n,o){var i=Ne(this.inversePixelTransform,e.slice()),a=this.context,s=this.getLayer(),f=s.getExtent();if(f){var l=Ne(n.pixelToCoordinateTransform,e.slice());if(!Zo(f,l))return null}var c=Math.round(i[0]),u=Math.round(i[1]),h=this.pixelContext_;if(!h){var d=document.createElement("canvas");d.width=1,d.height=1,h=d.getContext("2d"),this.pixelContext_=h}h.clearRect(0,0,1,1);var p;try{h.drawImage(a.canvas,c,u,1,1,0,0,1,1),p=h.getImageData(0,0,1,1).data}catch(g){return g.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):p}return p[3]===0?null:p},t.prototype.disposeInternal=function(){delete this.frameState,r.prototype.disposeInternal.call(this)},t}(O1),Bd=S1,Se={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function P1(r,t,e,n,o,i,a,s,f,l,c,u){var h=r[t],d=r[t+1],p=0,g=0,m=0,v=0;function _(){p=h,g=d,t+=n,h=r[t],d=r[t+1],v+=m,m=Math.sqrt((h-p)*(h-p)+(d-g)*(d-g))}do _();while(t<e-n&&v+m<i);for(var y=m===0?0:(i-v)/m,x=Qt(p,h,y),E=Qt(g,d,y),P=t-n,C=v,O=i+s*f(l,o,c);t<e-n&&v+m<O;)_();y=m===0?0:(O-v)/m;var M=Qt(p,h,y),U=Qt(g,d,y),K;if(u){var B=[x,E,M,U];Jf(B,0,4,2,u,B,B),K=B[0]>B[2]}else K=x>M;var V=Math.PI,te=[],j=P+n===t;t=P,m=0,v=C,h=r[t],d=r[t+1];var X;if(j){_(),X=Math.atan2(d-g,h-p),K&&(X+=X>0?-V:V);var D=(M+x)/2,$=(U+E)/2;return te[0]=[D,$,(O-i)/2,X,o],te}for(var ne=0,ce=o.length;ne<ce;){_();var me=Math.atan2(d-g,h-p);if(K&&(me+=me>0?-V:V),X!==void 0){var A=me-X;if(A+=A>V?-2*V:A<-V?2*V:0,Math.abs(A)>a)return null}X=me;for(var ye=ne,oe=0;ne<ce;++ne){var ke=K?ce-ne-1:ne,qe=s*f(l,o[ke],c);if(t+n<e&&v+m<i+oe+qe/2)break;oe+=qe}if(ne!==ye){var Ie=K?o.substring(ce-ye,ce-ne):o.substring(ye,ne);y=m===0?0:(i+oe/2-v)/m;var D=Qt(p,h,y),$=Qt(g,d,y);te.push([D,$,oe/2,me,Ie]),i+=oe}}return te}var Er=pt(),bn=[],$t=[],Kt=[],_n=[];function zc(r){return r[3].declutterBox}var k1=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function Yc(r,t){return(t==="start"||t==="end")&&!k1.test(r)&&(t=t==="start"?"left":"right"),ta[t]}function A1(r,t,e){return e>0&&r.push(`
`,""),r.push(t,""),r}var L1=function(){function r(t,e,n,o){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=o.instructions,this.coordinates=o.coordinates,this.coordinateCache_={},this.renderedTransform_=Yt(),this.hitDetectionInstructions=o.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=o.fillStates||{},this.strokeStates=o.strokeStates||{},this.textStates=o.textStates||{},this.widths_={},this.labels_={}}return r.prototype.createLabel=function(t,e,n,o){var i=t+e+n+o;if(this.labels_[i])return this.labels_[i];var a=o?this.strokeStates[o]:null,s=n?this.fillStates[n]:null,f=this.textStates[e],l=this.pixelRatio,c=[f.scale[0]*l,f.scale[1]*l],u=Array.isArray(t),h=Yc(u?t[0]:t,f.textAlign||Uo),d=o&&a.lineWidth?a.lineWidth:0,p=u?t:t.split(`
`).reduce(A1,[]),g=Bb(f,p),m=g.width,v=g.height,_=g.widths,y=g.heights,x=g.lineWidths,E=m+d,P=[],C=(E+2)*c[0],O=(v+d)*c[1],M={width:C<0?Math.floor(C):Math.ceil(C),height:O<0?Math.floor(O):Math.ceil(O),contextInstructions:P};if((c[0]!=1||c[1]!=1)&&P.push("scale",c),o){P.push("strokeStyle",a.strokeStyle),P.push("lineWidth",d),P.push("lineCap",a.lineCap),P.push("lineJoin",a.lineJoin),P.push("miterLimit",a.miterLimit);var U=Ea?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;U.prototype.setLineDash&&(P.push("setLineDash",[a.lineDash]),P.push("lineDashOffset",a.lineDashOffset))}n&&P.push("fillStyle",s.fillStyle),P.push("textBaseline","middle"),P.push("textAlign","center");for(var K=.5-h,B=h*E+K*d,V=[],te=[],j=0,X=0,D=0,$=0,ne,ce=0,me=p.length;ce<me;ce+=2){var A=p[ce];if(A===`
`){X+=j,j=0,B=h*E+K*d,++$;continue}var ye=p[ce+1]||f.font;ye!==ne&&(o&&V.push("font",ye),n&&te.push("font",ye),ne=ye),j=Math.max(j,y[D]);var oe=[A,B+K*_[D]+h*(_[D]-x[$]),.5*(d+j)+X];B+=_[D],o&&V.push("strokeText",oe),n&&te.push("fillText",oe),++D}return Array.prototype.push.apply(P,V),Array.prototype.push.apply(P,te),this.labels_[i]=M,M},r.prototype.replayTextBackground_=function(t,e,n,o,i,a,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,o),t.lineTo.apply(t,i),t.lineTo.apply(t,e),a&&(this.alignFill_=a[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},r.prototype.calculateImageOrLabelDimensions_=function(t,e,n,o,i,a,s,f,l,c,u,h,d,p,g,m){s*=h[0],f*=h[1];var v=n-s,_=o-f,y=i+l>t?t-l:i,x=a+c>e?e-c:a,E=p[3]+y*h[0]+p[1],P=p[0]+x*h[1]+p[2],C=v-p[3],O=_-p[0];(g||u!==0)&&(bn[0]=C,_n[0]=C,bn[1]=O,$t[1]=O,$t[0]=C+E,Kt[0]=$t[0],Kt[1]=O+P,_n[1]=Kt[1]);var M;return u!==0?(M=ln(Yt(),n,o,1,1,u,-n,-o),Ne(M,bn),Ne(M,$t),Ne(M,Kt),Ne(M,_n),kt(Math.min(bn[0],$t[0],Kt[0],_n[0]),Math.min(bn[1],$t[1],Kt[1],_n[1]),Math.max(bn[0],$t[0],Kt[0],_n[0]),Math.max(bn[1],$t[1],Kt[1],_n[1]),Er)):kt(Math.min(C,C+E),Math.min(O,O+P),Math.max(C,C+E),Math.max(O,O+P),Er),d&&(v=Math.round(v),_=Math.round(_)),{drawImageX:v,drawImageY:_,drawImageW:y,drawImageH:x,originX:l,originY:c,declutterBox:{minX:Er[0],minY:Er[1],maxX:Er[2],maxY:Er[3],value:m},canvasTransform:M,scale:h}},r.prototype.replayImageOrLabel_=function(t,e,n,o,i,a,s){var f=!!(a||s),l=o.declutterBox,c=t.canvas,u=s?s[2]*o.scale[0]/2:0,h=l.minX-u<=c.width/e&&l.maxX+u>=0&&l.minY-u<=c.height/e&&l.maxY+u>=0;return h&&(f&&this.replayTextBackground_(t,bn,$t,Kt,_n,a,s),Wb(t,o.canvasTransform,i,n,o.originX,o.originY,o.drawImageW,o.drawImageH,o.drawImageX,o.drawImageY,o.scale)),!0},r.prototype.fill_=function(t){if(this.alignFill_){var e=Ne(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},r.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},r.prototype.drawLabelWithPointPlacement_=function(t,e,n,o){var i=this.textStates[e],a=this.createLabel(t,e,o,n),s=this.strokeStates[n],f=this.pixelRatio,l=Yc(Array.isArray(t)?t[0]:t,i.textAlign||Uo),c=ta[i.textBaseline||Zi],u=s&&s.lineWidth?s.lineWidth:0,h=a.width/f-2*i.scale[0],d=l*h+2*(.5-l)*u,p=c*a.height/f+2*(.5-c)*u;return{label:a,anchorX:d,anchorY:p}},r.prototype.execute_=function(t,e,n,o,i,a,s,f){var l;this.pixelCoordinates_&&mr(n,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=fr(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),qm(this.renderedTransform_,n));for(var c=0,u=o.length,h=0,d,p,g,m,v,_,y,x,E,P,C,O,M=0,U=0,K=null,B=null,V=this.coordinateCache_,te=this.viewRotation_,j=Math.round(Math.atan2(-n[1],n[0])*1e12)/1e12,X={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:te},D=this.instructions!=o||this.overlaps?0:200,$,ne,ce,me;c<u;){var A=o[c],ye=A[0];switch(ye){case ee.BEGIN_GEOMETRY:$=A[1],me=A[3],$.getGeometry()?s!==void 0&&!Je(s,me.getExtent())?c=A[2]+1:++c:c=A[2];break;case ee.BEGIN_PATH:M>D&&(this.fill_(t),M=0),U>D&&(t.stroke(),U=0),!M&&!U&&(t.beginPath(),m=NaN,v=NaN),++c;break;case ee.CIRCLE:h=A[1];var oe=l[h],ke=l[h+1],qe=l[h+2],Ie=l[h+3],je=qe-oe,We=Ie-ke,st=Math.sqrt(je*je+We*We);t.moveTo(oe+st,ke),t.arc(oe,ke,st,0,2*Math.PI,!0),++c;break;case ee.CLOSE_PATH:t.closePath(),++c;break;case ee.CUSTOM:h=A[1],d=A[2];var tt=A[3],gn=A[4],b=A.length==6?A[5]:void 0;X.geometry=tt,X.feature=$,c in V||(V[c]=[]);var w=V[c];b?b(l,h,d,2,w):(w[0]=l[h],w[1]=l[h+1],w.length=2),gn(w,X),++c;break;case ee.DRAW_IMAGE:h=A[1],d=A[2],x=A[3],p=A[4],g=A[5];var T=A[6],S=A[7],I=A[8],F=A[9],G=A[10],L=A[11],N=A[12],k=A[13],W=A[14];if(!x&&A.length>=19){E=A[18],P=A[19],C=A[20],O=A[21];var z=this.drawLabelWithPointPlacement_(E,P,C,O);x=z.label,A[3]=x;var H=A[22];p=(z.anchorX-H)*this.pixelRatio,A[4]=p;var J=A[23];g=(z.anchorY-J)*this.pixelRatio,A[5]=g,T=x.height,A[6]=T,k=x.width,A[13]=k}var se=void 0;A.length>24&&(se=A[24]);var ue=void 0,fe=void 0,pe=void 0;A.length>16?(ue=A[15],fe=A[16],pe=A[17]):(ue=Zn,fe=!1,pe=!1),G&&j?L+=te:!G&&!j&&(L-=te);for(var Be=0;h<d;h+=2)if(!(se&&se[Be++]<k/this.pixelRatio)){var Ae=this.calculateImageOrLabelDimensions_(x.width,x.height,l[h],l[h+1],k,T,p,g,I,F,L,N,i,ue,fe||pe,$),zn=[t,e,x,Ae,S,fe?K:null,pe?B:null],Re=void 0,Wt=void 0;if(f&&W){var Le=d-h;if(!W[Le]){W[Le]=zn;continue}if(Re=W[Le],delete W[Le],Wt=zc(Re),f.collides(Wt))continue}f&&f.collides(Ae.declutterBox)||(Re&&(f&&f.insert(Wt),this.replayImageOrLabel_.apply(this,Re)),f&&f.insert(Ae.declutterBox),this.replayImageOrLabel_.apply(this,zn))}++c;break;case ee.DRAW_CHARS:var ft=A[1],to=A[2],za=A[3],Bp=A[4];O=A[5];var Wp=A[6],Ol=A[7],Il=A[8];C=A[9];var Ya=A[10];E=A[11],P=A[12];var Rl=[A[13],A[13]],Ua=this.textStates[P],no=Ua.font,ro=[Ua.scale[0]*Ol,Ua.scale[1]*Ol],oo=void 0;no in this.widths_?oo=this.widths_[no]:(oo={},this.widths_[no]=oo);var Sl=Dd(l,ft,to,2),Pl=Math.abs(ro[0])*vc(no,E,oo);if(Bp||Pl<=Sl){var $p=this.textStates[P].textAlign,Kp=(Sl-Pl)*ta[$p],io=P1(l,ft,to,2,E,Kp,Wp,Math.abs(ro[0]),vc,no,oo,j?0:this.viewRotation_);e:if(io){var ao=[],vn=void 0,ai=void 0,si=void 0,nt=void 0,vt=void 0;if(C)for(vn=0,ai=io.length;vn<ai;++vn){vt=io[vn],si=vt[4],nt=this.createLabel(si,P,"",C),p=vt[2]+(ro[0]<0?-Ya:Ya),g=za*nt.height+(.5-za)*2*Ya*ro[1]/ro[0]-Il;var Ae=this.calculateImageOrLabelDimensions_(nt.width,nt.height,vt[0],vt[1],nt.width,nt.height,p,g,0,0,vt[3],Rl,!1,Zn,!1,$);if(f&&f.collides(Ae.declutterBox))break e;ao.push([t,e,nt,Ae,1,null,null])}if(O)for(vn=0,ai=io.length;vn<ai;++vn){vt=io[vn],si=vt[4],nt=this.createLabel(si,P,O,""),p=vt[2],g=za*nt.height-Il;var Ae=this.calculateImageOrLabelDimensions_(nt.width,nt.height,vt[0],vt[1],nt.width,nt.height,p,g,0,0,vt[3],Rl,!1,Zn,!1,$);if(f&&f.collides(Ae.declutterBox))break e;ao.push([t,e,nt,Ae,1,null,null])}f&&f.load(ao.map(zc));for(var Xa=0,Hp=ao.length;Xa<Hp;++Xa)this.replayImageOrLabel_.apply(this,ao[Xa])}}++c;break;case ee.END_GEOMETRY:if(a!==void 0){$=A[1];var kl=a($,me);if(kl)return kl}++c;break;case ee.FILL:D?M++:this.fill_(t),++c;break;case ee.MOVE_TO_LINE_TO:for(h=A[1],d=A[2],ne=l[h],ce=l[h+1],_=ne+.5|0,y=ce+.5|0,(_!==m||y!==v)&&(t.moveTo(ne,ce),m=_,v=y),h+=2;h<d;h+=2)ne=l[h],ce=l[h+1],_=ne+.5|0,y=ce+.5|0,(h==d-2||_!==m||y!==v)&&(t.lineTo(ne,ce),m=_,v=y);++c;break;case ee.SET_FILL_STYLE:K=A,this.alignFill_=A[2],M&&(this.fill_(t),M=0,U&&(t.stroke(),U=0)),t.fillStyle=A[1],++c;break;case ee.SET_STROKE_STYLE:B=A,U&&(t.stroke(),U=0),this.setStrokeStyle_(t,A),++c;break;case ee.STROKE:D?U++:t.stroke(),++c;break;default:++c;break}}M&&this.fill_(t),U&&t.stroke()},r.prototype.execute=function(t,e,n,o,i,a){this.viewRotation_=o,this.execute_(t,e,n,this.instructions,i,void 0,void 0,a)},r.prototype.executeHitDetection=function(t,e,n,o,i){return this.viewRotation_=n,this.execute_(t,1,e,this.hitDetectionInstructions,!0,o,i)},r}(),M1=L1,as=[Se.POLYGON,Se.CIRCLE,Se.LINE_STRING,Se.IMAGE,Se.TEXT,Se.DEFAULT],F1=function(){function r(t,e,n,o,i,a){this.maxExtent_=t,this.overlaps_=o,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=a,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Yt(),this.createExecutors_(i)}return r.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},r.prototype.createExecutors_=function(t){for(var e in t){var n=this.executorsByZIndex_[e];n===void 0&&(n={},this.executorsByZIndex_[e]=n);var o=t[e];for(var i in o){var a=o[i];n[i]=new M1(this.resolution_,this.pixelRatio_,this.overlaps_,a)}}},r.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],o=0,i=t.length;o<i;++o)if(t[o]in n)return!0;return!1},r.prototype.forEachFeatureAtCoordinate=function(t,e,n,o,i,a){o=Math.round(o);var s=o*2+1,f=ln(this.hitDetectionTransform_,o+.5,o+.5,1/e,-1/e,-n,-t[0],-t[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=yt(s,s));var c=this.hitDetectionContext_;c.canvas.width!==s||c.canvas.height!==s?(c.canvas.width=s,c.canvas.height=s):l||c.clearRect(0,0,s,s);var u;this.renderBuffer_!==void 0&&(u=pt(),Co(u,t),No(u,e*(this.renderBuffer_+o),u));var h=N1(o),d;function p(P,C){for(var O=c.getImageData(0,0,s,s).data,M=0,U=h.length;M<U;M++)if(O[h[M]]>0){if(!a||d!==Se.IMAGE&&d!==Se.TEXT||a.indexOf(P)!==-1){var K=(h[M]-3)/4,B=o-K%s,V=o-(K/s|0),te=i(P,C,B*B+V*V);if(te)return te}c.clearRect(0,0,s,s);break}}var g=Object.keys(this.executorsByZIndex_).map(Number);g.sort(cr);var m,v,_,y,x;for(m=g.length-1;m>=0;--m){var E=g[m].toString();for(_=this.executorsByZIndex_[E],v=as.length-1;v>=0;--v)if(d=as[v],y=_[d],y!==void 0&&(x=y.executeHitDetection(c,f,n,p,u),x))return x}},r.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],o=e[1],i=e[2],a=e[3],s=[n,o,n,a,i,a,i,o];return fr(s,0,8,2,t,s),s},r.prototype.isEmpty=function(){return Wr(this.executorsByZIndex_)},r.prototype.execute=function(t,e,n,o,i,a,s){var f=Object.keys(this.executorsByZIndex_).map(Number);f.sort(cr),this.maxExtent_&&(t.save(),this.clip(t,n));var l=a||as,c,u,h,d,p,g;for(s&&f.reverse(),c=0,u=f.length;c<u;++c){var m=f[c].toString();for(p=this.executorsByZIndex_[m],h=0,d=l.length;h<d;++h){var v=l[h];g=p[v],g!==void 0&&g.execute(t,e,n,o,i,s)}}this.maxExtent_&&t.restore()},r}(),ss={};function N1(r){if(ss[r]!==void 0)return ss[r];for(var t=r*2+1,e=r*r,n=new Array(e+1),o=0;o<=r;++o)for(var i=0;i<=r;++i){var a=o*o+i*i;if(a>e)break;var s=n[a];s||(s=[],n[a]=s),s.push(((r+o)*t+(r+i))*4+3),o>0&&s.push(((r-o)*t+(r+i))*4+3),i>0&&(s.push(((r+o)*t+(r-i))*4+3),o>0&&s.push(((r-o)*t+(r-i))*4+3))}for(var f=[],o=0,l=n.length;o<l;++o)n[o]&&f.push.apply(f,n[o]);return ss[r]=f,f}var Uc=F1,D1=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),G1=function(r){D1(t,r);function t(e,n,o,i,a,s,f){var l=r.call(this)||this;return l.context_=e,l.pixelRatio_=n,l.extent_=o,l.transform_=i,l.viewRotation_=a,l.squaredTolerance_=s,l.userTransform_=f,l.contextFillState_=null,l.contextStrokeState_=null,l.contextTextState_=null,l.fillState_=null,l.strokeState_=null,l.image_=null,l.imageAnchorX_=0,l.imageAnchorY_=0,l.imageHeight_=0,l.imageOpacity_=0,l.imageOriginX_=0,l.imageOriginY_=0,l.imageRotateWithView_=!1,l.imageRotation_=0,l.imageScale_=[0,0],l.imageWidth_=0,l.text_="",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=!1,l.textRotation_=0,l.textScale_=[0,0],l.textFillState_=null,l.textStrokeState_=null,l.textState_=null,l.pixelCoordinates_=[],l.tmpLocalTransform_=Yt(),l}return t.prototype.drawImages_=function(e,n,o,i){if(!!this.image_){var a=fr(e,n,o,i,this.transform_,this.pixelCoordinates_),s=this.context_,f=this.tmpLocalTransform_,l=s.globalAlpha;this.imageOpacity_!=1&&(s.globalAlpha=l*this.imageOpacity_);var c=this.imageRotation_;this.imageRotateWithView_&&(c+=this.viewRotation_);for(var u=0,h=a.length;u<h;u+=2){var d=a[u]-this.imageAnchorX_,p=a[u+1]-this.imageAnchorY_;if(c!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var g=d+this.imageAnchorX_,m=p+this.imageAnchorY_;ln(f,g,m,1,1,c,-g,-m),s.setTransform.apply(s,f),s.translate(g,m),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,d,p,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(s.globalAlpha=l)}},t.prototype.drawText_=function(e,n,o,i){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var a=fr(e,n,o,i,this.transform_,this.pixelCoordinates_),s=this.context_,f=this.textRotation_;for(this.textRotateWithView_&&(f+=this.viewRotation_);n<o;n+=i){var l=a[n]+this.textOffsetX_,c=a[n+1]+this.textOffsetY_;if(f!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var u=ln(this.tmpLocalTransform_,l,c,1,1,f,-l,-c);s.setTransform.apply(s,u),s.translate(l,c),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&s.strokeText(this.text_,l,c),this.textFillState_&&s.fillText(this.text_,l,c)}}},t.prototype.moveToLineTo_=function(e,n,o,i,a){var s=this.context_,f=fr(e,n,o,i,this.transform_,this.pixelCoordinates_);s.moveTo(f[0],f[1]);var l=f.length;a&&(l-=2);for(var c=2;c<l;c+=2)s.lineTo(f[c],f[c+1]);return a&&s.closePath(),o},t.prototype.drawRings_=function(e,n,o,i){for(var a=0,s=o.length;a<s;++a)n=this.moveToLineTo_(e,n,o[a],i,!0);return n},t.prototype.drawCircle=function(e){if(!!Je(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=W_(e,this.transform_,this.pixelCoordinates_),o=n[2]-n[0],i=n[3]-n[1],a=Math.sqrt(o*o+i*i),s=this.context_;s.beginPath(),s.arc(n[0],n[1],a,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}},t.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},t.prototype.setTransform=function(e){this.transform_=e},t.prototype.drawGeometry=function(e){var n=e.getType();switch(n){case R.POINT:this.drawPoint(e);break;case R.LINE_STRING:this.drawLineString(e);break;case R.POLYGON:this.drawPolygon(e);break;case R.MULTI_POINT:this.drawMultiPoint(e);break;case R.MULTI_LINE_STRING:this.drawMultiLineString(e);break;case R.MULTI_POLYGON:this.drawMultiPolygon(e);break;case R.GEOMETRY_COLLECTION:this.drawGeometryCollection(e);break;case R.CIRCLE:this.drawCircle(e);break}},t.prototype.drawFeature=function(e,n){var o=n.getGeometryFunction()(e);!o||!Je(this.extent_,o.getExtent())||(this.setStyle(n),this.drawGeometry(o))},t.prototype.drawGeometryCollection=function(e){for(var n=e.getGeometriesArray(),o=0,i=n.length;o<i;++o)this.drawGeometry(n[o])},t.prototype.drawPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=e.getFlatCoordinates(),o=e.getStride();this.image_&&this.drawImages_(n,0,n.length,o),this.text_!==""&&this.drawText_(n,0,n.length,o)},t.prototype.drawMultiPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=e.getFlatCoordinates(),o=e.getStride();this.image_&&this.drawImages_(n,0,n.length,o),this.text_!==""&&this.drawText_(n,0,n.length,o)},t.prototype.drawLineString=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Je(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,o=e.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(o,0,o.length,e.getStride(),!1),n.stroke()}if(this.text_!==""){var i=e.getFlatMidpoint();this.drawText_(i,0,2,2)}}},t.prototype.drawMultiLineString=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=e.getExtent();if(!!Je(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var o=this.context_,i=e.getFlatCoordinates(),a=0,s=e.getEnds(),f=e.getStride();o.beginPath();for(var l=0,c=s.length;l<c;++l)a=this.moveToLineTo_(i,a,s[l],f,!1);o.stroke()}if(this.text_!==""){var u=e.getFlatMidpoints();this.drawText_(u,0,u.length,2)}}},t.prototype.drawPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Je(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=this.context_;n.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){var o=e.getFlatInteriorPoint();this.drawText_(o,0,2,2)}}},t.prototype.drawMultiPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Je(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=this.context_,o=e.getOrientedFlatCoordinates(),i=0,a=e.getEndss(),s=e.getStride();n.beginPath();for(var f=0,l=a.length;f<l;++f){var c=a[f];i=this.drawRings_(o,i,c,s)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){var u=e.getFlatInteriorPoints();this.drawText_(u,0,u.length,2)}}},t.prototype.setContextFillState_=function(e){var n=this.context_,o=this.contextFillState_;o?o.fillStyle!=e.fillStyle&&(o.fillStyle=e.fillStyle,n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})},t.prototype.setContextStrokeState_=function(e){var n=this.context_,o=this.contextStrokeState_;o?(o.lineCap!=e.lineCap&&(o.lineCap=e.lineCap,n.lineCap=e.lineCap),n.setLineDash&&(mr(o.lineDash,e.lineDash)||n.setLineDash(o.lineDash=e.lineDash),o.lineDashOffset!=e.lineDashOffset&&(o.lineDashOffset=e.lineDashOffset,n.lineDashOffset=e.lineDashOffset)),o.lineJoin!=e.lineJoin&&(o.lineJoin=e.lineJoin,n.lineJoin=e.lineJoin),o.lineWidth!=e.lineWidth&&(o.lineWidth=e.lineWidth,n.lineWidth=e.lineWidth),o.miterLimit!=e.miterLimit&&(o.miterLimit=e.miterLimit,n.miterLimit=e.miterLimit),o.strokeStyle!=e.strokeStyle&&(o.strokeStyle=e.strokeStyle,n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,n.setLineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},t.prototype.setContextTextState_=function(e){var n=this.context_,o=this.contextTextState_,i=e.textAlign?e.textAlign:Uo;o?(o.font!=e.font&&(o.font=e.font,n.font=e.font),o.textAlign!=i&&(o.textAlign=i,n.textAlign=i),o.textBaseline!=e.textBaseline&&(o.textBaseline=e.textBaseline,n.textBaseline=e.textBaseline)):(n.font=e.font,n.textAlign=i,n.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:i,textBaseline:e.textBaseline})},t.prototype.setFillStrokeStyle=function(e,n){var o=this;if(!e)this.fillState_=null;else{var i=e.getColor();this.fillState_={fillStyle:jt(i||on)}}if(!n)this.strokeState_=null;else{var a=n.getColor(),s=n.getLineCap(),f=n.getLineDash(),l=n.getLineDashOffset(),c=n.getLineJoin(),u=n.getWidth(),h=n.getMiterLimit(),d=f||Go;this.strokeState_={lineCap:s!==void 0?s:qi,lineDash:this.pixelRatio_===1?d:d.map(function(p){return p*o.pixelRatio_}),lineDashOffset:(l||jo)*this.pixelRatio_,lineJoin:c!==void 0?c:$r,lineWidth:(u!==void 0?u:Xo)*this.pixelRatio_,miterLimit:h!==void 0?h:zo,strokeStyle:jt(a||Yo)}}},t.prototype.setImageStyle=function(e){var n;if(!e||!(n=e.getSize())){this.image_=null;return}var o=e.getAnchor(),i=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=o[0]*this.pixelRatio_,this.imageAnchorY_=o[1]*this.pixelRatio_,this.imageHeight_=n[1]*this.pixelRatio_,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=e.getScaleArray(),this.imageWidth_=n[0]*this.pixelRatio_},t.prototype.setTextStyle=function(e){if(!e)this.text_="";else{var n=e.getFill();if(!n)this.textFillState_=null;else{var o=n.getColor();this.textFillState_={fillStyle:jt(o||on)}}var i=e.getStroke();if(!i)this.textStrokeState_=null;else{var a=i.getColor(),s=i.getLineCap(),f=i.getLineDash(),l=i.getLineDashOffset(),c=i.getLineJoin(),u=i.getWidth(),h=i.getMiterLimit();this.textStrokeState_={lineCap:s!==void 0?s:qi,lineDash:f||Go,lineDashOffset:l||jo,lineJoin:c!==void 0?c:$r,lineWidth:u!==void 0?u:Xo,miterLimit:h!==void 0?h:zo,strokeStyle:jt(a||Yo)}}var d=e.getFont(),p=e.getOffsetX(),g=e.getOffsetY(),m=e.getRotateWithView(),v=e.getRotation(),_=e.getScaleArray(),y=e.getText(),x=e.getTextAlign(),E=e.getTextBaseline();this.textState_={font:d!==void 0?d:nd,textAlign:x!==void 0?x:Uo,textBaseline:E!==void 0?E:Zi},this.text_=y!==void 0?Array.isArray(y)?y.reduce(function(P,C,O){return P+=O%2?" ":C},""):y:"",this.textOffsetX_=p!==void 0?this.pixelRatio_*p:0,this.textOffsetY_=g!==void 0?this.pixelRatio_*g:0,this.textRotateWithView_=m!==void 0?m:!1,this.textRotation_=v!==void 0?v:0,this.textScale_=[this.pixelRatio_*_[0],this.pixelRatio_*_[1]]}},t}(Xd),j1=G1,On={FRACTION:"fraction",PIXELS:"pixels"},mt={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},z1=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Y1=function(r){z1(t,r);function t(e,n,o,i){var a=r.call(this)||this;return a.extent=e,a.pixelRatio_=o,a.resolution=n,a.state=i,a}return t.prototype.changed=function(){this.dispatchEvent(re.CHANGE)},t.prototype.getExtent=function(){return this.extent},t.prototype.getImage=function(){return Z()},t.prototype.getPixelRatio=function(){return this.pixelRatio_},t.prototype.getResolution=function(){return this.resolution},t.prototype.getState=function(){return this.state},t.prototype.load=function(){Z()},t}(qr),U1=Y1,X1=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();(function(r){X1(t,r);function t(e,n,o,i,a,s){var f=r.call(this,e,n,o,Ee.IDLE)||this;return f.src_=i,f.image_=new Image,a!==null&&(f.image_.crossOrigin=a),f.unlisten_=null,f.state=Ee.IDLE,f.imageLoadFunction_=s,f}return t.prototype.getImage=function(){return this.image_},t.prototype.handleImageError_=function(){this.state=Ee.ERROR,this.unlistenImage_(),this.changed()},t.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=At(this.extent)/this.image_.height),this.state=Ee.LOADED,this.unlistenImage_(),this.changed()},t.prototype.load=function(){(this.state==Ee.IDLE||this.state==Ee.ERROR)&&(this.state=Ee.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=cl(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.setImage=function(e){this.image_=e,this.resolution=At(this.extent)/this.image_.height},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t})(U1);function cl(r,t,e){var n=r,o=!0,i=!1,a=!1,s=[$i(n,re.LOAD,function(){a=!0,i||t()})];return n.src&&$m?(i=!0,n.decode().then(function(){o&&t()}).catch(function(f){o&&(a?t():e())})):s.push($i(n,re.ERROR,e)),function(){o=!1,s.forEach(Te)}}var B1=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),co=null,W1=function(r){B1(t,r);function t(e,n,o,i,a,s){var f=r.call(this)||this;return f.hitDetectionImage_=null,f.image_=e||new Image,i!==null&&(f.image_.crossOrigin=i),f.canvas_={},f.color_=s,f.unlisten_=null,f.imageState_=a,f.size_=o,f.src_=n,f.tainted_,f}return t.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===Ee.LOADED){co||(co=yt(1,1)),co.drawImage(this.image_,0,0);try{co.getImageData(0,0,1,1),this.tainted_=!1}catch{co=null,this.tainted_=!0}}return this.tainted_===!0},t.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(re.CHANGE)},t.prototype.handleImageError_=function(){this.imageState_=Ee.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.handleImageLoad_=function(){this.imageState_=Ee.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.getImage=function(e){return this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_},t.prototype.getPixelRatio=function(e){return this.replaceColor_(e),this.canvas_[e]?e:1},t.prototype.getImageState=function(){return this.imageState_},t.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],n=this.size_[1],o=yt(e,n);o.fillRect(0,0,e,n),this.hitDetectionImage_=o.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},t.prototype.getSize=function(){return this.size_},t.prototype.getSrc=function(){return this.src_},t.prototype.load=function(){if(this.imageState_==Ee.IDLE){this.imageState_=Ee.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=cl(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},t.prototype.replaceColor_=function(e){if(!(!this.color_||this.canvas_[e]||this.imageState_!==Ee.LOADED)){var n=document.createElement("canvas");this.canvas_[e]=n,n.width=Math.ceil(this.image_.width*e),n.height=Math.ceil(this.image_.height*e);var o=n.getContext("2d");if(o.scale(e,e),o.drawImage(this.image_,0,0),o.globalCompositeOperation="multiply",o.globalCompositeOperation==="multiply"||this.isTainted_())o.fillStyle=$h(this.color_),o.fillRect(0,0,n.width/e,n.height/e),o.globalCompositeOperation="destination-in",o.drawImage(this.image_,0,0);else{for(var i=o.getImageData(0,0,n.width,n.height),a=i.data,s=this.color_[0]/255,f=this.color_[1]/255,l=this.color_[2]/255,c=this.color_[3],u=0,h=a.length;u<h;u+=4)a[u]*=s,a[u+1]*=f,a[u+2]*=l,a[u+3]*=c;o.putImageData(i,0,0)}}},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(qr);function $1(r,t,e,n,o,i){var a=Wi.get(t,n,i);return a||(a=new W1(r,t,e,n,o,i),Wi.set(t,n,i,a)),a}var K1=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),H1=function(r){K1(t,r);function t(e){var n=this,o=e||{},i=o.opacity!==void 0?o.opacity:1,a=o.rotation!==void 0?o.rotation:0,s=o.scale!==void 0?o.scale:1,f=o.rotateWithView!==void 0?o.rotateWithView:!1;n=r.call(this,{opacity:i,rotation:a,scale:s,displacement:o.displacement!==void 0?o.displacement:[0,0],rotateWithView:f})||this,n.anchor_=o.anchor!==void 0?o.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=o.anchorOrigin!==void 0?o.anchorOrigin:mt.TOP_LEFT,n.anchorXUnits_=o.anchorXUnits!==void 0?o.anchorXUnits:On.FRACTION,n.anchorYUnits_=o.anchorYUnits!==void 0?o.anchorYUnits:On.FRACTION,n.crossOrigin_=o.crossOrigin!==void 0?o.crossOrigin:null;var l=o.img!==void 0?o.img:null;n.imgSize_=o.imgSize;var c=o.src;le(!(c!==void 0&&l),4),le(!l||l&&n.imgSize_,5),(c===void 0||c.length===0)&&l&&(c=l.src||be(l)),le(c!==void 0&&c.length>0,6);var u=o.src!==void 0?Ee.IDLE:Ee.LOADED;return n.color_=o.color!==void 0?Bi(o.color):null,n.iconImage_=$1(l,c,n.imgSize_!==void 0?n.imgSize_:null,n.crossOrigin_,u,n.color_),n.offset_=o.offset!==void 0?o.offset:[0,0],n.offsetOrigin_=o.offsetOrigin!==void 0?o.offsetOrigin:mt.TOP_LEFT,n.origin_=null,n.size_=o.size!==void 0?o.size:null,n}return t.prototype.clone=function(){var e=this.getScale();return new t({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(e)?e.slice():e,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc()})},t.prototype.getAnchor=function(){var e=this.normalizedAnchor_;if(!e){e=this.anchor_;var n=this.getSize();if(this.anchorXUnits_==On.FRACTION||this.anchorYUnits_==On.FRACTION){if(!n)return null;e=this.anchor_.slice(),this.anchorXUnits_==On.FRACTION&&(e[0]*=n[0]),this.anchorYUnits_==On.FRACTION&&(e[1]*=n[1])}if(this.anchorOrigin_!=mt.TOP_LEFT){if(!n)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_==mt.TOP_RIGHT||this.anchorOrigin_==mt.BOTTOM_RIGHT)&&(e[0]=-e[0]+n[0]),(this.anchorOrigin_==mt.BOTTOM_LEFT||this.anchorOrigin_==mt.BOTTOM_RIGHT)&&(e[1]=-e[1]+n[1])}this.normalizedAnchor_=e}var o=this.getDisplacement();return[e[0]-o[0],e[1]+o[1]]},t.prototype.setAnchor=function(e){this.anchor_=e,this.normalizedAnchor_=null},t.prototype.getColor=function(){return this.color_},t.prototype.getImage=function(e){return this.iconImage_.getImage(e)},t.prototype.getPixelRatio=function(e){return this.iconImage_.getPixelRatio(e)},t.prototype.getImageSize=function(){return this.iconImage_.getSize()},t.prototype.getImageState=function(){return this.iconImage_.getImageState()},t.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},t.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var e=this.offset_;if(this.offsetOrigin_!=mt.TOP_LEFT){var n=this.getSize(),o=this.iconImage_.getSize();if(!n||!o)return null;e=e.slice(),(this.offsetOrigin_==mt.TOP_RIGHT||this.offsetOrigin_==mt.BOTTOM_RIGHT)&&(e[0]=o[0]-n[0]-e[0]),(this.offsetOrigin_==mt.BOTTOM_LEFT||this.offsetOrigin_==mt.BOTTOM_RIGHT)&&(e[1]=o[1]-n[1]-e[1])}return this.origin_=e,this.origin_},t.prototype.getSrc=function(){return this.iconImage_.getSrc()},t.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},t.prototype.listenImageChange=function(e){this.iconImage_.addEventListener(re.CHANGE,e)},t.prototype.load=function(){this.iconImage_.load()},t.prototype.unlistenImageChange=function(e){this.iconImage_.removeEventListener(re.CHANGE,e)},t}(Ud),V1=H1,Gt=.5;function q1(r,t,e,n,o,i,a){var s=r[0]*Gt,f=r[1]*Gt,l=yt(s,f);l.imageSmoothingEnabled=!1;for(var c=l.canvas,u=new j1(l,Gt,o,null,a),h=e.length,d=Math.floor((256*256*256-1)/h),p={},g=1;g<=h;++g){var m=e[g-1],v=m.getStyleFunction()||n;if(!!n){var _=v(m,i);if(!!_){Array.isArray(_)||(_=[_]);for(var y=g*d,x="#"+("000000"+y.toString(16)).slice(-6),E=0,P=_.length;E<P;++E){var C=_[E],O=C.getGeometryFunction()(m);if(!(!O||!Je(o,O.getExtent()))){var M=C.clone(),U=M.getFill();U&&U.setColor(x);var K=M.getStroke();K&&(K.setColor(x),K.setLineDash(null)),M.setText(void 0);var B=C.getImage();if(B&&B.getOpacity()!==0){var V=B.getImageSize();if(!V)continue;var te=yt(V[0],V[1],void 0,{alpha:!1}),j=te.canvas;te.fillStyle=x,te.fillRect(0,0,j.width,j.height),M.setImage(new V1({img:j,imgSize:V,anchor:B.getAnchor(),anchorXUnits:On.PIXELS,anchorYUnits:On.PIXELS,offset:B.getOrigin(),opacity:1,size:B.getSize(),scale:B.getScale(),rotation:B.getRotation(),rotateWithView:B.getRotateWithView()}))}var X=M.getZIndex()||0,D=p[X];D||(D={},p[X]=D,D[R.POLYGON]=[],D[R.CIRCLE]=[],D[R.LINE_STRING]=[],D[R.POINT]=[]),D[O.getType().replace("Multi","")].push(O,M)}}}}}for(var $=Object.keys(p).map(Number).sort(cr),g=0,ne=$.length;g<ne;++g){var D=p[$[g]];for(var ce in D)for(var me=D[ce],E=0,P=me.length;E<P;E+=2){u.setStyle(me[E+1]);for(var A=0,ye=t.length;A<ye;++A)u.setTransform(t[A]),u.drawGeometry(me[E])}}return l.getImageData(0,0,c.width,c.height)}function Z1(r,t,e){var n=[];if(e){var o=Math.floor(Math.round(r[0])*Gt),i=Math.floor(Math.round(r[1])*Gt),a=(De(o,0,e.width-1)+De(i,0,e.height-1)*e.width)*4,s=e.data[a],f=e.data[a+1],l=e.data[a+2],c=l+256*(f+256*s),u=Math.floor((256*256*256-1)/t.length);c&&c%u===0&&n.push(t[c/u-1])}return n}var J1=.5,Wd={Point:sw,LineString:ow,Polygon:lw,MultiPoint:fw,MultiLineString:iw,MultiPolygon:aw,GeometryCollection:rw,Circle:tw};function Q1(r,t){return parseInt(be(r),10)-parseInt(be(t),10)}function ew(r,t){var e=qs(r,t);return e*e}function qs(r,t){return J1*r/t}function tw(r,t,e,n,o){var i=e.getFill(),a=e.getStroke();if(i||a){var s=r.getBuilder(e.getZIndex(),Se.CIRCLE);s.setFillStrokeStyle(i,a),s.drawCircle(t,n)}var f=e.getText();if(f&&f.getText()){var l=(o||r).getBuilder(e.getZIndex(),Se.TEXT);l.setTextStyle(f),l.drawText(t,n)}}function Xc(r,t,e,n,o,i,a){var s=!1,f=e.getImage();if(f){var l=f.getImageState();l==Ee.LOADED||l==Ee.ERROR?f.unlistenImageChange(o):(l==Ee.IDLE&&f.load(),l=f.getImageState(),f.listenImageChange(o),s=!0)}return nw(r,t,e,n,i,a),s}function nw(r,t,e,n,o,i){var a=e.getGeometryFunction()(t);if(!!a){var s=a.simplifyTransformed(n,o),f=e.getRenderer();if(f)$d(r,s,e,t);else{var l=Wd[s.getType()];l(r,s,e,t,i)}}}function $d(r,t,e,n){if(t.getType()==R.GEOMETRY_COLLECTION){for(var o=t.getGeometries(),i=0,a=o.length;i<a;++i)$d(r,o[i],e,n);return}var s=r.getBuilder(e.getZIndex(),Se.DEFAULT);s.drawCustom(t,n,e.getRenderer(),e.getHitDetectionRenderer())}function rw(r,t,e,n,o){var i=t.getGeometriesArray(),a,s;for(a=0,s=i.length;a<s;++a){var f=Wd[i[a].getType()];f(r,i[a],e,n,o)}}function ow(r,t,e,n,o){var i=e.getStroke();if(i){var a=r.getBuilder(e.getZIndex(),Se.LINE_STRING);a.setFillStrokeStyle(null,i),a.drawLineString(t,n)}var s=e.getText();if(s&&s.getText()){var f=(o||r).getBuilder(e.getZIndex(),Se.TEXT);f.setTextStyle(s),f.drawText(t,n)}}function iw(r,t,e,n,o){var i=e.getStroke();if(i){var a=r.getBuilder(e.getZIndex(),Se.LINE_STRING);a.setFillStrokeStyle(null,i),a.drawMultiLineString(t,n)}var s=e.getText();if(s&&s.getText()){var f=(o||r).getBuilder(e.getZIndex(),Se.TEXT);f.setTextStyle(s),f.drawText(t,n)}}function aw(r,t,e,n,o){var i=e.getFill(),a=e.getStroke();if(a||i){var s=r.getBuilder(e.getZIndex(),Se.POLYGON);s.setFillStrokeStyle(i,a),s.drawMultiPolygon(t,n)}var f=e.getText();if(f&&f.getText()){var l=(o||r).getBuilder(e.getZIndex(),Se.TEXT);l.setTextStyle(f),l.drawText(t,n)}}function sw(r,t,e,n,o){var i=e.getImage(),a=e.getText(),s;if(o&&(r=o,s=i&&a&&a.getText()?{}:void 0),i){if(i.getImageState()!=Ee.LOADED)return;var f=r.getBuilder(e.getZIndex(),Se.IMAGE);f.setImageStyle(i,s),f.drawPoint(t,n)}if(a&&a.getText()){var l=r.getBuilder(e.getZIndex(),Se.TEXT);l.setTextStyle(a,s),l.drawText(t,n)}}function fw(r,t,e,n,o){var i=e.getImage(),a=e.getText(),s;if(o&&(r=o,s=i&&a&&a.getText()?{}:void 0),i){if(i.getImageState()!=Ee.LOADED)return;var f=r.getBuilder(e.getZIndex(),Se.IMAGE);f.setImageStyle(i,s),f.drawMultiPoint(t,n)}if(a&&a.getText()){var l=(o||r).getBuilder(e.getZIndex(),Se.TEXT);l.setTextStyle(a,s),l.drawText(t,n)}}function lw(r,t,e,n,o){var i=e.getFill(),a=e.getStroke();if(i||a){var s=r.getBuilder(e.getZIndex(),Se.POLYGON);s.setFillStrokeStyle(i,a),s.drawPolygon(t,n)}var f=e.getText();if(f&&f.getText()){var l=(o||r).getBuilder(e.getZIndex(),Se.TEXT);l.setTextStyle(f),l.drawText(t,n)}}var cw=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),uw=function(r){cw(t,r);function t(e){var n=r.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.animatingOrInteracting_,n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=pt(),n.wrappedRenderedExtent_=pt(),n.renderedRotation_,n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n.declutterExecutorGroup=null,n.clipping=!0,n}return t.prototype.renderWorlds=function(e,n,o){var i=n.extent,a=n.viewState,s=a.center,f=a.resolution,l=a.projection,c=a.rotation,u=l.getExtent(),h=this.getLayer().getSource(),d=n.pixelRatio,p=n.viewHints,g=!(p[He.ANIMATING]||p[He.INTERACTING]),m=this.context,v=Math.round(n.size[0]*d),_=Math.round(n.size[1]*d),y=h.getWrapX()&&l.canWrapX(),x=y?Pe(u):null,E=y?Math.ceil((i[2]-u[2])/x)+1:1,P=y?Math.floor((i[0]-u[0])/x):0;do{var C=this.getRenderTransform(s,f,c,d,v,_,P*x);e.execute(m,1,C,c,g,void 0,o)}while(++P<E)},t.prototype.renderDeclutter=function(e){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree)},t.prototype.renderFrame=function(e,n){var o=e.pixelRatio,i=e.layerStatesArray[e.layerIndex];Zm(this.pixelTransform,1/o,1/o),Df(this.inversePixelTransform,this.pixelTransform);var a=zh(this.pixelTransform);this.useContainer(n,a,i.opacity,this.getBackground(e));var s=this.context,f=s.canvas,l=this.replayGroup_,c=this.declutterExecutorGroup;if((!l||l.isEmpty())&&(!c||c.isEmpty()))return null;var u=Math.round(e.size[0]*o),h=Math.round(e.size[1]*o);f.width!=u||f.height!=h?(f.width=u,f.height=h,f.style.transform!==a&&(f.style.transform=a)):this.containerReused||s.clearRect(0,0,u,h),this.preRender(s,e);var d=e.viewState;d.projection;var p=!1,g=!0;if(i.extent&&this.clipping){var m=Jn(i.extent);g=Je(m,e.extent),p=g&&!qn(m,e.extent),p&&this.clipUnrotated(s,e,m)}g&&this.renderWorlds(l,e),p&&s.restore(),this.postRender(s,e);var v=ed(i.opacity),_=this.container;return v!==_.style.opacity&&(_.style.opacity=v),this.renderedRotation_!==d.rotation&&(this.renderedRotation_=d.rotation,this.hitDetectionImageData_=null),this.container},t.prototype.getFeatures=function(e){return new Promise(function(n){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var o=[this.context.canvas.width,this.context.canvas.height];Ne(this.pixelTransform,o);var i=this.renderedCenter_,a=this.renderedResolution_,s=this.renderedRotation_,f=this.renderedProjection_,l=this.wrappedRenderedExtent_,c=this.getLayer(),u=[],h=o[0]*Gt,d=o[1]*Gt;u.push(this.getRenderTransform(i,a,s,Gt,h,d,0).slice());var p=c.getSource(),g=f.getExtent();if(p.getWrapX()&&f.canWrapX()&&!qn(g,l)){for(var m=l[0],v=Pe(g),_=0,y=void 0;m<g[0];)--_,y=v*_,u.push(this.getRenderTransform(i,a,s,Gt,h,d,y).slice()),m+=v;for(_=0,m=l[2];m>g[2];)++_,y=v*_,u.push(this.getRenderTransform(i,a,s,Gt,h,d,y).slice()),m-=v}this.hitDetectionImageData_=q1(o,u,this.renderedFeatures_,c.getStyleFunction(),l,a,s)}n(Z1(e,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},t.prototype.forEachFeatureAtCoordinate=function(e,n,o,i,a){var s=this;if(!!this.replayGroup_){var f=n.viewState.resolution,l=n.viewState.rotation,c=this.getLayer(),u={},h=function(g,m,v){var _=be(g),y=u[_];if(y){if(y!==!0&&v<y.distanceSq){if(v===0)return u[_]=!0,a.splice(a.lastIndexOf(y),1),i(g,c,m);y.geometry=m,y.distanceSq=v}}else{if(v===0)return u[_]=!0,i(g,c,m);a.push(u[_]={feature:g,layer:c,geometry:m,distanceSq:v,callback:i})}},d,p=[this.replayGroup_];return this.declutterExecutorGroup&&p.push(this.declutterExecutorGroup),p.some(function(g){return d=g.forEachFeatureAtCoordinate(e,f,l,o,h,g===s.declutterExecutorGroup&&n.declutterTree?n.declutterTree.all().map(function(m){return m.value}):null)}),d}},t.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},t.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},t.prototype.prepareFrame=function(e){var n=this.getLayer(),o=n.getSource();if(!o)return!1;var i=e.viewHints[He.ANIMATING],a=e.viewHints[He.INTERACTING],s=n.getUpdateWhileAnimating(),f=n.getUpdateWhileInteracting();if(!this.dirty_&&!s&&i||!f&&a)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var l=e.extent,c=e.viewState,u=c.projection,h=c.resolution,d=e.pixelRatio,p=n.getRevision(),g=n.getRenderBuffer(),m=n.getRenderOrder();m===void 0&&(m=Q1);var v=c.center.slice(),_=No(l,g*h),y=_.slice(),x=[_.slice()],E=u.getExtent();if(o.getWrapX()&&u.canWrapX()&&!qn(E,e.extent)){var P=Pe(E),C=Math.max(Pe(_)/2,P);_[0]=E[0]-C,_[2]=E[2]+C,Zh(v,u);var O=ab(x[0],u);O[0]<E[0]&&O[2]<E[2]?x.push([O[0]+P,O[1],O[2]+P,O[3]]):O[0]>E[0]&&O[2]>E[2]&&x.push([O[0]-P,O[1],O[2]-P,O[3]])}if(!this.dirty_&&this.renderedResolution_==h&&this.renderedRevision_==p&&this.renderedRenderOrder_==m&&qn(this.wrappedRenderedExtent_,_))return mr(this.renderedExtent_,y)||(this.hitDetectionImageData_=null,this.renderedExtent_=y),this.renderedCenter_=v,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var M=new jc(qs(h,d),_,h,d),U;this.getLayer().getDeclutter()&&(U=new jc(qs(h,d),_,h,d));for(var K,B,V,B=0,V=x.length;B<V;++B)o.loadFeatures(x[B],h,u);var te=ew(h,d),j=function(ce){var me,A=ce.getStyleFunction()||n.getStyleFunction();if(A&&(me=A(ce,h)),me){var ye=this.renderFeature(ce,te,me,M,K,U);this.dirty_=this.dirty_||ye}}.bind(this),X=ud(_),D=o.getFeaturesInExtent(X);m&&D.sort(m);for(var B=0,V=D.length;B<V;++B)j(D[B]);this.renderedFeatures_=D;var $=M.finish(),ne=new Uc(_,h,d,o.getOverlaps(),$,n.getRenderBuffer());return U&&(this.declutterExecutorGroup=new Uc(_,h,d,o.getOverlaps(),U.finish(),n.getRenderBuffer())),this.renderedResolution_=h,this.renderedRevision_=p,this.renderedRenderOrder_=m,this.renderedExtent_=y,this.wrappedRenderedExtent_=_,this.renderedCenter_=v,this.renderedProjection_=u,this.replayGroup_=ne,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},t.prototype.renderFeature=function(e,n,o,i,a,s){if(!o)return!1;var f=!1;if(Array.isArray(o))for(var l=0,c=o.length;l<c;++l)f=Xc(i,e,o[l],n,this.boundHandleStyleImageChange_,a,s)||f;else f=Xc(i,e,o,n,this.boundHandleStyleImageChange_,a,s);return f},t}(Bd),hw=uw,dw=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),pw=function(r){dw(t,r);function t(e){return r.call(this,e)||this}return t.prototype.createRenderer=function(){return new hw(this)},t}(i1),Kd=pw,gw=function(){function r(t){this.rbush_=new Yd(t),this.items_={}}return r.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[be(e)]=n},r.prototype.load=function(t,e){for(var n=new Array(e.length),o=0,i=e.length;o<i;o++){var a=t[o],s=e[o],f={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};n[o]=f,this.items_[be(s)]=f}this.rbush_.load(n)},r.prototype.remove=function(t){var e=be(t),n=this.items_[e];return delete this.items_[e],this.rbush_.remove(n)!==null},r.prototype.update=function(t,e){var n=this.items_[be(e)],o=[n.minX,n.minY,n.maxX,n.maxY];Do(o,t)||(this.remove(e),this.insert(t,e))},r.prototype.getAll=function(){var t=this.rbush_.all();return t.map(function(e){return e.value})},r.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]},n=this.rbush_.search(e);return n.map(function(o){return o.value})},r.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},r.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},r.prototype.forEach_=function(t,e){for(var n,o=0,i=t.length;o<i;o++)if(n=e(t[o]),n)return n;return n},r.prototype.isEmpty=function(){return Wr(this.items_)},r.prototype.clear=function(){this.rbush_.clear(),this.items_={}},r.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return kt(e.minX,e.minY,e.maxX,e.maxY,t)},r.prototype.concat=function(t){this.rbush_.load(t.rbush_.all());for(var e in t.items_)this.items_[e]=t.items_[e]},r}(),Bc=gw,vw=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),mw=function(r){vw(t,r);function t(e){var n=r.call(this)||this;n.projection=Ge(e.projection),n.attributions_=Wc(e.attributions),n.attributionsCollapsible_=e.attributionsCollapsible!==void 0?e.attributionsCollapsible:!0,n.loading=!1,n.state_=e.state!==void 0?e.state:dr.READY,n.wrapX_=e.wrapX!==void 0?e.wrapX:!1,n.interpolate_=!!e.interpolate,n.viewResolver=null,n.viewRejector=null;var o=n;return n.viewPromise_=new Promise(function(i,a){o.viewResolver=i,o.viewRejector=a}),n}return t.prototype.getAttributions=function(){return this.attributions_},t.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},t.prototype.getProjection=function(){return this.projection},t.prototype.getResolutions=function(){return Z()},t.prototype.getView=function(){return this.viewPromise_},t.prototype.getState=function(){return this.state_},t.prototype.getWrapX=function(){return this.wrapX_},t.prototype.getInterpolate=function(){return this.interpolate_},t.prototype.refresh=function(){this.changed()},t.prototype.setAttributions=function(e){this.attributions_=Wc(e),this.changed()},t.prototype.setState=function(e){this.state_=e,this.changed()},t}(Lt);function Wc(r){return r?Array.isArray(r)?function(t){return r}:typeof r=="function"?r:function(t){return[r]}:null}var Hd=mw,xt={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function bw(r,t){return[[-1/0,-1/0,1/0,1/0]]}function $c(r,t){return[r]}var _w=!1;function yw(r,t,e,n,o,i,a){var s=new XMLHttpRequest;s.open("GET",typeof r=="function"?r(e,n,o):r,!0),t.getType()==Sr.ARRAY_BUFFER&&(s.responseType="arraybuffer"),s.withCredentials=_w,s.onload=function(f){if(!s.status||s.status>=200&&s.status<300){var l=t.getType(),c=void 0;l==Sr.JSON||l==Sr.TEXT?c=s.responseText:l==Sr.XML?(c=s.responseXML,c||(c=new DOMParser().parseFromString(s.responseText,"application/xml"))):l==Sr.ARRAY_BUFFER&&(c=s.response),c?i(t.readFeatures(c,{extent:e,featureProjection:o}),t.readProjection(c)):a()}else a()},s.onerror=a,s.send()}function Kc(r,t){return function(e,n,o,i,a){var s=this;yw(r,t,e,n,o,function(f,l){s.addFeatures(f),i!==void 0&&i(f)},a||ur)}}var Vd=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),yn=function(r){Vd(t,r);function t(e,n,o){var i=r.call(this,e)||this;return i.feature=n,i.features=o,i}return t}(Bt),ww=function(r){Vd(t,r);function t(e){var n=this,o=e||{};n=r.call(this,{attributions:o.attributions,interpolate:!0,projection:void 0,state:dr.READY,wrapX:o.wrapX!==void 0?o.wrapX:!0})||this,n.on,n.once,n.un,n.loader_=ur,n.format_=o.format,n.overlaps_=o.overlaps===void 0?!0:o.overlaps,n.url_=o.url,o.loader!==void 0?n.loader_=o.loader:n.url_!==void 0&&(le(n.format_,7),n.loader_=Kc(n.url_,n.format_)),n.strategy_=o.strategy!==void 0?o.strategy:bw;var i=o.useSpatialIndex!==void 0?o.useSpatialIndex:!0;n.featuresRtree_=i?new Bc:null,n.loadedExtentsRtree_=new Bc,n.loadingExtentsCount_=0,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null;var a,s;return Array.isArray(o.features)?s=o.features:o.features&&(a=o.features,s=a.getArray()),!i&&a===void 0&&(a=new _t(s)),s!==void 0&&n.addFeaturesInternal(s),a!==void 0&&n.bindFeaturesCollection_(a),n}return t.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},t.prototype.addFeatureInternal=function(e){var n=be(e);if(!this.addToIndex_(n,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(n,e);var o=e.getGeometry();if(o){var i=o.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,e)}else this.nullGeometryFeatures_[n]=e;this.dispatchEvent(new yn(xt.ADDFEATURE,e))},t.prototype.setupChangeEvents_=function(e,n){this.featureChangeKeys_[e]=[he(n,re.CHANGE,this.handleFeatureChange_,this),he(n,Br.PROPERTYCHANGE,this.handleFeatureChange_,this)]},t.prototype.addToIndex_=function(e,n){var o=!0,i=n.getId();return i!==void 0&&(i.toString()in this.idIndex_?o=!1:this.idIndex_[i.toString()]=n),o&&(le(!(e in this.uidIndex_),30),this.uidIndex_[e]=n),o},t.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},t.prototype.addFeaturesInternal=function(e){for(var n=[],o=[],i=[],a=0,s=e.length;a<s;a++){var f=e[a],l=be(f);this.addToIndex_(l,f)&&o.push(f)}for(var a=0,c=o.length;a<c;a++){var f=o[a],l=be(f);this.setupChangeEvents_(l,f);var u=f.getGeometry();if(u){var h=u.getExtent();n.push(h),i.push(f)}else this.nullGeometryFeatures_[l]=f}if(this.featuresRtree_&&this.featuresRtree_.load(n,i),this.hasListener(xt.ADDFEATURE))for(var a=0,d=o.length;a<d;a++)this.dispatchEvent(new yn(xt.ADDFEATURE,o[a]))},t.prototype.bindFeaturesCollection_=function(e){var n=!1;this.addEventListener(xt.ADDFEATURE,function(o){n||(n=!0,e.push(o.feature),n=!1)}),this.addEventListener(xt.REMOVEFEATURE,function(o){n||(n=!0,e.remove(o.feature),n=!1)}),e.addEventListener(at.ADD,function(o){n||(n=!0,this.addFeature(o.element),n=!1)}.bind(this)),e.addEventListener(at.REMOVE,function(o){n||(n=!0,this.removeFeature(o.element),n=!1)}.bind(this)),this.featuresCollection_=e},t.prototype.clear=function(e){if(e){for(var n in this.featureChangeKeys_){var o=this.featureChangeKeys_[n];o.forEach(Te)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var i=function(f){this.removeFeatureInternal(f)}.bind(this);this.featuresRtree_.forEach(i);for(var a in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[a])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var s=new yn(xt.CLEAR);this.dispatchEvent(s),this.changed()},t.prototype.forEachFeature=function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},t.prototype.forEachFeatureAtCoordinateDirect=function(e,n){var o=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(o,function(i){var a=i.getGeometry();if(a.intersectsCoordinate(e))return n(i)})},t.prototype.forEachFeatureInExtent=function(e,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)},t.prototype.forEachFeatureIntersectingExtent=function(e,n){return this.forEachFeatureInExtent(e,function(o){var i=o.getGeometry();if(i.intersectsExtent(e)){var a=n(o);if(a)return a}})},t.prototype.getFeaturesCollection=function(){return this.featuresCollection_},t.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Wr(this.nullGeometryFeatures_)||rn(e,Hh(this.nullGeometryFeatures_))),e},t.prototype.getFeaturesAtCoordinate=function(e){var n=[];return this.forEachFeatureAtCoordinateDirect(e,function(o){n.push(o)}),n},t.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_?this.featuresRtree_.getInExtent(e):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},t.prototype.getClosestFeatureToCoordinate=function(e,n){var o=e[0],i=e[1],a=null,s=[NaN,NaN],f=1/0,l=[-1/0,-1/0,1/0,1/0],c=n||or;return this.featuresRtree_.forEachInExtent(l,function(u){if(c(u)){var h=u.getGeometry(),d=f;if(f=h.closestPointXY(o,i,s,f),f<d){a=u;var p=Math.sqrt(f);l[0]=o-p,l[1]=i-p,l[2]=o+p,l[3]=i+p}}}),a},t.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},t.prototype.getFeatureById=function(e){var n=this.idIndex_[e.toString()];return n!==void 0?n:null},t.prototype.getFeatureByUid=function(e){var n=this.uidIndex_[e];return n!==void 0?n:null},t.prototype.getFormat=function(){return this.format_},t.prototype.getOverlaps=function(){return this.overlaps_},t.prototype.getUrl=function(){return this.url_},t.prototype.handleFeatureChange_=function(e){var n=e.target,o=be(n),i=n.getGeometry();if(!i)o in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[o]=n);else{var a=i.getExtent();o in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[o],this.featuresRtree_&&this.featuresRtree_.insert(a,n)):this.featuresRtree_&&this.featuresRtree_.update(a,n)}var s=n.getId();if(s!==void 0){var f=s.toString();this.idIndex_[f]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[f]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[o]=n;this.changed(),this.dispatchEvent(new yn(xt.CHANGEFEATURE,n))},t.prototype.hasFeature=function(e){var n=e.getId();return n!==void 0?n in this.idIndex_:be(e)in this.uidIndex_},t.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Wr(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0},t.prototype.loadFeatures=function(e,n,o){for(var i=this.loadedExtentsRtree_,a=this.strategy_(e,n,o),s=function(u,h){var d=a[u],p=i.forEachInExtent(d,function(g){return qn(g.extent,d)});p||(++f.loadingExtentsCount_,f.dispatchEvent(new yn(xt.FEATURESLOADSTART)),f.loader_.call(f,d,n,o,function(g){--this.loadingExtentsCount_,this.dispatchEvent(new yn(xt.FEATURESLOADEND,void 0,g))}.bind(f),function(){--this.loadingExtentsCount_,this.dispatchEvent(new yn(xt.FEATURESLOADERROR))}.bind(f)),i.insert(d,{extent:d.slice()}))},f=this,l=0,c=a.length;l<c;++l)s(l);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},t.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),r.prototype.refresh.call(this)},t.prototype.removeLoadedExtent=function(e){var n=this.loadedExtentsRtree_,o;n.forEachInExtent(e,function(i){if(Do(i.extent,e))return o=i,!0}),o&&n.remove(o)},t.prototype.removeFeature=function(e){if(!!e){var n=be(e);n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(e);var o=this.removeFeatureInternal(e);o&&this.changed()}},t.prototype.removeFeatureInternal=function(e){var n=be(e),o=this.featureChangeKeys_[n];if(!!o){o.forEach(Te),delete this.featureChangeKeys_[n];var i=e.getId();return i!==void 0&&delete this.idIndex_[i.toString()],delete this.uidIndex_[n],this.dispatchEvent(new yn(xt.REMOVEFEATURE,e)),e}},t.prototype.removeFromIdIndex_=function(e){var n=!1;for(var o in this.idIndex_)if(this.idIndex_[o]===e){delete this.idIndex_[o],n=!0;break}return n},t.prototype.setLoader=function(e){this.loader_=e},t.prototype.setUrl=function(e){le(this.format_,7),this.url_=e,this.setLoader(Kc(e,this.format_))},t}(Hd),na=ww,qd=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ge={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},Ti={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"},Ci=function(r){qd(t,r);function t(e,n){var o=r.call(this,e)||this;return o.feature=n,o}return t}(Bt),xw=function(r){qd(t,r);function t(e){var n=this,o=e;o.stopDown||(o.stopDown=qo),n=r.call(this,o)||this,n.on,n.once,n.un,n.shouldHandle_=!1,n.downPx_=null,n.downTimeout_,n.lastDragTime_,n.pointerType_,n.freehand_=!1,n.source_=e.source?e.source:null,n.features_=e.features?e.features:null,n.snapTolerance_=e.snapTolerance?e.snapTolerance:12,n.type_=e.type,n.mode_=Tw(n.type_),n.stopClick_=!!e.stopClick,n.minPoints_=e.minPoints?e.minPoints:n.mode_===ge.POLYGON?3:2,n.maxPoints_=n.mode_===ge.CIRCLE?2:e.maxPoints?e.maxPoints:1/0,n.finishCondition_=e.finishCondition?e.finishCondition:or;var i=e.geometryFunction;if(!i){var a=n.mode_;if(a===ge.CIRCLE)i=function(f,l,c){var u=l||new C0([NaN,NaN]),h=Et(f[0]),d=Rb(h,Et(f[f.length-1]));return u.setCenterAndRadius(h,Math.sqrt(d)),u};else{var s;a===ge.POINT?s=lr:a===ge.LINE_STRING?s=Mn:a===ge.POLYGON&&(s=pr),i=function(f,l,c){return l?a===ge.POLYGON?f[0].length?l.setCoordinates([f[0].concat([f[0][0]])]):l.setCoordinates([]):l.setCoordinates(f):l=new s(f),l}}}return n.geometryFunction_=i,n.dragVertexDelay_=e.dragVertexDelay!==void 0?e.dragVertexDelay:500,n.finishCoordinate_=null,n.sketchFeature_=null,n.sketchPoint_=null,n.sketchCoords_=null,n.sketchLine_=null,n.sketchLineCoords_=null,n.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,n.overlay_=new Kd({source:new na({useSpatialIndex:!1,wrapX:e.wrapX?e.wrapX:!1}),style:e.style?e.style:Ew(),updateWhileInteracting:!0}),n.geometryName_=e.geometryName,n.condition_=e.condition?e.condition:fl,n.freehandCondition_,e.freehand?n.freehandCondition_=Pd:n.freehandCondition_=e.freehandCondition?e.freehandCondition:Ad,n.addChangeListener($s.ACTIVE,n.updateState_),n}return t.prototype.setMap=function(e){r.prototype.setMap.call(this,e),this.updateState_()},t.prototype.getOverlay=function(){return this.overlay_},t.prototype.handleEvent=function(e){e.originalEvent.type===re.CONTEXTMENU&&e.originalEvent.preventDefault(),this.freehand_=this.mode_!==ge.POINT&&this.freehandCondition_(e);var n=e.type===ve.POINTERMOVE,o=!0;if(!this.freehand_&&this.lastDragTime_&&e.type===ve.POINTERDRAG){var i=Date.now();i-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,n=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&e.type===ve.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(e.coordinate),o=!1):this.freehand_&&e.type===ve.POINTERDOWN?o=!1:n&&this.getPointerCount()<2?(o=e.type===ve.POINTERMOVE,o&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):(e.originalEvent.pointerType==="mouse"||e.type===ve.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(e)):e.type===ve.DBLCLICK&&(o=!1),r.prototype.handleEvent.call(this,e)&&o},t.prototype.handleDownEvent=function(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e.coordinate),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new Zt(ve.POINTERMOVE,e.map,e.originalEvent,!1,e.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)},t.prototype.handleUpEvent=function(e){var n=!0;if(this.getPointerCount()===0)if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e),this.shouldHandle_){var o=!this.finishCoordinate_;o&&this.startDrawing_(e.coordinate),!o&&this.freehand_?this.finishDrawing():!this.freehand_&&(!o||this.mode_===ge.POINT)&&(this.atFinish_(e.pixel)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e.coordinate)),n=!1}else this.freehand_&&this.abortDrawing();return!n&&this.stopClick_&&e.preventDefault(),n},t.prototype.handlePointerMove_=function(e){if(this.pointerType_=e.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var n=this.downPx_,o=e.pixel,i=n[0]-o[0],a=n[1]-o[1],s=i*i+a*a;if(this.shouldHandle_=this.freehand_?s>this.squaredClickTolerance_:s<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(e.coordinate):this.createOrUpdateSketchPoint_(e.coordinate.slice())},t.prototype.atFinish_=function(e){var n=!1;if(this.sketchFeature_){var o=!1,i=[this.finishCoordinate_],a=this.mode_;if(a===ge.POINT)n=!0;else if(a===ge.CIRCLE)n=this.sketchCoords_.length===2;else if(a===ge.LINE_STRING)o=this.sketchCoords_.length>this.minPoints_;else if(a===ge.POLYGON){var s=this.sketchCoords_;o=s[0].length>this.minPoints_,i=[s[0][0],s[0][s[0].length-2]]}if(o)for(var f=this.getMap(),l=0,c=i.length;l<c;l++){var u=i[l],h=f.getPixelFromCoordinate(u),d=e[0]-h[0],p=e[1]-h[1],g=this.freehand_?1:this.snapTolerance_;if(n=Math.sqrt(d*d+p*p)<=g,n){this.finishCoordinate_=u;break}}}return n},t.prototype.createOrUpdateSketchPoint_=function(e){if(!this.sketchPoint_)this.sketchPoint_=new Pr(new lr(e)),this.updateSketchFeatures_();else{var n=this.sketchPoint_.getGeometry();n.setCoordinates(e)}},t.prototype.createOrUpdateCustomSketchLine_=function(e){this.sketchLine_||(this.sketchLine_=new Pr);var n=e.getLinearRing(0),o=this.sketchLine_.getGeometry();o?(o.setFlatCoordinates(n.getLayout(),n.getFlatCoordinates()),o.changed()):(o=new Mn(n.getFlatCoordinates(),n.getLayout()),this.sketchLine_.setGeometry(o))},t.prototype.startDrawing_=function(e){var n=this.getMap().getView().getProjection();this.finishCoordinate_=e,this.mode_===ge.POINT?this.sketchCoords_=e.slice():this.mode_===ge.POLYGON?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Pr(new Mn(this.sketchLineCoords_)));var o=this.geometryFunction_(this.sketchCoords_,void 0,n);this.sketchFeature_=new Pr,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(o),this.updateSketchFeatures_(),this.dispatchEvent(new Ci(Ti.DRAWSTART,this.sketchFeature_))},t.prototype.modifyDrawing_=function(e){var n=this.getMap(),o=this.sketchFeature_.getGeometry(),i=n.getView().getProjection(),a,s;if(this.mode_===ge.POINT?s=this.sketchCoords_:this.mode_===ge.POLYGON?(a=this.sketchCoords_[0],s=a[a.length-1],this.atFinish_(n.getPixelFromCoordinate(e))&&(e=this.finishCoordinate_.slice())):(a=this.sketchCoords_,s=a[a.length-1]),s[0]=e[0],s[1]=e[1],this.geometryFunction_(this.sketchCoords_,o,i),this.sketchPoint_){var f=this.sketchPoint_.getGeometry();f.setCoordinates(e)}if(o.getType()===R.POLYGON&&this.mode_!==ge.POLYGON)this.createOrUpdateCustomSketchLine_(o);else if(this.sketchLineCoords_){var l=this.sketchLine_.getGeometry();l.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()},t.prototype.addToDrawing_=function(e){var n=this.sketchFeature_.getGeometry(),o=this.getMap().getView().getProjection(),i,a,s=this.mode_;s===ge.LINE_STRING||s===ge.CIRCLE?(this.finishCoordinate_=e.slice(),a=this.sketchCoords_,a.length>=this.maxPoints_&&(this.freehand_?a.pop():i=!0),a.push(e.slice()),this.geometryFunction_(a,n,o)):s===ge.POLYGON&&(a=this.sketchCoords_[0],a.length>=this.maxPoints_&&(this.freehand_?a.pop():i=!0),a.push(e.slice()),i&&(this.finishCoordinate_=a[0]),this.geometryFunction_(this.sketchCoords_,n,o)),this.createOrUpdateSketchPoint_(e.slice()),this.updateSketchFeatures_(),i&&this.finishDrawing()},t.prototype.removeLastPoint=function(){if(!!this.sketchFeature_){var e=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection(),o,i=this.mode_;if(i===ge.LINE_STRING||i===ge.CIRCLE){if(o=this.sketchCoords_,o.splice(-2,1),o.length>=2){this.finishCoordinate_=o[o.length-2].slice();var a=this.finishCoordinate_.slice();o[o.length-1]=a,this.createOrUpdateSketchPoint_(a)}this.geometryFunction_(o,e,n),e.getType()===R.POLYGON&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(e)}else if(i===ge.POLYGON){o=this.sketchCoords_[0],o.splice(-2,1);var s=this.sketchLine_.getGeometry();if(o.length>=2){var a=o[o.length-2].slice();o[o.length-1]=a,this.createOrUpdateSketchPoint_(a)}s.setCoordinates(o),this.geometryFunction_(this.sketchCoords_,e,n)}o.length===1&&this.abortDrawing(),this.updateSketchFeatures_()}},t.prototype.finishDrawing=function(){var e=this.abortDrawing_();if(!!e){var n=this.sketchCoords_,o=e.getGeometry(),i=this.getMap().getView().getProjection();this.mode_===ge.LINE_STRING?(n.pop(),this.geometryFunction_(n,o,i)):this.mode_===ge.POLYGON&&(n[0].pop(),this.geometryFunction_(n,o,i),n=o.getCoordinates()),this.type_===R.MULTI_POINT?e.setGeometry(new ll([n])):this.type_===R.MULTI_LINE_STRING?e.setGeometry(new Gd([n])):this.type_===R.MULTI_POLYGON&&e.setGeometry(new jd([n])),this.dispatchEvent(new Ci(Ti.DRAWEND,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e)}},t.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var e=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),e},t.prototype.abortDrawing=function(){var e=this.abortDrawing_();e&&this.dispatchEvent(new Ci(Ti.DRAWABORT,e))},t.prototype.appendCoordinates=function(e){var n=this.mode_,o=!this.sketchFeature_;o&&this.startDrawing_(e[0]);var i;if(n===ge.LINE_STRING||n===ge.CIRCLE)i=this.sketchCoords_;else if(n===ge.POLYGON)i=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;o&&i.shift(),i.pop();for(var a=0;a<e.length;a++)this.addToDrawing_(e[a]);var s=e[e.length-1];this.addToDrawing_(s),this.modifyDrawing_(s)},t.prototype.extend=function(e){var n=e.getGeometry(),o=n;this.sketchFeature_=e,this.sketchCoords_=o.getCoordinates();var i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.sketchPoint_=new Pr(new lr(i)),this.updateSketchFeatures_(),this.dispatchEvent(new Ci(Ti.DRAWSTART,this.sketchFeature_))},t.prototype.updateSketchFeatures_=function(){var e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);var n=this.overlay_.getSource();n.clear(!0),n.addFeatures(e)},t.prototype.updateState_=function(){var e=this.getMap(),n=this.getActive();(!e||!n)&&this.abortDrawing(),this.overlay_.setMap(n?e:null)},t}(Qr);function Ew(){var r=n1();return function(t,e){return r[t.getGeometry().getType()]}}function Tw(r){switch(r){case R.POINT:case R.MULTI_POINT:return ge.POINT;case R.LINE_STRING:case R.MULTI_LINE_STRING:return ge.LINE_STRING;case R.POLYGON:case R.MULTI_POLYGON:return ge.POLYGON;case R.CIRCLE:return ge.CIRCLE;default:throw new Error("Invalid type: "+r)}}var Cw=xw;function Ow(r){var t=r||{},e=new _t,n=new p0(-.005,.05,100),o=t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0;o&&e.push(new Jy);var i=t.doubleClickZoom!==void 0?t.doubleClickZoom:!0;i&&e.push(new zy({delta:t.zoomDelta,duration:t.zoomDuration}));var a=t.dragPan!==void 0?t.dragPan:!0;a&&e.push(new Vy({onFocusOnly:t.onFocusOnly,kinetic:n}));var s=t.pinchRotate!==void 0?t.pinchRotate:!0;s&&e.push(new y0);var f=t.pinchZoom!==void 0?t.pinchZoom:!0;f&&e.push(new E0({duration:t.zoomDuration}));var l=t.keyboard!==void 0?t.keyboard:!0;l&&(e.push(new l0),e.push(new h0({delta:t.zoomDelta,duration:t.zoomDuration})));var c=t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0;c&&e.push(new m0({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration}));var u=t.shiftDragZoom!==void 0?t.shiftDragZoom:!0;return u&&e.push(new a0({duration:t.zoomDuration})),e}var Iw=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Rw=function(r){Iw(t,r);function t(e){return e=Oe({},e),e.controls||(e.controls=Rd()),e.interactions||(e.interactions=Ow({onFocusOnly:!0})),r.call(this,e)||this}return t.prototype.createRenderer=function(){return new Vb(this)},t}(wy),Sw=Rw,Pw=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),kw=function(r){Pw(t,r);function t(e,n,o){var i=r.call(this)||this,a=o||{};return i.tileCoord=e,i.state=n,i.interimTile=null,i.key="",i.transition_=a.transition===void 0?250:a.transition,i.transitionStarts_={},i.interpolate=!!a.interpolate,i}return t.prototype.changed=function(){this.dispatchEvent(re.CHANGE)},t.prototype.release=function(){},t.prototype.getKey=function(){return this.key+"/"+this.tileCoord},t.prototype.getInterimTile=function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(e.getState()==Q.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this},t.prototype.refreshInterimChain=function(){if(!!this.interimTile){var e=this.interimTile,n=this;do{if(e.getState()==Q.LOADED){e.interimTile=null;break}else e.getState()==Q.LOADING?n=e:e.getState()==Q.IDLE?n.interimTile=e.interimTile:n=e;e=n.interimTile}while(e)}},t.prototype.getTileCoord=function(){return this.tileCoord},t.prototype.getState=function(){return this.state},t.prototype.setState=function(e){if(this.state!==Q.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()},t.prototype.load=function(){Z()},t.prototype.getAlpha=function(e,n){if(!this.transition_)return 1;var o=this.transitionStarts_[e];if(!o)o=n,this.transitionStarts_[e]=o;else if(o===-1)return 1;var i=n-o+1e3/60;return i>=this.transition_?1:hd(i/this.transition_)},t.prototype.inTransition=function(e){return this.transition_?this.transitionStarts_[e]!==-1:!1},t.prototype.endTransition=function(e){this.transition_&&(this.transitionStarts_[e]=-1)},t}(qr),Zd=kw,Aw=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Lw=function(r){Aw(t,r);function t(e,n,o,i,a,s){var f=r.call(this,e,n,s)||this;return f.crossOrigin_=i,f.src_=o,f.key=o,f.image_=new Image,i!==null&&(f.image_.crossOrigin=i),f.unlisten_=null,f.tileLoadFunction_=a,f}return t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(e){this.image_=e,this.state=Q.LOADED,this.unlistenImage_(),this.changed()},t.prototype.handleImageError_=function(){this.state=Q.ERROR,this.unlistenImage_(),this.image_=Mw(),this.changed()},t.prototype.handleImageLoad_=function(){var e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=Q.LOADED:this.state=Q.EMPTY,this.unlistenImage_(),this.changed()},t.prototype.load=function(){this.state==Q.ERROR&&(this.state=Q.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Q.IDLE&&(this.state=Q.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=cl(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(Zd);function Mw(){var r=yt(1,1);return r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1),r.canvas}var Jd=Lw,Fw=.5,Ht=!0,Nw=10,Hc=.25,Dw=function(){function r(t,e,n,o,i,a){this.sourceProj_=t,this.targetProj_=e;var s={},f=Bo(this.targetProj_,this.sourceProj_);this.transformInv_=function(y){var x=y[0]+"/"+y[1];return s[x]||(s[x]=f(y)),s[x]},this.maxSourceExtent_=o,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!o&&!!this.sourceProj_.getExtent()&&Pe(o)==Pe(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Pe(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Pe(this.targetProj_.getExtent()):null;var l=_r(n),c=Oa(n),u=Ca(n),h=Ta(n),d=this.transformInv_(l),p=this.transformInv_(c),g=this.transformInv_(u),m=this.transformInv_(h),v=Nw+(a?Math.max(0,Math.ceil(fb(Ls(n)/(a*a*256*256)))):0);if(this.addQuad_(l,c,u,h,d,p,g,m,v),this.wrapsXInSource_){var _=1/0;this.triangles_.forEach(function(y,x,E){_=Math.min(_,y.source[0][0],y.source[1][0],y.source[2][0])}),this.triangles_.forEach(function(y){if(Math.max(y.source[0][0],y.source[1][0],y.source[2][0])-_>this.sourceWorldWidth_/2){var x=[[y.source[0][0],y.source[0][1]],[y.source[1][0],y.source[1][1]],[y.source[2][0],y.source[2][1]]];x[0][0]-_>this.sourceWorldWidth_/2&&(x[0][0]-=this.sourceWorldWidth_),x[1][0]-_>this.sourceWorldWidth_/2&&(x[1][0]-=this.sourceWorldWidth_),x[2][0]-_>this.sourceWorldWidth_/2&&(x[2][0]-=this.sourceWorldWidth_);var E=Math.min(x[0][0],x[1][0],x[2][0]),P=Math.max(x[0][0],x[1][0],x[2][0]);P-E<this.sourceWorldWidth_/2&&(y.source=x)}}.bind(this))}s={}}return r.prototype.addTriangle_=function(t,e,n,o,i,a){this.triangles_.push({source:[o,i,a],target:[t,e,n]})},r.prototype.addQuad_=function(t,e,n,o,i,a,s,f,l){var c=lc([i,a,s,f]),u=this.sourceWorldWidth_?Pe(c)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&u>.5&&u<1,p=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var g=lc([t,e,n,o]),m=Pe(g)/this.targetWorldWidth_;p=m>Hc||p}!d&&this.sourceProj_.isGlobal()&&u&&(p=u>Hc||p)}if(!(!p&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3])&&!Je(c,this.maxSourceExtent_))){var v=0;if(!p&&(!isFinite(i[0])||!isFinite(i[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(f[0])||!isFinite(f[1]))){if(l>0)p=!0;else if(v=(!isFinite(i[0])||!isFinite(i[1])?8:0)+(!isFinite(a[0])||!isFinite(a[1])?4:0)+(!isFinite(s[0])||!isFinite(s[1])?2:0)+(!isFinite(f[0])||!isFinite(f[1])?1:0),v!=1&&v!=2&&v!=4&&v!=8)return}if(l>0){if(!p){var _=[(t[0]+n[0])/2,(t[1]+n[1])/2],y=this.transformInv_(_),x=void 0;if(d){var E=(sr(i[0],h)+sr(s[0],h))/2;x=E-sr(y[0],h)}else x=(i[0]+s[0])/2-y[0];var P=(i[1]+s[1])/2-y[1],C=x*x+P*P;p=C>this.errorThresholdSquared_}if(p){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var O=[(e[0]+n[0])/2,(e[1]+n[1])/2],M=this.transformInv_(O),U=[(o[0]+t[0])/2,(o[1]+t[1])/2],K=this.transformInv_(U);this.addQuad_(t,e,O,U,i,a,M,K,l-1),this.addQuad_(U,O,n,o,K,M,s,f,l-1)}else{var B=[(t[0]+e[0])/2,(t[1]+e[1])/2],V=this.transformInv_(B),te=[(n[0]+o[0])/2,(n[1]+o[1])/2],j=this.transformInv_(te);this.addQuad_(t,B,te,o,i,V,j,f,l-1),this.addQuad_(B,e,n,te,V,a,s,j,l-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(v&11)==0&&this.addTriangle_(t,n,o,i,s,f),(v&14)==0&&this.addTriangle_(t,n,e,i,s,a),v&&((v&13)==0&&this.addTriangle_(e,o,t,a,f,i),(v&7)==0&&this.addTriangle_(e,o,n,a,f,s))}},r.prototype.calculateSourceExtent=function(){var t=pt();return this.triangles_.forEach(function(e,n,o){var i=e.source;Co(t,i[0]),Co(t,i[1]),Co(t,i[2])}),t},r.prototype.getTriangles=function(){return this.triangles_},r}(),Gw=Dw,Zs={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},jw={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},fs;function Vc(r,t,e,n,o){r.beginPath(),r.moveTo(0,0),r.lineTo(t,e),r.lineTo(n,o),r.closePath(),r.save(),r.clip(),r.fillRect(0,0,Math.max(t,n)+1,Math.max(e,o)),r.restore()}function ls(r,t){return Math.abs(r[t*4]-210)>2||Math.abs(r[t*4+3]-.75*255)>2}function zw(){if(fs===void 0){var r=document.createElement("canvas").getContext("2d");r.globalCompositeOperation="lighter",r.fillStyle="rgba(210, 0, 0, 0.75)",Vc(r,4,5,4,0),Vc(r,4,5,0,5);var t=r.getImageData(0,0,3,3).data;fs=ls(t,0)||ls(t,4)||ls(t,8)}return fs}function Js(r,t,e,n){var o=Hf(e,t,r),i=wc(t,n,e),a=t.getMetersPerUnit();a!==void 0&&(i*=a);var s=r.getMetersPerUnit();s!==void 0&&(i/=s);var f=r.getExtent();if(!f||Zo(f,o)){var l=wc(r,i,o)/i;isFinite(l)&&l>0&&(i/=l)}return i}function Yw(r,t,e,n){var o=hr(e),i=Js(r,t,o,n);return(!isFinite(i)||i<=0)&&jf(e,function(a){return i=Js(r,t,a,n),isFinite(i)&&i>0}),i}function Uw(r,t,e,n,o,i,a,s,f,l,c,u){var h=yt(Math.round(e*r),Math.round(e*t));if(u||Oe(h,Zs),f.length===0)return h.canvas;h.scale(e,e);function d(x){return Math.round(x*e)/e}h.globalCompositeOperation="lighter";var p=pt();f.forEach(function(x,E,P){Xh(p,x.extent)});var g=Pe(p),m=At(p),v=yt(Math.round(e*g/n),Math.round(e*m/n));u||Oe(v,Zs);var _=e/n;f.forEach(function(x,E,P){var C=x.extent[0]-p[0],O=-(x.extent[3]-p[3]),M=Pe(x.extent),U=At(x.extent);x.image.width>0&&x.image.height>0&&v.drawImage(x.image,l,l,x.image.width-2*l,x.image.height-2*l,C*_,O*_,M*_,U*_)});var y=_r(a);return s.getTriangles().forEach(function(x,E,P){var C=x.source,O=x.target,M=C[0][0],U=C[0][1],K=C[1][0],B=C[1][1],V=C[2][0],te=C[2][1],j=d((O[0][0]-y[0])/i),X=d(-(O[0][1]-y[1])/i),D=d((O[1][0]-y[0])/i),$=d(-(O[1][1]-y[1])/i),ne=d((O[2][0]-y[0])/i),ce=d(-(O[2][1]-y[1])/i),me=M,A=U;M=0,U=0,K-=me,B-=A,V-=me,te-=A;var ye=[[K,B,0,0,D-j],[V,te,0,0,ne-j],[0,0,K,B,$-X],[0,0,V,te,ce-X]],oe=cb(ye);if(!!oe){if(h.save(),h.beginPath(),zw()||!u){h.moveTo(D,$);for(var ke=4,qe=j-D,Ie=X-$,je=0;je<ke;je++)h.lineTo(D+d((je+1)*qe/ke),$+d(je*Ie/(ke-1))),je!=ke-1&&h.lineTo(D+d((je+1)*qe/ke),$+d((je+1)*Ie/(ke-1)));h.lineTo(ne,ce)}else h.moveTo(D,$),h.lineTo(j,X),h.lineTo(ne,ce);h.clip(),h.transform(oe[0],oe[2],oe[1],oe[3],j,X),h.translate(p[0]-me,p[3]-A),h.scale(n/e,-n/e),h.drawImage(v.canvas,0,0),h.restore()}}),c&&(h.save(),h.globalCompositeOperation="source-over",h.strokeStyle="black",h.lineWidth=1,s.getTriangles().forEach(function(x,E,P){var C=x.target,O=(C[0][0]-y[0])/i,M=-(C[0][1]-y[1])/i,U=(C[1][0]-y[0])/i,K=-(C[1][1]-y[1])/i,B=(C[2][0]-y[0])/i,V=-(C[2][1]-y[1])/i;h.beginPath(),h.moveTo(U,K),h.lineTo(O,M),h.lineTo(B,V),h.closePath(),h.stroke()}),h.restore()),h.canvas}var Xw=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Bw=function(r){Xw(t,r);function t(e,n,o,i,a,s,f,l,c,u,h,d){var p=r.call(this,a,Q.IDLE,{interpolate:!!d})||this;p.renderEdges_=h!==void 0?h:!1,p.pixelRatio_=f,p.gutter_=l,p.canvas_=null,p.sourceTileGrid_=n,p.targetTileGrid_=i,p.wrappedTileCoord_=s||a,p.sourceTiles_=[],p.sourcesListenerKeys_=null,p.sourceZ_=0;var g=i.getTileCoordExtent(p.wrappedTileCoord_),m=p.targetTileGrid_.getExtent(),v=p.sourceTileGrid_.getExtent(),_=m?Oo(g,m):g;if(Ls(_)===0)return p.state=Q.EMPTY,p;var y=e.getExtent();y&&(v?v=Oo(v,y):v=y);var x=i.getResolution(p.wrappedTileCoord_[0]),E=Yw(e,o,_,x);if(!isFinite(E)||E<=0)return p.state=Q.EMPTY,p;var P=u!==void 0?u:Fw;if(p.triangulation_=new Gw(e,o,_,v,E*P,x),p.triangulation_.getTriangles().length===0)return p.state=Q.EMPTY,p;p.sourceZ_=n.getZForResolution(E);var C=p.triangulation_.calculateSourceExtent();if(v&&(e.canWrapX()?(C[1]=De(C[1],v[1],v[3]),C[3]=De(C[3],v[1],v[3])):C=Oo(C,v)),!Ls(C))p.state=Q.EMPTY;else{for(var O=n.getTileRangeForExtentAndZ(C,p.sourceZ_),M=O.minX;M<=O.maxX;M++)for(var U=O.minY;U<=O.maxY;U++){var K=c(p.sourceZ_,M,U,f);K&&p.sourceTiles_.push(K)}p.sourceTiles_.length===0&&(p.state=Q.EMPTY)}return p}return t.prototype.getImage=function(){return this.canvas_},t.prototype.reproject_=function(){var e=[];if(this.sourceTiles_.forEach(function(c,u,h){c&&c.getState()==Q.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(c.tileCoord),image:c.getImage()})}.bind(this)),this.sourceTiles_.length=0,e.length===0)this.state=Q.ERROR;else{var n=this.wrappedTileCoord_[0],o=this.targetTileGrid_.getTileSize(n),i=typeof o=="number"?o:o[0],a=typeof o=="number"?o:o[1],s=this.targetTileGrid_.getResolution(n),f=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Uw(i,a,this.pixelRatio_,f,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=Q.LOADED}this.changed()},t.prototype.load=function(){if(this.state==Q.IDLE){this.state=Q.LOADING,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(n,o,i){var a=n.getState();if(a==Q.IDLE||a==Q.LOADING){e++;var s=he(n,re.CHANGE,function(f){var l=n.getState();(l==Q.LOADED||l==Q.ERROR||l==Q.EMPTY)&&(Te(s),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}.bind(this)),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(n,o,i){var a=n.getState();a==Q.IDLE&&n.load()})}},t.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(Te),this.sourcesListenerKeys_=null},t}(Zd),Qd=Bw,Ww=function(){function r(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return r.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},r.prototype.expireCache=function(t){for(;this.canExpireCache();)this.pop()},r.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},r.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},r.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},r.prototype.get=function(t,e){var n=this.entries_[t];return le(n!==void 0,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_},r.prototype.remove=function(t){var e=this.entries_[t];return le(e!==void 0,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},r.prototype.getCount=function(){return this.count_},r.prototype.getKeys=function(){var t=new Array(this.count_),e=0,n;for(n=this.newest_;n;n=n.older)t[e++]=n.key_;return t},r.prototype.getValues=function(){var t=new Array(this.count_),e=0,n;for(n=this.newest_;n;n=n.older)t[e++]=n.value_;return t},r.prototype.peekLast=function(){return this.oldest_.value_},r.prototype.peekLastKey=function(){return this.oldest_.key_},r.prototype.peekFirstKey=function(){return this.newest_.key_},r.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},r.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},r.prototype.set=function(t,e){le(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},r.prototype.setSize=function(t){this.highWaterMark=t},r}(),$w=Ww;function qc(r,t,e,n){return n!==void 0?(n[0]=r,n[1]=t,n[2]=e,n):[r,t,e]}function Aa(r,t,e){return r+"/"+t+"/"+e}function ep(r){return Aa(r[0],r[1],r[2])}function Kw(r){return r.split("/").map(Number)}function tp(r){return(r[1]<<r[0])+r[2]}function Hw(r,t){var e=r[0],n=r[1],o=r[2];if(t.getMinZoom()>e||e>t.getMaxZoom())return!1;var i=t.getFullTileRange(e);return i?i.containsXY(n,o):!0}var Vw=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),qw=function(r){Vw(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.expireCache=function(e){for(;this.canExpireCache();){var n=this.peekLast();if(n.getKey()in e)break;this.pop().release()}},t.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var e=this.peekFirstKey(),n=Kw(e),o=n[0];this.forEach(function(i){i.tileCoord[0]!==o&&(this.remove(ep(i.tileCoord)),i.release())}.bind(this))}},t}($w),np=qw,cs={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},rp=function(){function r(t,e,n,o){this.minX=t,this.maxX=e,this.minY=n,this.maxY=o}return r.prototype.contains=function(t){return this.containsXY(t[1],t[2])},r.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},r.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},r.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},r.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},r.prototype.getHeight=function(){return this.maxY-this.minY+1},r.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},r.prototype.getWidth=function(){return this.maxX-this.minX+1},r.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},r}();function Tr(r,t,e,n,o){return o!==void 0?(o.minX=r,o.maxX=t,o.minY=e,o.maxY=n,o):new rp(r,t,e,n)}var op=rp,Zw=[0,0,0],wn=5,Jw=function(){function r(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,le(Gm(this.resolutions_,function(a,s){return s-a},!0),17);var e;if(!t.origins){for(var n=0,o=this.resolutions_.length-1;n<o;++n)if(!e)e=this.resolutions_[n]/this.resolutions_[n+1];else if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,le(this.origins_.length==this.resolutions_.length,20));var i=t.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=_r(i)),le(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,le(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:Xf,le(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map(function(a,s){var f=new op(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1));if(i){var l=this.getTileRangeForExtentAndZ(i,s);f.minX=Math.max(l.minX,f.minX),f.maxX=Math.min(l.maxX,f.maxX),f.minY=Math.max(l.minY,f.minY),f.maxY=Math.min(l.maxY,f.maxY)}return f},this):i&&this.calculateTileRanges_(i)}return r.prototype.forEachTileCoord=function(t,e,n){for(var o=this.getTileRangeForExtentAndZ(t,e),i=o.minX,a=o.maxX;i<=a;++i)for(var s=o.minY,f=o.maxY;s<=f;++s)n([e,i,s])},r.prototype.forEachTileCoordParentTileRange=function(t,e,n,o){var i,a,s,f=null,l=t[0]-1;for(this.zoomFactor_===2?(a=t[1],s=t[2]):f=this.getTileCoordExtent(t,o);l>=this.minZoom;){if(this.zoomFactor_===2?(a=Math.floor(a/2),s=Math.floor(s/2),i=Tr(a,a,s,s,n)):i=this.getTileRangeForExtentAndZ(f,l,n),e(l,i))return!0;--l}return!1},r.prototype.getExtent=function(){return this.extent_},r.prototype.getMaxZoom=function(){return this.maxZoom},r.prototype.getMinZoom=function(){return this.minZoom},r.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},r.prototype.getResolution=function(t){return this.resolutions_[t]},r.prototype.getResolutions=function(){return this.resolutions_},r.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){var o=t[1]*2,i=t[2]*2;return Tr(o,o+1,i,i+1,e)}var a=this.getTileCoordExtent(t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,t[0]+1,e)}return null},r.prototype.getTileRangeForTileCoordAndZ=function(t,e,n){if(e>this.maxZoom||e<this.minZoom)return null;var o=t[0],i=t[1],a=t[2];if(e===o)return Tr(i,a,i,a,n);if(this.zoomFactor_){var s=Math.pow(this.zoomFactor_,e-o),f=Math.floor(i*s),l=Math.floor(a*s);if(e<o)return Tr(f,f,l,l,n);var c=Math.floor(s*(i+1))-1,u=Math.floor(s*(a+1))-1;return Tr(f,c,l,u,n)}var h=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(h,e,n)},r.prototype.getTileRangeExtent=function(t,e,n){var o=this.getOrigin(t),i=this.getResolution(t),a=ht(this.getTileSize(t),this.tmpSize_),s=o[0]+e.minX*a[0]*i,f=o[0]+(e.maxX+1)*a[0]*i,l=o[1]+e.minY*a[1]*i,c=o[1]+(e.maxY+1)*a[1]*i;return kt(s,l,f,c,n)},r.prototype.getTileRangeForExtentAndZ=function(t,e,n){var o=Zw;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,o);var i=o[1],a=o[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,o),Tr(i,o[1],a,o[2],n)},r.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),o=ht(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*o[0]*n,e[1]-(t[2]+.5)*o[1]*n]},r.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),o=this.getResolution(t[0]),i=ht(this.getTileSize(t[0]),this.tmpSize_),a=n[0]+t[1]*i[0]*o,s=n[1]-(t[2]+1)*i[1]*o,f=a+i[0]*o,l=s+i[1]*o;return kt(a,s,f,l,e)},r.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},r.prototype.getTileCoordForXYAndResolution_=function(t,e,n,o,i){var a=this.getZForResolution(n),s=n/this.getResolution(a),f=this.getOrigin(a),l=ht(this.getTileSize(a),this.tmpSize_),c=s*(t-f[0])/n/l[0],u=s*(f[1]-e)/n/l[1];return o?(c=pi(c,wn)-1,u=pi(u,wn)-1):(c=di(c,wn),u=di(u,wn)),qc(a,c,u,i)},r.prototype.getTileCoordForXYAndZ_=function(t,e,n,o,i){var a=this.getOrigin(n),s=this.getResolution(n),f=ht(this.getTileSize(n),this.tmpSize_),l=(t-a[0])/s/f[0],c=(a[1]-e)/s/f[1];return o?(l=pi(l,wn)-1,c=pi(c,wn)-1):(l=di(l,wn),c=di(c,wn)),qc(n,l,c,i)},r.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},r.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},r.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},r.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},r.prototype.getZForResolution=function(t,e){var n=Nf(this.resolutions_,t,e||0);return De(n,this.minZoom,this.maxZoom)},r.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),o=this.minZoom;o<e;++o)n[o]=this.getTileRangeForExtentAndZ(t,o);this.fullTileRanges_=n},r}(),ip=Jw;function ap(r){var t=r.getDefaultTileGrid();return t||(t=nx(r),r.setDefaultTileGrid(t)),t}function Qw(r,t,e){var n=t[0],o=r.getTileCoordCenter(t),i=ul(e);if(Zo(i,o))return t;var a=Pe(i),s=Math.ceil((i[0]-o[0])/a);return o[0]+=a*s,r.getTileCoordForCoordAndZ(o,n)}function ex(r,t,e,n){var o=n!==void 0?n:po.TOP_LEFT,i=sp(r,t,e);return new ip({extent:r,origin:nb(r,o),resolutions:i,tileSize:e})}function tx(r){var t=r||{},e=t.extent||Ge("EPSG:3857").getExtent(),n={extent:e,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:sp(e,t.maxZoom,t.tileSize,t.maxResolution)};return new ip(n)}function sp(r,t,e,n){for(var o=t!==void 0?t:u_,i=At(r),a=Pe(r),s=ht(e!==void 0?e:Xf),f=n>0?n:Math.max(a/s[0],i/s[1]),l=o+1,c=new Array(l),u=0;u<l;++u)c[u]=f/Math.pow(2,u);return c}function nx(r,t,e,n){var o=ul(r);return ex(o,t,e,n)}function ul(r){r=Ge(r);var t=r.getExtent();if(!t){var e=180*Xt[an.DEGREES]/r.getMetersPerUnit();t=kt(-e,-e,e,e)}return t}var fp=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),rx=function(r){fp(t,r);function t(e){var n=r.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate})||this;n.on,n.once,n.un,n.opaque_=e.opaque!==void 0?e.opaque:!1,n.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,n.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;var o=[256,256];return n.tileGrid&&ht(n.tileGrid.getTileSize(n.tileGrid.getMinZoom()),o),n.tileCache=new np(e.cacheSize||0),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition,interpolate:e.interpolate},n.zDirection=e.zDirection?e.zDirection:0,n}return t.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},t.prototype.expireCache=function(e,n){var o=this.getTileCacheForProjection(e);o&&o.expireCache(n)},t.prototype.forEachLoadedTile=function(e,n,o,i){var a=this.getTileCacheForProjection(e);if(!a)return!1;for(var s=!0,f,l,c,u=o.minX;u<=o.maxX;++u)for(var h=o.minY;h<=o.maxY;++h)l=Aa(n,u,h),c=!1,a.containsKey(l)&&(f=a.get(l),c=f.getState()===Q.LOADED,c&&(c=i(f)!==!1)),c||(s=!1);return s},t.prototype.getGutterForProjection=function(e){return 0},t.prototype.getKey=function(){return this.key_},t.prototype.setKey=function(e){this.key_!==e&&(this.key_=e,this.changed())},t.prototype.getOpaque=function(e){return this.opaque_},t.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},t.prototype.getTile=function(e,n,o,i,a){return Z()},t.prototype.getTileGrid=function(){return this.tileGrid},t.prototype.getTileGridForProjection=function(e){return this.tileGrid?this.tileGrid:ap(e)},t.prototype.getTileCacheForProjection=function(e){return le(Hn(this.getProjection(),e),68),this.tileCache},t.prototype.getTilePixelRatio=function(e){return this.tilePixelRatio_},t.prototype.getTilePixelSize=function(e,n,o){var i=this.getTileGridForProjection(o),a=this.getTilePixelRatio(n),s=ht(i.getTileSize(e),this.tmpSize);return a==1?s:Cd(s,a,this.tmpSize)},t.prototype.getTileCoordForTileUrlFunction=function(e,n){var o=n!==void 0?n:this.getProjection(),i=this.getTileGridForProjection(o);return this.getWrapX()&&o.isGlobal()&&(e=Qw(i,e,o)),Hw(e,i)?e:null},t.prototype.clear=function(){this.tileCache.clear()},t.prototype.refresh=function(){this.clear(),r.prototype.refresh.call(this)},t.prototype.updateCacheSize=function(e,n){var o=this.getTileCacheForProjection(n);e>o.highWaterMark&&(o.highWaterMark=e)},t.prototype.useTile=function(e,n,o,i){},t}(Hd),ox=function(r){fp(t,r);function t(e,n){var o=r.call(this,e)||this;return o.tile=n,o}return t}(Bt),ix=rx;function ax(r,t){var e=/\{z\}/g,n=/\{x\}/g,o=/\{y\}/g,i=/\{-y\}/g;return function(a,s,f){if(a)return r.replace(e,a[0].toString()).replace(n,a[1].toString()).replace(o,a[2].toString()).replace(i,function(){var l=a[0],c=t.getFullTileRange(l);le(c,55);var u=c.getHeight()-a[2]-1;return u.toString()})}}function sx(r,t){for(var e=r.length,n=new Array(e),o=0;o<e;++o)n[o]=ax(r[o],t);return fx(n)}function fx(r){return r.length===1?r[0]:function(t,e,n){if(t){var o=tp(t),i=sr(o,r.length);return r[i](t,e,n)}else return}}function lx(r){var t=[],e=/\{([a-z])-([a-z])\}/.exec(r);if(e){var n=e[1].charCodeAt(0),o=e[2].charCodeAt(0),i=void 0;for(i=n;i<=o;++i)t.push(r.replace(e[0],String.fromCharCode(i)));return t}if(e=/\{(\d+)-(\d+)\}/.exec(r),e){for(var a=parseInt(e[2],10),s=parseInt(e[1],10);s<=a;s++)t.push(r.replace(e[0],s.toString()));return t}return t.push(r),t}var cx=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ux=function(r){cx(t,r);function t(e){var n=r.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.generateTileUrlFunction_=n.tileUrlFunction===t.prototype.tileUrlFunction,n.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(n.tileUrlFunction=e.tileUrlFunction),n.urls=null,e.urls?n.setUrls(e.urls):e.url&&n.setUrl(e.url),n.tileLoadingKeys_={},n}return t.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},t.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},t.prototype.getUrls=function(){return this.urls},t.prototype.handleTileChange=function(e){var n=e.target,o=be(n),i=n.getState(),a;i==Q.LOADING?(this.tileLoadingKeys_[o]=!0,a=cs.TILELOADSTART):o in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[o],a=i==Q.ERROR?cs.TILELOADERROR:i==Q.LOADED?cs.TILELOADEND:void 0),a!=null&&this.dispatchEvent(new ox(a,n))},t.prototype.setTileLoadFunction=function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()},t.prototype.setTileUrlFunction=function(e,n){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof n!="undefined"?this.setKey(n):this.changed()},t.prototype.setUrl=function(e){var n=lx(e);this.urls=n,this.setUrls(n)},t.prototype.setUrls=function(e){this.urls=e;var n=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(sx(e,this.tileGrid),n):this.setKey(n)},t.prototype.tileUrlFunction=function(e,n,o){},t.prototype.useTile=function(e,n,o){var i=Aa(e,n,o);this.tileCache.containsKey(i)&&this.tileCache.get(i)},t}(ix),hx=ux,dx=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),px=function(r){dx(t,r);function t(e){var n=this,o=e.imageSmoothing!==void 0?e.imageSmoothing:!0;return e.interpolate!==void 0&&(o=e.interpolate),n=r.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:gx,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:o,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this,n.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,n.tileClass=e.tileClass!==void 0?e.tileClass:Jd,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.renderReprojectionEdges_=!1,n}return t.prototype.canExpireCache=function(){if(!Ht)return r.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},t.prototype.expireCache=function(e,n){if(!Ht){r.prototype.expireCache.call(this,e,n);return}var o=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==o?n:{});for(var i in this.tileCacheForProjection){var a=this.tileCacheForProjection[i];a.expireCache(a==o?n:{})}},t.prototype.getGutterForProjection=function(e){return Ht&&this.getProjection()&&e&&!Hn(this.getProjection(),e)?0:this.getGutter()},t.prototype.getGutter=function(){return 0},t.prototype.getKey=function(){var e=r.prototype.getKey.call(this);return this.getInterpolate()||(e+=":disable-interpolation"),e},t.prototype.getOpaque=function(e){return Ht&&this.getProjection()&&e&&!Hn(this.getProjection(),e)?!1:r.prototype.getOpaque.call(this,e)},t.prototype.getTileGridForProjection=function(e){if(!Ht)return r.prototype.getTileGridForProjection.call(this,e);var n=this.getProjection();if(this.tileGrid&&(!n||Hn(n,e)))return this.tileGrid;var o=be(e);return o in this.tileGridForProjection||(this.tileGridForProjection[o]=ap(e)),this.tileGridForProjection[o]},t.prototype.getTileCacheForProjection=function(e){if(!Ht)return r.prototype.getTileCacheForProjection.call(this,e);var n=this.getProjection();if(!n||Hn(n,e))return this.tileCache;var o=be(e);return o in this.tileCacheForProjection||(this.tileCacheForProjection[o]=new np(this.tileCache.highWaterMark)),this.tileCacheForProjection[o]},t.prototype.createTile_=function(e,n,o,i,a,s){var f=[e,n,o],l=this.getTileCoordForTileUrlFunction(f,a),c=l?this.tileUrlFunction(l,i,a):void 0,u=new this.tileClass(f,c!==void 0?Q.IDLE:Q.EMPTY,c!==void 0?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=s,u.addEventListener(re.CHANGE,this.handleTileChange.bind(this)),u},t.prototype.getTile=function(e,n,o,i,a){var s=this.getProjection();if(!Ht||!s||!a||Hn(s,a))return this.getTileInternal(e,n,o,i,s||a);var f=this.getTileCacheForProjection(a),l=[e,n,o],c=void 0,u=ep(l);f.containsKey(u)&&(c=f.get(u));var h=this.getKey();if(c&&c.key==h)return c;var d=this.getTileGridForProjection(s),p=this.getTileGridForProjection(a),g=this.getTileCoordForTileUrlFunction(l,a),m=new Qd(s,d,a,p,l,g,this.getTilePixelRatio(i),this.getGutter(),function(v,_,y,x){return this.getTileInternal(v,_,y,x,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return m.key=h,c?(m.interimTile=c,m.refreshInterimChain(),f.replace(u,m)):f.set(u,m),m},t.prototype.getTileInternal=function(e,n,o,i,a){var s=null,f=Aa(e,n,o),l=this.getKey();if(!this.tileCache.containsKey(f))s=this.createTile_(e,n,o,i,a,l),this.tileCache.set(f,s);else if(s=this.tileCache.get(f),s.key!=l){var c=s;s=this.createTile_(e,n,o,i,a,l),c.getState()==Q.IDLE?s.interimTile=c.interimTile:s.interimTile=c,s.refreshInterimChain(),this.tileCache.replace(f,s)}return s},t.prototype.setRenderReprojectionEdges=function(e){if(!(!Ht||this.renderReprojectionEdges_==e)){this.renderReprojectionEdges_=e;for(var n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}},t.prototype.setTileGridForProjection=function(e,n){if(Ht){var o=Ge(e);if(o){var i=be(o);i in this.tileGridForProjection||(this.tileGridForProjection[i]=n)}}},t}(hx);function gx(r,t){r.getImage().src=t}var lp=px,vx=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),mx=function(r){vx(t,r);function t(e){var n=e||{},o=n.imageSmoothing!==void 0?n.imageSmoothing:!0;n.interpolate!==void 0&&(o=n.interpolate);var i=n.projection!==void 0?n.projection:"EPSG:3857",a=n.tileGrid!==void 0?n.tileGrid:tx({extent:ul(i),maxResolution:n.maxResolution,maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});return r.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,interpolate:o,opaque:n.opaque,projection:i,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:a,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:n.wrapX!==void 0?n.wrapX:!0,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this}return t}(lp),bx=mx,_x=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),yx='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',wx=function(r){_x(t,r);function t(e){var n=e||{},o=n.imageSmoothing!==void 0?n.imageSmoothing:!0;n.interpolate!==void 0&&(o=n.interpolate);var i;n.attributions!==void 0?i=n.attributions:i=[yx];var a=n.crossOrigin!==void 0?n.crossOrigin:"anonymous",s=n.url!==void 0?n.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return r.call(this,{attributions:i,attributionsCollapsible:!1,cacheSize:n.cacheSize,crossOrigin:a,interpolate:o,maxZoom:n.maxZoom!==void 0?n.maxZoom:19,opaque:n.opaque!==void 0?n.opaque:!0,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileLoadFunction:n.tileLoadFunction,transition:n.transition,url:s,wrapX:n.wrapX,zDirection:n.zDirection})||this}return t}(bx),xx=wx;function Zc(r,t){var e=[];Object.keys(t).forEach(function(o){t[o]!==null&&t[o]!==void 0&&e.push(o+"="+encodeURIComponent(t[o]))});var n=e.join("&");return r=r.replace(/[?&]$/,""),r=r.indexOf("?")===-1?r+"?":r+"&",r+n}var Oi="1.3.0",Ii={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"},Ri={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},Ex=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Tx=function(r){Ex(t,r);function t(e){var n=this,o=e||{},i=Oe({},o);return delete i.preload,delete i.useInterimTilesOnError,n=r.call(this,i)||this,n.on,n.once,n.un,n.setPreload(o.preload!==void 0?o.preload:0),n.setUseInterimTilesOnError(o.useInterimTilesOnError!==void 0?o.useInterimTilesOnError:!0),n}return t.prototype.getPreload=function(){return this.get(Ri.PRELOAD)},t.prototype.setPreload=function(e){this.set(Ri.PRELOAD,e)},t.prototype.getUseInterimTilesOnError=function(){return this.get(Ri.USE_INTERIM_TILES_ON_ERROR)},t.prototype.setUseInterimTilesOnError=function(e){this.set(Ri.USE_INTERIM_TILES_ON_ERROR,e)},t.prototype.getData=function(e){return r.prototype.getData.call(this,e)},t}(Ia),Cx=Tx,Ox=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ix=function(r){Ox(t,r);function t(e){var n=r.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedPixelRatio,n.renderedProjection=null,n.renderedRevision,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=pt(),n.tmpTileRange_=new op(0,0,0,0),n}return t.prototype.isDrawableTile=function(e){var n=this.getLayer(),o=e.getState(),i=n.getUseInterimTilesOnError();return o==Q.LOADED||o==Q.EMPTY||o==Q.ERROR&&!i},t.prototype.getTile=function(e,n,o,i){var a=i.pixelRatio,s=i.viewState.projection,f=this.getLayer(),l=f.getSource(),c=l.getTile(e,n,o,a,s);return c.getState()==Q.ERROR&&(f.getUseInterimTilesOnError()?f.getPreload()>0&&(this.newTiles_=!0):c.setState(Q.LOADED)),this.isDrawableTile(c)||(c=c.getInterimTile()),c},t.prototype.getData=function(e){var n=this.frameState;if(!n)return null;var o=this.getLayer(),i=Ne(n.pixelToCoordinateTransform,e.slice()),a=o.getExtent();if(a&&!Zo(a,i))return null;for(var s=n.pixelRatio,f=n.viewState.projection,l=n.viewState,c=o.getRenderSource(),u=c.getTileGridForProjection(l.projection),h=c.getTilePixelRatio(n.pixelRatio),d=u.getZForResolution(l.resolution);d>=u.getMinZoom();--d){var p=u.getTileCoordForCoordAndZ(i,d),g=c.getTile(d,p[1],p[2],s,f);if(!(g instanceof Jd||g instanceof Qd))return null;if(g.getState()===Q.LOADED){var m=u.getOrigin(d),v=ht(u.getTileSize(d)),_=u.getResolution(d),y=Math.floor(h*((i[0]-m[0])/_-p[1]*v[0])),x=Math.floor(h*((m[1]-i[1])/_-p[2]*v[1]));return this.getImageData(g.getImage(),y,x)}}return null},t.prototype.loadedTileCallback=function(e,n,o){return this.isDrawableTile(o)?r.prototype.loadedTileCallback.call(this,e,n,o):!1},t.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()},t.prototype.renderFrame=function(e,n){var o=e.layerStatesArray[e.layerIndex],i=e.viewState,a=i.projection,s=i.resolution,f=i.center,l=i.rotation,c=e.pixelRatio,u=this.getLayer(),h=u.getSource(),d=h.getRevision(),p=h.getTileGridForProjection(a),g=p.getZForResolution(s,h.zDirection),m=p.getResolution(g),v=e.extent,_=o.extent&&Jn(o.extent);_&&(v=Oo(v,Jn(o.extent)));var y=h.getTilePixelRatio(c),x=Math.round(e.size[0]*y),E=Math.round(e.size[1]*y);if(l){var P=Math.round(Math.sqrt(x*x+E*E));x=P,E=P}var C=m*x/2/y,O=m*E/2/y,M=[f[0]-C,f[1]-O,f[0]+C,f[1]+O],U=p.getTileRangeForExtentAndZ(v,g),K={};K[g]={};var B=this.createLoadedTileFinder(h,a,K),V=this.tmpExtent,te=this.tmpTileRange_;this.newTiles_=!1;for(var j=U.minX;j<=U.maxX;++j)for(var X=U.minY;X<=U.maxY;++X){var D=this.getTile(g,j,X,e);if(this.isDrawableTile(D)){var $=be(this);if(D.getState()==Q.LOADED){K[g][D.tileCoord.toString()]=D;var ne=D.inTransition($);!this.newTiles_&&(ne||this.renderedTiles.indexOf(D)===-1)&&(this.newTiles_=!0)}if(D.getAlpha($,e.time)===1)continue}var ce=p.getTileCoordChildTileRange(D.tileCoord,te,V),me=!1;ce&&(me=B(g+1,ce)),me||p.forEachTileCoordParentTileRange(D.tileCoord,B,te,V)}var A=m/s;ln(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/y,1/y,l,-x/2,-E/2);var ye=zh(this.pixelTransform);this.useContainer(n,ye,o.opacity,this.getBackground(e));var oe=this.context,ke=oe.canvas;Df(this.inversePixelTransform,this.pixelTransform),ln(this.tempTransform,x/2,E/2,A,A,0,-x/2,-E/2),ke.width!=x||ke.height!=E?(ke.width=x,ke.height=E):this.containerReused||oe.clearRect(0,0,x,E),_&&this.clipUnrotated(oe,e,_),h.getInterpolate()||Oe(oe,Zs),this.preRender(oe,e),this.renderedTiles.length=0;var qe=Object.keys(K).map(Number);qe.sort(cr);var Ie,je,We;o.opacity===1&&(!this.containerReused||h.getOpaque(e.viewState.projection))?qe=qe.reverse():(Ie=[],je=[]);for(var st=qe.length-1;st>=0;--st){var tt=qe[st],gn=h.getTilePixelSize(tt,c,a),b=p.getResolution(tt),w=b/m,T=gn[0]*w*A,S=gn[1]*w*A,I=p.getTileCoordForCoordAndZ(_r(M),tt),F=p.getTileCoordExtent(I),G=Ne(this.tempTransform,[y*(F[0]-M[0])/m,y*(M[3]-F[3])/m]),L=y*h.getGutterForProjection(a),N=K[tt];for(var k in N){var D=N[k],W=D.tileCoord,z=I[1]-W[1],H=Math.round(G[0]-(z-1)*T),J=I[2]-W[2],se=Math.round(G[1]-(J-1)*S),j=Math.round(G[0]-z*T),X=Math.round(G[1]-J*S),ue=H-j,fe=se-X,pe=g===tt,ne=pe&&D.getAlpha(be(this),e.time)!==1,Be=!1;if(!ne)if(Ie){We=[j,X,j+ue,X,j+ue,X+fe,j,X+fe];for(var Ae=0,zn=Ie.length;Ae<zn;++Ae)if(g!==tt&&tt<je[Ae]){var Re=Ie[Ae];Je([j,X,j+ue,X+fe],[Re[0],Re[3],Re[4],Re[7]])&&(Be||(oe.save(),Be=!0),oe.beginPath(),oe.moveTo(We[0],We[1]),oe.lineTo(We[2],We[3]),oe.lineTo(We[4],We[5]),oe.lineTo(We[6],We[7]),oe.moveTo(Re[6],Re[7]),oe.lineTo(Re[4],Re[5]),oe.lineTo(Re[2],Re[3]),oe.lineTo(Re[0],Re[1]),oe.clip())}Ie.push(We),je.push(tt)}else oe.clearRect(j,X,ue,fe);this.drawTileImage(D,e,j,X,ue,fe,L,pe),Ie&&!ne?(Be&&oe.restore(),this.renderedTiles.unshift(D)):this.renderedTiles.push(D),this.updateUsedTiles(e.usedTiles,h,D)}}this.renderedRevision=d,this.renderedResolution=m,this.extentChanged=!this.renderedExtent_||!Do(this.renderedExtent_,M),this.renderedExtent_=M,this.renderedPixelRatio=c,this.renderedProjection=a,this.manageTilePyramid(e,h,p,c,a,v,g,u.getPreload()),this.scheduleExpireCache(e,h),this.postRender(oe,e),o.extent&&oe.restore(),Oe(oe,jw),ye!==ke.style.transform&&(ke.style.transform=ye);var Wt=ed(o.opacity),Le=this.container;return Wt!==Le.style.opacity&&(Le.style.opacity=Wt),this.container},t.prototype.drawTileImage=function(e,n,o,i,a,s,f,l){var c=this.getTileImage(e);if(!!c){var u=be(this),h=l?e.getAlpha(u,n.time):1,d=h!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=h),this.context.drawImage(c,f,f,c.width-2*f,c.height-2*f,o,i,a,s),d&&this.context.restore(),h!==1?n.animate=!0:l&&e.endTransition(u)}},t.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},t.prototype.getTileImage=function(e){return e.getImage()},t.prototype.scheduleExpireCache=function(e,n){if(n.canExpireCache()){var o=function(i,a,s){var f=be(i);f in s.usedTiles&&i.expireCache(s.viewState.projection,s.usedTiles[f])}.bind(null,n);e.postRenderFunctions.push(o)}},t.prototype.updateUsedTiles=function(e,n,o){var i=be(n);i in e||(e[i]={}),e[i][o.getKey()]=!0},t.prototype.manageTilePyramid=function(e,n,o,i,a,s,f,l,c){var u=be(n);u in e.wantedTiles||(e.wantedTiles[u]={});var h=e.wantedTiles[u],d=e.tileQueue,p=o.getMinZoom(),g=0,m,v,_,y,x,E;for(E=p;E<=f;++E)for(v=o.getTileRangeForExtentAndZ(s,E,v),_=o.getResolution(E),y=v.minX;y<=v.maxX;++y)for(x=v.minY;x<=v.maxY;++x)f-E<=l?(++g,m=n.getTile(E,y,x,i,a),m.getState()==Q.IDLE&&(h[m.getKey()]=!0,d.isKeyQueued(m.getKey())||d.enqueue([m,u,o.getTileCoordCenter(m.tileCoord),_])),c!==void 0&&c(m)):n.useTile(E,y,x,a);n.updateCacheSize(g,a)},t}(Bd),Rx=Ix,Sx=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Px=function(r){Sx(t,r);function t(e){return r.call(this,e)||this}return t.prototype.createRenderer=function(){return new Rx(this)},t}(Cx),kx=Px,Ax=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Lx=function(r){Ax(t,r);function t(e){var n=this,o=e||{},i=o.imageSmoothing!==void 0?o.imageSmoothing:!0;o.interpolate!==void 0&&(i=o.interpolate);var a=o.params||{},s="TRANSPARENT"in a?a.TRANSPARENT:!0;return n=r.call(this,{attributions:o.attributions,attributionsCollapsible:o.attributionsCollapsible,cacheSize:o.cacheSize,crossOrigin:o.crossOrigin,interpolate:i,opaque:!s,projection:o.projection,reprojectionErrorThreshold:o.reprojectionErrorThreshold,tileClass:o.tileClass,tileGrid:o.tileGrid,tileLoadFunction:o.tileLoadFunction,url:o.url,urls:o.urls,wrapX:o.wrapX!==void 0?o.wrapX:!0,transition:o.transition,zDirection:o.zDirection})||this,n.gutter_=o.gutter!==void 0?o.gutter:0,n.params_=a,n.v13_=!0,n.serverType_=o.serverType,n.hidpi_=o.hidpi!==void 0?o.hidpi:!0,n.tmpExtent_=pt(),n.updateV13_(),n.setKey(n.getKeyForParams_()),n}return t.prototype.getFeatureInfoUrl=function(e,n,o,i){var a=Ge(o),s=this.getProjection(),f=this.getTileGrid();f||(f=this.getTileGridForProjection(a));var l=f.getZForResolution(n,this.zDirection),c=f.getTileCoordForCoordAndZ(e,l);if(!(f.getResolutions().length<=c[0])){var u=f.getResolution(c[0]),h=f.getTileCoordExtent(c,this.tmpExtent_),d=ht(f.getTileSize(c[0]),this.tmpSize),p=this.gutter_;p!==0&&(d=Ac(d,p,this.tmpSize),h=No(h,u*p,h)),s&&s!==a&&(u=Js(s,a,e,u),h=R_(h,a,s),e=Hf(e,a,s));var g={SERVICE:"WMS",VERSION:Oi,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Oe(g,this.params_,i);var m=Math.floor((e[0]-h[0])/u),v=Math.floor((h[3]-e[1])/u);return g[this.v13_?"I":"X"]=m,g[this.v13_?"J":"Y"]=v,this.getRequestUrl_(c,d,h,1,s||a,g)}},t.prototype.getLegendUrl=function(e,n){if(this.urls[0]!==void 0){var o={SERVICE:"WMS",VERSION:Oi,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(n===void 0||n.LAYER===void 0){var i=this.params_.LAYERS,a=!Array.isArray(i)||i.length===1;if(!a)return;o.LAYER=i}if(e!==void 0){var s=this.getProjection()?this.getProjection().getMetersPerUnit():1,f=28e-5;o.SCALE=e*s/f}return Oe(o,n),Zc(this.urls[0],o)}},t.prototype.getGutter=function(){return this.gutter_},t.prototype.getParams=function(){return this.params_},t.prototype.getRequestUrl_=function(e,n,o,i,a,s){var f=this.urls;if(!!f){if(s.WIDTH=n[0],s.HEIGHT=n[1],s[this.v13_?"CRS":"SRS"]=a.getCode(),"STYLES"in this.params_||(s.STYLES=""),i!=1)switch(this.serverType_){case Ii.GEOSERVER:var l=90*i+.5|0;"FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+=";dpi:"+l:s.FORMAT_OPTIONS="dpi:"+l;break;case Ii.MAPSERVER:s.MAP_RESOLUTION=90*i;break;case Ii.CARMENTA_SERVER:case Ii.QGIS:s.DPI=90*i;break;default:le(!1,52);break}var c=a.getAxisOrientation(),u=o;if(this.v13_&&c.substr(0,2)=="ne"){var h=void 0;h=o[0],u[0]=o[1],u[1]=h,h=o[2],u[2]=o[3],u[3]=h}s.BBOX=u.join(",");var d;if(f.length==1)d=f[0];else{var p=sr(tp(e),f.length);d=f[p]}return Zc(d,s)}},t.prototype.getTilePixelRatio=function(e){return!this.hidpi_||this.serverType_===void 0?1:e},t.prototype.getKeyForParams_=function(){var e=0,n=[];for(var o in this.params_)n[e++]=o+"-"+this.params_[o];return n.join("/")},t.prototype.updateParams=function(e){Oe(this.params_,e),this.updateV13_(),this.setKey(this.getKeyForParams_())},t.prototype.updateV13_=function(){var e=this.params_.VERSION||Oi;this.v13_=Cb(e,"1.3")>=0},t.prototype.tileUrlFunction=function(e,n,o){var i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(o)),!(i.getResolutions().length<=e[0])){n!=1&&(!this.hidpi_||this.serverType_===void 0)&&(n=1);var a=i.getResolution(e[0]),s=i.getTileCoordExtent(e,this.tmpExtent_),f=ht(i.getTileSize(e[0]),this.tmpSize),l=this.gutter_;l!==0&&(f=Ac(f,l,this.tmpSize),s=No(s,a*l,s)),n!=1&&(f=Cd(f,n,this.tmpSize));var c={SERVICE:"WMS",VERSION:Oi,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Oe(c,this.params_),this.getRequestUrl_(e,f,s,n,o,c)}},t}(lp),Mx=Lx;const cp=km({id:"map",state:()=>({map:void 0}),getters:{getMap:r=>r.map},actions:{setMap(r){this.map=r}}});var Fx=function(){function r(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return r.prototype.getReadOptions=function(t,e){var n;if(e){var o=e.dataProjection?Ge(e.dataProjection):this.readProjection(t);e.extent&&o&&o.getUnits()===an.TILE_PIXELS&&(o=Ge(o),o.setWorldExtent(e.extent)),n={dataProjection:o,featureProjection:e.featureProjection}}return this.adaptOptions(n)},r.prototype.adaptOptions=function(t){return Oe({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},r.prototype.getType=function(){return Z()},r.prototype.readFeature=function(t,e){return Z()},r.prototype.readFeatures=function(t,e){return Z()},r.prototype.readGeometry=function(t,e){return Z()},r.prototype.readProjection=function(t){return Z()},r.prototype.writeFeature=function(t,e){return Z()},r.prototype.writeFeatures=function(t,e){return Z()},r.prototype.writeGeometry=function(t,e){return Z()},r}();function up(r,t,e){var n=e?Ge(e.featureProjection):null,o=e?Ge(e.dataProjection):null,i;if(n&&o&&!Hn(n,o)?i=(t?r.clone():r).transform(t?n:o,t?o:n):i=r,t&&e&&e.decimals!==void 0){var a=Math.pow(10,e.decimals),s=function(f){for(var l=0,c=f.length;l<c;++l)f[l]=Math.round(f[l]*a)/a;return f};i===r&&(i=r.clone()),i.applyTransform(s)}return i}var Nx=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Dx=function(r){Nx(t,r);function t(e){var n=r.call(this)||this;return n.geometries_=e||null,n.changeEventsKeys_=[],n.listenGeometriesChange_(),n}return t.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(Te),this.changeEventsKeys_.length=0},t.prototype.listenGeometriesChange_=function(){if(!!this.geometries_)for(var e=0,n=this.geometries_.length;e<n;++e)this.changeEventsKeys_.push(he(this.geometries_[e],re.CHANGE,this.changed,this))},t.prototype.clone=function(){var e=new t(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e},t.prototype.closestPointXY=function(e,n,o,i){if(i<br(this.getExtent(),e,n))return i;for(var a=this.geometries_,s=0,f=a.length;s<f;++s)i=a[s].closestPointXY(e,n,o,i);return i},t.prototype.containsXY=function(e,n){for(var o=this.geometries_,i=0,a=o.length;i<a;++i)if(o[i].containsXY(e,n))return!0;return!1},t.prototype.computeExtent=function(e){Jo(e);for(var n=this.geometries_,o=0,i=n.length;o<i;++o)Xh(e,n[o].getExtent());return e},t.prototype.getGeometries=function(){return Jc(this.geometries_)},t.prototype.getGeometriesArray=function(){return this.geometries_},t.prototype.getGeometriesArrayRecursive=function(){for(var e=[],n=this.geometries_,o=0,i=n.length;o<i;++o)n[o].getType()===this.getType()?e=e.concat(n[o].getGeometriesArrayRecursive()):e.push(n[o]);return e},t.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var n=[],o=this.geometries_,i=!1,a=0,s=o.length;a<s;++a){var f=o[a],l=f.getSimplifiedGeometry(e);n.push(l),l!==f&&(i=!0)}if(i){var c=new t(null);return c.setGeometriesArray(n),c}else return this.simplifiedGeometryMaxMinSquaredTolerance=e,this},t.prototype.getType=function(){return R.GEOMETRY_COLLECTION},t.prototype.intersectsExtent=function(e){for(var n=this.geometries_,o=0,i=n.length;o<i;++o)if(n[o].intersectsExtent(e))return!0;return!1},t.prototype.isEmpty=function(){return this.geometries_.length===0},t.prototype.rotate=function(e,n){for(var o=this.geometries_,i=0,a=o.length;i<a;++i)o[i].rotate(e,n);this.changed()},t.prototype.scale=function(e,n,o){var i=o;i||(i=hr(this.getExtent()));for(var a=this.geometries_,s=0,f=a.length;s<f;++s)a[s].scale(e,n,i);this.changed()},t.prototype.setGeometries=function(e){this.setGeometriesArray(Jc(e))},t.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()},t.prototype.applyTransform=function(e){for(var n=this.geometries_,o=0,i=n.length;o<i;++o)n[o].applyTransform(e);this.changed()},t.prototype.translate=function(e,n){for(var o=this.geometries_,i=0,a=o.length;i<a;++i)o[i].translate(e,n);this.changed()},t.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),r.prototype.disposeInternal.call(this)},t}(pd);function Jc(r){for(var t=[],e=0,n=r.length;e<n;++e)t.push(r[e].clone());return t}var Gx=Dx,jx=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),zx=function(r){jx(t,r);function t(){return r.call(this)||this}return t.prototype.getType=function(){return Sr.JSON},t.prototype.readFeature=function(e,n){return this.readFeatureFromObject(Si(e),this.getReadOptions(e,n))},t.prototype.readFeatures=function(e,n){return this.readFeaturesFromObject(Si(e),this.getReadOptions(e,n))},t.prototype.readFeatureFromObject=function(e,n){return Z()},t.prototype.readFeaturesFromObject=function(e,n){return Z()},t.prototype.readGeometry=function(e,n){return this.readGeometryFromObject(Si(e),this.getReadOptions(e,n))},t.prototype.readGeometryFromObject=function(e,n){return Z()},t.prototype.readProjection=function(e){return this.readProjectionFromObject(Si(e))},t.prototype.readProjectionFromObject=function(e){return Z()},t.prototype.writeFeature=function(e,n){return JSON.stringify(this.writeFeatureObject(e,n))},t.prototype.writeFeatureObject=function(e,n){return Z()},t.prototype.writeFeatures=function(e,n){return JSON.stringify(this.writeFeaturesObject(e,n))},t.prototype.writeFeaturesObject=function(e,n){return Z()},t.prototype.writeGeometry=function(e,n){return JSON.stringify(this.writeGeometryObject(e,n))},t.prototype.writeGeometryObject=function(e,n){return Z()},t}(Fx);function Si(r){if(typeof r=="string"){var t=JSON.parse(r);return t||null}else return r!==null?r:null}var Yx=zx,Ux=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xx=function(r){Ux(t,r);function t(e){var n=this,o=e||{};return n=r.call(this)||this,n.dataProjection=Ge(o.dataProjection?o.dataProjection:"EPSG:4326"),o.featureProjection&&(n.defaultFeatureProjection=Ge(o.featureProjection)),n.geometryName_=o.geometryName,n.extractGeometryName_=o.extractGeometryName,n.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],n}return t.prototype.readFeatureFromObject=function(e,n){var o=null;e.type==="Feature"?o=e:o={type:"Feature",geometry:e,properties:null};var i=Qs(o.geometry,n),a=new Pr;return this.geometryName_?a.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in o!==void 0&&a.setGeometryName(o.geometry_name),a.setGeometry(i),"id"in o&&a.setId(o.id),o.properties&&a.setProperties(o.properties,!0),a},t.prototype.readFeaturesFromObject=function(e,n){var o=e,i=null;if(o.type==="FeatureCollection"){var a=e;i=[];for(var s=a.features,f=0,l=s.length;f<l;++f)i.push(this.readFeatureFromObject(s[f],n))}else i=[this.readFeatureFromObject(e,n)];return i},t.prototype.readGeometryFromObject=function(e,n){return Qs(e,n)},t.prototype.readProjectionFromObject=function(e){var n=e.crs,o;return n?n.type=="name"?o=Ge(n.properties.name):n.type==="EPSG"?o=Ge("EPSG:"+n.properties.code):le(!1,36):o=this.dataProjection,o},t.prototype.writeFeatureObject=function(e,n){n=this.adaptOptions(n);var o={type:"Feature",geometry:null,properties:null},i=e.getId();if(i!==void 0&&(o.id=i),!e.hasProperties())return o;var a=e.getProperties(),s=e.getGeometry();return s&&(o.geometry=ef(s,n),delete a[e.getGeometryName()]),Wr(a)||(o.properties=a),o},t.prototype.writeFeaturesObject=function(e,n){n=this.adaptOptions(n);for(var o=[],i=0,a=e.length;i<a;++i)o.push(this.writeFeatureObject(e[i],n));return{type:"FeatureCollection",features:o}},t.prototype.writeGeometryObject=function(e,n){return ef(e,this.adaptOptions(n))},t}(Yx);function Qs(r,t){if(!r)return null;var e;switch(r.type){case R.POINT:{e=Wx(r);break}case R.LINE_STRING:{e=$x(r);break}case R.POLYGON:{e=qx(r);break}case R.MULTI_POINT:{e=Hx(r);break}case R.MULTI_LINE_STRING:{e=Kx(r);break}case R.MULTI_POLYGON:{e=Vx(r);break}case R.GEOMETRY_COLLECTION:{e=Bx(r);break}default:throw new Error("Unsupported GeoJSON type: "+r.type)}return up(e,!1,t)}function Bx(r,t){var e=r.geometries.map(function(n){return Qs(n,t)});return new Gx(e)}function Wx(r){return new lr(r.coordinates)}function $x(r){return new Mn(r.coordinates)}function Kx(r){return new Gd(r.coordinates)}function Hx(r){return new ll(r.coordinates)}function Vx(r){return new jd(r.coordinates)}function qx(r){return new pr(r.coordinates)}function ef(r,t){r=up(r,!0,t);var e=r.getType(),n;switch(e){case R.POINT:{n=nE(r);break}case R.LINE_STRING:{n=Jx(r);break}case R.POLYGON:{n=rE(r,t);break}case R.MULTI_POINT:{n=eE(r);break}case R.MULTI_LINE_STRING:{n=Qx(r);break}case R.MULTI_POLYGON:{n=tE(r,t);break}case R.GEOMETRY_COLLECTION:{n=Zx(r,t);break}case R.CIRCLE:{n={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+e)}return n}function Zx(r,t){var e=r.getGeometriesArray().map(function(n){var o=Oe({},t);return delete o.featureProjection,ef(n,o)});return{type:"GeometryCollection",geometries:e}}function Jx(r,t){return{type:"LineString",coordinates:r.getCoordinates()}}function Qx(r,t){return{type:"MultiLineString",coordinates:r.getCoordinates()}}function eE(r,t){return{type:"MultiPoint",coordinates:r.getCoordinates()}}function tE(r,t){var e;return t&&(e=t.rightHanded),{type:"MultiPolygon",coordinates:r.getCoordinates(e)}}function nE(r,t){return{type:"Point",coordinates:r.getCoordinates()}}function rE(r,t){var e;return t&&(e=t.rightHanded),{type:"Polygon",coordinates:r.getCoordinates(e)}}var Qc=Xx;class eu extends kx{constructor(t){let e=so({name:String},t);super(e)}}class tf extends Kd{constructor(t){let e=so({name:String},t);super(e)}}class oE extends $o{constructor(e){const n=e||{},o=document.createElement("button"),i=document.createElement("button");o.className="fa-solid fa-ruler",i.className="fa-solid fa-draw-polygon",o.setAttribute("type","LineString"),i.setAttribute("type","Polygon"),i.getAttribute("type");const a=document.createElement("div");a.className="ol-measurement ol-unselectable ol-control",a.appendChild(o),a.appendChild(i);super({element:a,target:n.target});Mt(this,"sketch");Mt(this,"helpTooltipElement");Mt(this,"helpTooltip");Mt(this,"measureTooltipElement");Mt(this,"measureTooltip");Mt(this,"continuePolygonMsg","Click to continue drawing the polygon");Mt(this,"continueLineMsg","Click to continue drawing the line");Mt(this,"source",new na);Mt(this,"pointerMoveHandler",this.pointerMoveHandlerLocal.bind(this));this.setProperties({lineInteraction:this.getInteraction("LineString"),polygonInteraction:this.getInteraction("Polygon"),active:!1,type:"toggle",drawType:"LineString",destroyFunction:function(s){s.element===this&&(this.removeInteraction(this.get("lineInteraction")),this.removeInteraction(this.get("polygonInteraction")))}}),o.addEventListener("click",this.handleMeasurement.bind(this)),i.addEventListener("click",this.handleMeasurement.bind(this)),this.on("propertychange",this.onPropertyChange.bind(this))}handleMeasurement(e){e.stopPropagation(),this.set("drawType",e.target.getAttribute("type")),e.target.dataset.active=="true"?this.set("active",!1):this.set("active",!0);for(let n=0;n<this.element.children.length;n++)this.element.children[n].classList.remove("active");this.get("active")?(e.target.dataset.active=!0,e.target.classList.add("active")):(e.target.dataset.active=!1,e.target.classList.remove("active"))}onPropertyChange(e){var n,o;this.get("drawType")==="LineString"?(this.get("lineInteraction").setActive(this.get("active")),this.get("polygonInteraction").setActive(!1)):(this.get("lineInteraction").setActive(!1),this.get("polygonInteraction").setActive(this.get("active"))),this.get("active")?(this.element.classList.add("active"),(n=this.getMap())==null||n.getControls().forEach(i=>{i.get("type")==="toggle"&&i!==this&&i.set("active",!1)})):(this.element.classList.remove("active"),this.source.clear(),(o=this.getMap())==null||o.removeOverlay(this.measureTooltip))}getInteraction(e){let n;n=new Cw({source:this.source,type:e,style:new Vs({fill:new nn({color:"rgba(255, 255, 255, 0.2)"}),stroke:new sn({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new Ko({radius:5,stroke:new sn({color:"rgba(0, 0, 0, 0.7)"}),fill:new nn({color:"rgba(255, 255, 255, 0.2)"})})})}),this.createMeasureTooltip(),this.createHelpTooltip();let o,i=this;return n.on("drawstart",function(a){var f;i.sketch=a.feature;let s=a.coordinate;i.source.clear(),(f=i.getMap())==null||f.removeOverlay(i.measureTooltip),i.createMeasureTooltip(),o=i.sketch.getGeometry().on("change",function(l){const c=l.target;let u;c instanceof pr?(u=i.formatArea(c),s=c.getInteriorPoint().getCoordinates()):c instanceof Mn&&(u=i.formatLength(c),s=c.getLastCoordinate()),i.measureTooltipElement.innerHTML=u,i.measureTooltip.setPosition(s)})}),n.on("drawend",function(){i.measureTooltipElement.className="ol-tooltip ol-tooltip-static",i.measureTooltip.setOffset([0,-7]),i.sketch=null,i.measureTooltipElement=null,Fs(o)}),n}formatLength(e){const n=sd(e);let o;return n>100?o=Math.round(n/1e3*100)/100+" km":o=Math.round(n*100)/100+" m",o}formatArea(e){const n=fd(e);let o;return n>1e4?o=Math.round(n/1e6*100)/100+" km<sup>2</sup>":o=Math.round(n*100)/100+" m<sup>2</sup>",o}createHelpTooltip(){var e;this.helpTooltipElement&&this.helpTooltipElement.parentNode.removeChild(this.helpTooltipElement),this.helpTooltipElement=document.createElement("div"),this.helpTooltipElement.className="ol-tooltip hidden",this.helpTooltip=new Ws({element:this.helpTooltipElement,offset:[15,0],positioning:"center-left"}),(e=this.getMap())==null||e.addOverlay(this.helpTooltip)}createMeasureTooltip(){var e;this.measureTooltipElement&&this.measureTooltipElement.parentNode.removeChild(this.measureTooltipElement),this.measureTooltipElement=document.createElement("div"),this.measureTooltipElement.className="ol-tooltip ol-tooltip-measure",this.measureTooltip=new Ws({element:this.measureTooltipElement,offset:[0,-15],positioning:"bottom-center",stopEvent:!1,insertFirst:!1}),(e=this.getMap())==null||e.addOverlay(this.measureTooltip)}pointerMoveHandlerLocal(e){if(e.dragging)return;let n="Click to start drawing";if(this.sketch){const o=this.sketch.getGeometry();o instanceof pr?n=this.continuePolygonMsg:o instanceof Mn&&(n=this.continueLineMsg)}this.helpTooltipElement.innerHTML=n,this.helpTooltip.setPosition(e.coordinate),this.helpTooltipElement.classList.remove("hidden")}setMap(e){$o.prototype.setMap.call(this,e),new tf({source:this.source,style:new Vs({fill:new nn({color:"rgba(255, 255, 255, 0.2)"}),stroke:new sn({color:"#ffcc33",width:2}),image:new Ko({radius:7,fill:new nn({color:"#ffcc33"})})})}).setMap(e);let o=this.get("lineInteraction"),i=this.get("polygonInteraction");e===null?Fs(this.get("eventId")):e.getInteractions().getArray().indexOf(o)===-1&&(e.addInteraction(o),e.addInteraction(i),o.setActive(!1),i.setActive(!1),this.set("eventId",e.getControls().on("remove",this.get("destroyFunction"),e)))}}var La=(r,t)=>{const e=r.__vccOpts||r;for(const[n,o]of t)e[n]=o;return e};const iE=Vo({name:"MapApp",data(){return{layerList:[{name:"DTK Skaermkort",id:"dtk_skaermkort"},{name:"DTK Skaermkort Daempet",id:"dtk_skaermkort_daempet"},{name:"DTK Skaermkort Daempet 1548",id:"dtk_skaermkort_daempet_1548_print"},{name:"DTK Skaermkort Graa",id:"dtk_skaermkort_graa"},{name:"DTK Skaermkort Graa 1548",id:"dtk_skaermkort_graa_1548_print"},{name:"DTK Skaermkort Graa 774",id:"dtk_skaermkort_graa_774_print"}],props:[],notIn:["fid","geometry"],overlay:new Ws({}),styleColor:{mainColor:{fill:"rgba(169,203,239,0.93)",stroke:"rgba(164,75,222,0.5)",image:{fill:"rgba(63,205,116,0.7)",stroke:"rgba(3,116,47,0.7)"}},hltColor:{fill:"rgba(236,42,115,0.93)",stroke:"rgba(213,9,70,0.5)",image:{fill:"rgba(236,42,115,0.93)",stroke:"rgba(213,9,70,0.5)"}}}}},computed:so({},Lm(cp)),methods:{getTileLayers(){return this.layerList.map(r=>new eu({name:r.name||r.id,visible:!1,source:new Mx({url:"https://services.datafordeler.dk/Dkskaermkort/topo_skaermkort/1.0.0/wms?username=GCXPTROVSJ&password=f8B9qGYExV!iuxJ",params:{LAYERS:r.id,TILED:"TRUE",TRANSPARENT:"TRUE"},crossOrigin:"anonymous",serverType:"geoserver"})}))},closePopup(){return this.overlay.setPosition(void 0),!1},getStyle(r="mainColor"){const e=this.styleColor;return new Vs({fill:new nn({color:e[r].fill}),stroke:new sn({color:e[r].stroke,width:3}),image:new Ko({radius:8,stroke:new sn({color:e[r].image.stroke,width:3}),fill:new nn({color:e[r].image.stroke})})})}},mounted(){const r=this;this.overlay.setElement(document.getElementById("popup"));const t=new oE({}),e=new Sw({controls:Rd().extend([t]),layers:[new eu({name:"OSM",source:new xx}),...this.getTileLayers(),new tf({name:"Line",source:new na({format:new Qc,url:function(a){return"https://geoserver.qler.dk/geoserver/qler/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=qler:ledninger&outputFormat=application/json&srsname=EPSG:3857&bbox="+a.join(",")+",EPSG:3857"},strategy:$c}),style:function(a){return r.getStyle()}}),new tf({name:"Point",source:new na({format:new Qc,url:function(a){return"https://geoserver.qler.dk/geoserver/qler/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=qler:brandhaner&maxFeatures=50&outputFormat=application/json&srsname=EPSG:3857&bbox="+a.join(",")+",EPSG:3857"},strategy:$c}),style:function(a){return r.getStyle()}})],target:"map",view:new In({center:I_([9.789641898736475,56.388292418035235]),zoom:13}),overlays:[this.overlay]});this.overlay.setPosition(void 0),this.mapStore.setMap(e);let n=null;const i=(a=>{const s=e.getFeaturesAtPixel(a.pixel);if(n&&n.setStyle(this.getStyle()),r.props=[],r.overlay.setPosition(void 0),s.length==0)return;n=s[0];const f=a.coordinate,l=n.getProperties();n.setStyle(this.getStyle("hltColor"));for(let c in l)!r.notIn.includes(c)&&l[c]&&r.props.push({head:c,body:l[c]});r.overlay.setPosition(f)}).bind(this);e.on("pointermove",i),t.on("propertychange",a=>{a.target.get("active")?e.un("pointermove",i):e.on("pointermove",i)})}}),hp=r=>(ih("data-v-7a8dfaa2"),r=r(),ah(),r),aE=hp(()=>bt("div",{class:"map",id:"map"},null,-1)),sE={id:"popup",class:"ol-popup bg-white p-2 rounded"},fE={class:"flex justify-between"},lE=hp(()=>bt("div",{class:"bg-green-100 flex-1 px-2 rounded"},"Properties",-1)),cE={id:"popup-content",class:"table-auto"},uE={class:"odd:bg-gray-200 hover:bg-green-100"},hE={class:"pr-2"};function dE(r,t,e,n,o,i){const a=Ev("make-title");return Ct(),tn(it,null,[aE,bt("div",sE,[bt("div",fE,[lE,bt("div",{onClick:t[0]||(t[0]=(...s)=>r.closePopup&&r.closePopup(...s)),id:"popup-closer",class:"ol-popup-closer px-2 py-1 bg-green-400 rounded hover:bg-green-200 cursor-pointer"},"X ")]),bt("table",cE,[(Ct(!0),tn(it,null,ph(r.props,s=>(Ct(),tn("tr",uE,[Xl((Ct(),tn("td",hE,[Xi(gs(s.head),1)])),[[a]]),Xl((Ct(),tn("td",null,[Xi(gs(s.body),1)])),[[a]])]))),256))])])],64)}var pE=La(iE,[["render",dE],["__scopeId","data-v-7a8dfaa2"]]);const gE={name:"LayerItem",props:{layer:null},data(){return{}},methods:{onInput(r){this.layer.setVisible(r.target.checked)}}},vE=["checked"],mE={class:"text-ellipsis overflow-hidden"};function bE(r,t,e,n,o,i){return Ct(),tn("div",null,[bt("input",{onInput:t[0]||(t[0]=(...a)=>i.onInput&&i.onInput(...a)),checked:e.layer.getVisible(),type:"checkbox",class:"mr-1"},null,40,vE),bt("label",mE,[Tv(r.$slots,"default")])])}var _E=La(gE,[["render",bE]]);const yE={name:"Layers",components:{LayerItem:_E},data(){return{layerList:[]}},computed:so({},Mm(cp,["map"])),methods:{onChangeVisibility(r,t){console.log(r)}},watch:{map(r){let t=[];r.getLayers().forEach(e=>{t.push({name:e.get("name"),layer:e})}),this.layerList=t.reverse()}},mounted(){}},wE=r=>(ih("data-v-93e38f10"),r=r(),ah(),r),xE={class:"layer-container bg-slate-100 flex flex-col"},EE=wE(()=>bt("div",{class:"text-3xl px-2 py-3 bg-green-100 border-solid border-2 border-green-200"},"Layers",-1)),TE={class:"pt-2 flex-1 pl-2"};function CE(r,t,e,n,o,i){const a=wv("LayerItem");return Ct(),tn("div",xE,[EE,bt("div",TE,[(Ct(!0),tn(it,null,ph(o.layerList,s=>(Ct(),Oh(a,{layer:s.layer},{default:sh(()=>[Xi(gs(s.name),1)]),_:2},1032,["layer"]))),256))])])}var OE=La(yE,[["render",CE],["__scopeId","data-v-93e38f10"]]);const IE={class:"content"},RE=Vo({__name:"App",setup(r){return(t,e)=>(Ct(),tn("div",IE,[Qe(OE),Qe(pE)]))}});var SE=La(RE,[["__scopeId","data-v-ee193ef2"]]);var PE={mounted:r=>{let t=r.innerText;t=t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),r.innerText=t}};/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */function tu(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),e.push.apply(e,n)}return e}function Y(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?tu(Object(e),!0).forEach(function(n){LE(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):tu(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function ra(r){return ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ra(r)}function kE(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function nu(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function AE(r,t,e){return t&&nu(r.prototype,t),e&&nu(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function LE(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function hl(r,t){return FE(r)||DE(r,t)||dp(r,t)||jE()}function Ma(r){return ME(r)||NE(r)||dp(r)||GE()}function ME(r){if(Array.isArray(r))return nf(r)}function FE(r){if(Array.isArray(r))return r}function NE(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function DE(r,t){var e=r==null?null:typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var n=[],o=!0,i=!1,a,s;try{for(e=e.call(r);!(o=(a=e.next()).done)&&(n.push(a.value),!(t&&n.length===t));o=!0);}catch(f){i=!0,s=f}finally{try{!o&&e.return!=null&&e.return()}finally{if(i)throw s}}return n}}function dp(r,t){if(!!r){if(typeof r=="string")return nf(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return nf(r,t)}}function nf(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function GE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ru=function(){},dl={},pp={},gp=null,vp={mark:ru,measure:ru};try{typeof window!="undefined"&&(dl=window),typeof document!="undefined"&&(pp=document),typeof MutationObserver!="undefined"&&(gp=MutationObserver),typeof performance!="undefined"&&(vp=performance)}catch{}var zE=dl.navigator||{},ou=zE.userAgent,iu=ou===void 0?"":ou,Dn=dl,Ce=pp,au=gp,Pi=vp;Dn.document;var pn=!!Ce.documentElement&&!!Ce.head&&typeof Ce.addEventListener=="function"&&typeof Ce.createElement=="function",mp=~iu.indexOf("MSIE")||~iu.indexOf("Trident/"),cn="___FONT_AWESOME___",rf=16,bp="fa",_p="svg-inline--fa",gr="data-fa-i2svg",of="data-fa-pseudo-element",YE="data-fa-pseudo-element-pending",pl="data-prefix",gl="data-icon",su="fontawesome-i2svg",UE="async",XE=["HTML","HEAD","STYLE","SCRIPT"],yp=function(){try{return!0}catch{return!1}}(),vl={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},oa={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},wp={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},BE={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},WE=/fa[srltdbk\-\ ]/,xp="fa-layers-text",$E=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,KE={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},Ep=[1,2,3,4,5,6,7,8,9,10],HE=Ep.concat([11,12,13,14,15,16,17,18,19,20]),VE=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],tr={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},qE=[].concat(Ma(Object.keys(oa)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",tr.GROUP,tr.SWAP_OPACITY,tr.PRIMARY,tr.SECONDARY]).concat(Ep.map(function(r){return"".concat(r,"x")})).concat(HE.map(function(r){return"w-".concat(r)})),Tp=Dn.FontAwesomeConfig||{};function ZE(r){var t=Ce.querySelector("script["+r+"]");if(t)return t.getAttribute(r)}function JE(r){return r===""?!0:r==="false"?!1:r==="true"?!0:r}if(Ce&&typeof Ce.querySelector=="function"){var QE=[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];QE.forEach(function(r){var t=hl(r,2),e=t[0],n=t[1],o=JE(ZE(e));o!=null&&(Tp[n]=o)})}var eT={familyPrefix:bp,styleDefault:"solid",replacementClass:_p,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},Io=Y(Y({},eT),Tp);Io.autoReplaceSvg||(Io.observeMutations=!1);var q={};Object.keys(Io).forEach(function(r){Object.defineProperty(q,r,{enumerable:!0,set:function(e){Io[r]=e,Mi.forEach(function(n){return n(q)})},get:function(){return Io[r]}})});Dn.FontAwesomeConfig=q;var Mi=[];function tT(r){return Mi.push(r),function(){Mi.splice(Mi.indexOf(r),1)}}var xn=rf,zt={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function nT(r){if(!(!r||!pn)){var t=Ce.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=r;for(var e=Ce.head.childNodes,n=null,o=e.length-1;o>-1;o--){var i=e[o],a=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(n=i)}return Ce.head.insertBefore(t,n),r}}var rT="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ho(){for(var r=12,t="";r-- >0;)t+=rT[Math.random()*62|0];return t}function eo(r){for(var t=[],e=(r||[]).length>>>0;e--;)t[e]=r[e];return t}function ml(r){return r.classList?eo(r.classList):(r.getAttribute("class")||"").split(" ").filter(function(t){return t})}function Cp(r){return"".concat(r).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function oT(r){return Object.keys(r||{}).reduce(function(t,e){return t+"".concat(e,'="').concat(Cp(r[e]),'" ')},"").trim()}function Fa(r){return Object.keys(r||{}).reduce(function(t,e){return t+"".concat(e,": ").concat(r[e].trim(),";")},"")}function bl(r){return r.size!==zt.size||r.x!==zt.x||r.y!==zt.y||r.rotate!==zt.rotate||r.flipX||r.flipY}function iT(r){var t=r.transform,e=r.containerWidth,n=r.iconWidth,o={transform:"translate(".concat(e/2," 256)")},i="translate(".concat(t.x*32,", ").concat(t.y*32,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)"),f={transform:"".concat(i," ").concat(a," ").concat(s)},l={transform:"translate(".concat(n/2*-1," -256)")};return{outer:o,inner:f,path:l}}function aT(r){var t=r.transform,e=r.width,n=e===void 0?rf:e,o=r.height,i=o===void 0?rf:o,a=r.startCentered,s=a===void 0?!1:a,f="";return s&&mp?f+="translate(".concat(t.x/xn-n/2,"em, ").concat(t.y/xn-i/2,"em) "):s?f+="translate(calc(-50% + ".concat(t.x/xn,"em), calc(-50% + ").concat(t.y/xn,"em)) "):f+="translate(".concat(t.x/xn,"em, ").concat(t.y/xn,"em) "),f+="scale(".concat(t.size/xn*(t.flipX?-1:1),", ").concat(t.size/xn*(t.flipY?-1:1),") "),f+="rotate(".concat(t.rotate,"deg) "),f}var sT=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function Op(){var r=bp,t=_p,e=q.familyPrefix,n=q.replacementClass,o=sT;if(e!==r||n!==t){var i=new RegExp("\\.".concat(r,"\\-"),"g"),a=new RegExp("\\--".concat(r,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");o=o.replace(i,".".concat(e,"-")).replace(a,"--".concat(e,"-")).replace(s,".".concat(n))}return o}var fu=!1;function us(){q.autoAddCss&&!fu&&(nT(Op()),fu=!0)}var fT={mixout:function(){return{dom:{css:Op,insertCss:us}}},hooks:function(){return{beforeDOMElementCreation:function(){us()},beforeI2svg:function(){us()}}}},un=Dn||{};un[cn]||(un[cn]={});un[cn].styles||(un[cn].styles={});un[cn].hooks||(un[cn].hooks={});un[cn].shims||(un[cn].shims=[]);var Rt=un[cn],Ip=[],lT=function r(){Ce.removeEventListener("DOMContentLoaded",r),ia=1,Ip.map(function(t){return t()})},ia=!1;pn&&(ia=(Ce.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ce.readyState),ia||Ce.addEventListener("DOMContentLoaded",lT));function cT(r){!pn||(ia?setTimeout(r,0):Ip.push(r))}function ii(r){var t=r.tag,e=r.attributes,n=e===void 0?{}:e,o=r.children,i=o===void 0?[]:o;return typeof r=="string"?Cp(r):"<".concat(t," ").concat(oT(n),">").concat(i.map(ii).join(""),"</").concat(t,">")}function lu(r,t,e){if(r&&r[t]&&r[t][e])return{prefix:t,iconName:e,icon:r[t][e]}}var uT=function(t,e){return function(n,o,i,a){return t.call(e,n,o,i,a)}},hs=function(t,e,n,o){var i=Object.keys(t),a=i.length,s=o!==void 0?uT(e,o):e,f,l,c;for(n===void 0?(f=1,c=t[i[0]]):(f=0,c=n);f<a;f++)l=i[f],c=s(c,t[l],l,t);return c};function hT(r){for(var t=[],e=0,n=r.length;e<n;){var o=r.charCodeAt(e++);if(o>=55296&&o<=56319&&e<n){var i=r.charCodeAt(e++);(i&64512)==56320?t.push(((o&1023)<<10)+(i&1023)+65536):(t.push(o),e--)}else t.push(o)}return t}function af(r){var t=hT(r);return t.length===1?t[0].toString(16):null}function dT(r,t){var e=r.length,n=r.charCodeAt(t),o;return n>=55296&&n<=56319&&e>t+1&&(o=r.charCodeAt(t+1),o>=56320&&o<=57343)?(n-55296)*1024+o-56320+65536:n}function cu(r){return Object.keys(r).reduce(function(t,e){var n=r[e],o=!!n.icon;return o?t[n.iconName]=n.icon:t[e]=n,t},{})}function sf(r,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=e.skipHooks,o=n===void 0?!1:n,i=cu(t);typeof Rt.hooks.addPack=="function"&&!o?Rt.hooks.addPack(r,cu(t)):Rt.styles[r]=Y(Y({},Rt.styles[r]||{}),i),r==="fas"&&sf("fa",t)}var Ro=Rt.styles,pT=Rt.shims,gT=Object.values(wp),_l=null,Rp={},Sp={},Pp={},kp={},Ap={},vT=Object.keys(vl);function mT(r){return~qE.indexOf(r)}function bT(r,t){var e=t.split("-"),n=e[0],o=e.slice(1).join("-");return n===r&&o!==""&&!mT(o)?o:null}var Lp=function(){var t=function(i){return hs(Ro,function(a,s,f){return a[f]=hs(s,i,{}),a},{})};Rp=t(function(o,i,a){if(i[3]&&(o[i[3]]=a),i[2]){var s=i[2].filter(function(f){return typeof f=="number"});s.forEach(function(f){o[f.toString(16)]=a})}return o}),Sp=t(function(o,i,a){if(o[a]=a,i[2]){var s=i[2].filter(function(f){return typeof f=="string"});s.forEach(function(f){o[f]=a})}return o}),Ap=t(function(o,i,a){var s=i[2];return o[a]=a,s.forEach(function(f){o[f]=a}),o});var e="far"in Ro||q.autoFetchSvg,n=hs(pT,function(o,i){var a=i[0],s=i[1],f=i[2];return s==="far"&&!e&&(s="fas"),typeof a=="string"&&(o.names[a]={prefix:s,iconName:f}),typeof a=="number"&&(o.unicodes[a.toString(16)]={prefix:s,iconName:f}),o},{names:{},unicodes:{}});Pp=n.names,kp=n.unicodes,_l=Na(q.styleDefault)};tT(function(r){_l=Na(r.styleDefault)});Lp();function yl(r,t){return(Rp[r]||{})[t]}function _T(r,t){return(Sp[r]||{})[t]}function Mr(r,t){return(Ap[r]||{})[t]}function Mp(r){return Pp[r]||{prefix:null,iconName:null}}function yT(r){var t=kp[r],e=yl("fas",r);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}function Gn(){return _l}var wl=function(){return{prefix:null,iconName:null,rest:[]}};function Na(r){var t=vl[r],e=oa[r]||oa[t],n=r in Rt.styles?r:null;return e||n||null}function Da(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.skipLookups,n=e===void 0?!1:e,o=null,i=r.reduce(function(a,s){var f=bT(q.familyPrefix,s);if(Ro[s]?(s=gT.includes(s)?BE[s]:s,o=s,a.prefix=s):vT.indexOf(s)>-1?(o=s,a.prefix=Na(s)):f?a.iconName=f:s!==q.replacementClass&&a.rest.push(s),!n&&a.prefix&&a.iconName){var l=o==="fa"?Mp(a.iconName):{},c=Mr(a.prefix,a.iconName);l.prefix&&(o=null),a.iconName=l.iconName||c||a.iconName,a.prefix=l.prefix||a.prefix,a.prefix==="far"&&!Ro.far&&Ro.fas&&!q.autoFetchSvg&&(a.prefix="fas")}return a},wl());return(i.prefix==="fa"||o==="fa")&&(i.prefix=Gn()||"fas"),i}var wT=function(){function r(){kE(this,r),this.definitions={}}return AE(r,[{key:"add",value:function(){for(var e=this,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];var a=o.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(s){e.definitions[s]=Y(Y({},e.definitions[s]||{}),a[s]),sf(s,a[s]);var f=wp[s];f&&sf(f,a[s]),Lp()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,n){var o=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(o).map(function(i){var a=o[i],s=a.prefix,f=a.iconName,l=a.icon,c=l[2];e[s]||(e[s]={}),c.length>0&&c.forEach(function(u){typeof u=="string"&&(e[s][u]=l)}),e[s][f]=l}),e}}]),r}(),uu=[],Fr={},jr={},xT=Object.keys(jr);function ET(r,t){var e=t.mixoutsTo;return uu=r,Fr={},Object.keys(jr).forEach(function(n){xT.indexOf(n)===-1&&delete jr[n]}),uu.forEach(function(n){var o=n.mixout?n.mixout():{};if(Object.keys(o).forEach(function(a){typeof o[a]=="function"&&(e[a]=o[a]),ra(o[a])==="object"&&Object.keys(o[a]).forEach(function(s){e[a]||(e[a]={}),e[a][s]=o[a][s]})}),n.hooks){var i=n.hooks();Object.keys(i).forEach(function(a){Fr[a]||(Fr[a]=[]),Fr[a].push(i[a])})}n.provides&&n.provides(jr)}),e}function ff(r,t){for(var e=arguments.length,n=new Array(e>2?e-2:0),o=2;o<e;o++)n[o-2]=arguments[o];var i=Fr[r]||[];return i.forEach(function(a){t=a.apply(null,[t].concat(n))}),t}function vr(r){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var o=Fr[r]||[];o.forEach(function(i){i.apply(null,e)})}function hn(){var r=arguments[0],t=Array.prototype.slice.call(arguments,1);return jr[r]?jr[r].apply(null,t):void 0}function lf(r){r.prefix==="fa"&&(r.prefix="fas");var t=r.iconName,e=r.prefix||Gn();if(!!t)return t=Mr(e,t)||t,lu(Fp.definitions,e,t)||lu(Rt.styles,e,t)}var Fp=new wT,TT=function(){q.autoReplaceSvg=!1,q.observeMutations=!1,vr("noAuto")},CT={i2svg:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return pn?(vr("beforeI2svg",t),hn("pseudoElements2svg",t),hn("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.autoReplaceSvgRoot;q.autoReplaceSvg===!1&&(q.autoReplaceSvg=!0),q.observeMutations=!0,cT(function(){IT({autoReplaceSvgRoot:e}),vr("watch",t)})}},OT={icon:function(t){if(t===null)return null;if(ra(t)==="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:Mr(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){var e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=Na(t[0]);return{prefix:n,iconName:Mr(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(q.familyPrefix,"-"))>-1||t.match(WE))){var o=Da(t.split(" "),{skipLookups:!0});return{prefix:o.prefix||Gn(),iconName:Mr(o.prefix,o.iconName)||o.iconName}}if(typeof t=="string"){var i=Gn();return{prefix:i,iconName:Mr(i,t)||t}}}},gt={noAuto:TT,config:q,dom:CT,parse:OT,library:Fp,findIconDefinition:lf,toHtml:ii},IT=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.autoReplaceSvgRoot,n=e===void 0?Ce:e;(Object.keys(Rt.styles).length>0||q.autoFetchSvg)&&pn&&q.autoReplaceSvg&&gt.dom.i2svg({node:n})};function Ga(r,t){return Object.defineProperty(r,"abstract",{get:t}),Object.defineProperty(r,"html",{get:function(){return r.abstract.map(function(n){return ii(n)})}}),Object.defineProperty(r,"node",{get:function(){if(!!pn){var n=Ce.createElement("div");return n.innerHTML=r.html,n.children}}}),r}function RT(r){var t=r.children,e=r.main,n=r.mask,o=r.attributes,i=r.styles,a=r.transform;if(bl(a)&&e.found&&!n.found){var s=e.width,f=e.height,l={x:s/f/2,y:.5};o.style=Fa(Y(Y({},i),{},{"transform-origin":"".concat(l.x+a.x/16,"em ").concat(l.y+a.y/16,"em")}))}return[{tag:"svg",attributes:o,children:t}]}function ST(r){var t=r.prefix,e=r.iconName,n=r.children,o=r.attributes,i=r.symbol,a=i===!0?"".concat(t,"-").concat(q.familyPrefix,"-").concat(e):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Y(Y({},o),{},{id:a}),children:n}]}]}function xl(r){var t=r.icons,e=t.main,n=t.mask,o=r.prefix,i=r.iconName,a=r.transform,s=r.symbol,f=r.title,l=r.maskId,c=r.titleId,u=r.extra,h=r.watchable,d=h===void 0?!1:h,p=n.found?n:e,g=p.width,m=p.height,v=o==="fak",_=[q.replacementClass,i?"".concat(q.familyPrefix,"-").concat(i):""].filter(function(M){return u.classes.indexOf(M)===-1}).filter(function(M){return M!==""||!!M}).concat(u.classes).join(" "),y={children:[],attributes:Y(Y({},u.attributes),{},{"data-prefix":o,"data-icon":i,class:_,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(m)})},x=v&&!~u.classes.indexOf("fa-fw")?{width:"".concat(g/m*16*.0625,"em")}:{};d&&(y.attributes[gr]=""),f&&(y.children.push({tag:"title",attributes:{id:y.attributes["aria-labelledby"]||"title-".concat(c||Ho())},children:[f]}),delete y.attributes.title);var E=Y(Y({},y),{},{prefix:o,iconName:i,main:e,mask:n,maskId:l,transform:a,symbol:s,styles:Y(Y({},x),u.styles)}),P=n.found&&e.found?hn("generateAbstractMask",E)||{children:[],attributes:{}}:hn("generateAbstractIcon",E)||{children:[],attributes:{}},C=P.children,O=P.attributes;return E.children=C,E.attributes=O,s?ST(E):RT(E)}function hu(r){var t=r.content,e=r.width,n=r.height,o=r.transform,i=r.title,a=r.extra,s=r.watchable,f=s===void 0?!1:s,l=Y(Y(Y({},a.attributes),i?{title:i}:{}),{},{class:a.classes.join(" ")});f&&(l[gr]="");var c=Y({},a.styles);bl(o)&&(c.transform=aT({transform:o,startCentered:!0,width:e,height:n}),c["-webkit-transform"]=c.transform);var u=Fa(c);u.length>0&&(l.style=u);var h=[];return h.push({tag:"span",attributes:l,children:[t]}),i&&h.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),h}function PT(r){var t=r.content,e=r.title,n=r.extra,o=Y(Y(Y({},n.attributes),e?{title:e}:{}),{},{class:n.classes.join(" ")}),i=Fa(n.styles);i.length>0&&(o.style=i);var a=[];return a.push({tag:"span",attributes:o,children:[t]}),e&&a.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),a}var ds=Rt.styles;function cf(r){var t=r[0],e=r[1],n=r.slice(4),o=hl(n,1),i=o[0],a=null;return Array.isArray(i)?a={tag:"g",attributes:{class:"".concat(q.familyPrefix,"-").concat(tr.GROUP)},children:[{tag:"path",attributes:{class:"".concat(q.familyPrefix,"-").concat(tr.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(q.familyPrefix,"-").concat(tr.PRIMARY),fill:"currentColor",d:i[1]}}]}:a={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:t,height:e,icon:a}}var kT={found:!1,width:512,height:512};function AT(r,t){!yp&&!q.showMissingIcons&&r&&console.error('Icon with name "'.concat(r,'" and prefix "').concat(t,'" is missing.'))}function uf(r,t){var e=t;return t==="fa"&&q.styleDefault!==null&&(t=Gn()),new Promise(function(n,o){if(hn("missingIconAbstract"),e==="fa"){var i=Mp(r)||{};r=i.iconName||r,t=i.prefix||t}if(r&&t&&ds[t]&&ds[t][r]){var a=ds[t][r];return n(cf(a))}AT(r,t),n(Y(Y({},kT),{},{icon:q.showMissingIcons&&r?hn("missingIconAbstract")||{}:{}}))})}var du=function(){},hf=q.measurePerformance&&Pi&&Pi.mark&&Pi.measure?Pi:{mark:du,measure:du},bo='FA "6.1.1"',LT=function(t){return hf.mark("".concat(bo," ").concat(t," begins")),function(){return Np(t)}},Np=function(t){hf.mark("".concat(bo," ").concat(t," ends")),hf.measure("".concat(bo," ").concat(t),"".concat(bo," ").concat(t," begins"),"".concat(bo," ").concat(t," ends"))},El={begin:LT,end:Np},Fi=function(){};function pu(r){var t=r.getAttribute?r.getAttribute(gr):null;return typeof t=="string"}function MT(r){var t=r.getAttribute?r.getAttribute(pl):null,e=r.getAttribute?r.getAttribute(gl):null;return t&&e}function FT(r){return r&&r.classList&&r.classList.contains&&r.classList.contains(q.replacementClass)}function NT(){if(q.autoReplaceSvg===!0)return Ni.replace;var r=Ni[q.autoReplaceSvg];return r||Ni.replace}function DT(r){return Ce.createElementNS("http://www.w3.org/2000/svg",r)}function GT(r){return Ce.createElement(r)}function Dp(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.ceFn,n=e===void 0?r.tag==="svg"?DT:GT:e;if(typeof r=="string")return Ce.createTextNode(r);var o=n(r.tag);Object.keys(r.attributes||[]).forEach(function(a){o.setAttribute(a,r.attributes[a])});var i=r.children||[];return i.forEach(function(a){o.appendChild(Dp(a,{ceFn:n}))}),o}function jT(r){var t=" ".concat(r.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var Ni={replace:function(t){var e=t[0];if(e.parentNode)if(t[1].forEach(function(o){e.parentNode.insertBefore(Dp(o),e)}),e.getAttribute(gr)===null&&q.keepOriginalSource){var n=Ce.createComment(jT(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){var e=t[0],n=t[1];if(~ml(e).indexOf(q.replacementClass))return Ni.replace(t);var o=new RegExp("".concat(q.familyPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce(function(s,f){return f===q.replacementClass||f.match(o)?s.toSvg.push(f):s.toNode.push(f),s},{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",i.toNode.join(" "))}var a=n.map(function(s){return ii(s)}).join(`
`);e.setAttribute(gr,""),e.innerHTML=a}};function gu(r){r()}function Gp(r,t){var e=typeof t=="function"?t:Fi;if(r.length===0)e();else{var n=gu;q.mutateApproach===UE&&(n=Dn.requestAnimationFrame||gu),n(function(){var o=NT(),i=El.begin("mutate");r.map(o),i(),e()})}}var Tl=!1;function jp(){Tl=!0}function df(){Tl=!1}var aa=null;function vu(r){if(!!au&&!!q.observeMutations){var t=r.treeCallback,e=t===void 0?Fi:t,n=r.nodeCallback,o=n===void 0?Fi:n,i=r.pseudoElementsCallback,a=i===void 0?Fi:i,s=r.observeMutationsRoot,f=s===void 0?Ce:s;aa=new au(function(l){if(!Tl){var c=Gn();eo(l).forEach(function(u){if(u.type==="childList"&&u.addedNodes.length>0&&!pu(u.addedNodes[0])&&(q.searchPseudoElements&&a(u.target),e(u.target)),u.type==="attributes"&&u.target.parentNode&&q.searchPseudoElements&&a(u.target.parentNode),u.type==="attributes"&&pu(u.target)&&~VE.indexOf(u.attributeName))if(u.attributeName==="class"&&MT(u.target)){var h=Da(ml(u.target)),d=h.prefix,p=h.iconName;u.target.setAttribute(pl,d||c),p&&u.target.setAttribute(gl,p)}else FT(u.target)&&o(u.target)})}}),pn&&aa.observe(f,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function zT(){!aa||aa.disconnect()}function YT(r){var t=r.getAttribute("style"),e=[];return t&&(e=t.split(";").reduce(function(n,o){var i=o.split(":"),a=i[0],s=i.slice(1);return a&&s.length>0&&(n[a]=s.join(":").trim()),n},{})),e}function UT(r){var t=r.getAttribute("data-prefix"),e=r.getAttribute("data-icon"),n=r.innerText!==void 0?r.innerText.trim():"",o=Da(ml(r));return o.prefix||(o.prefix=Gn()),t&&e&&(o.prefix=t,o.iconName=e),o.iconName&&o.prefix||o.prefix&&n.length>0&&(o.iconName=_T(o.prefix,r.innerText)||yl(o.prefix,af(r.innerText))),o}function XT(r){var t=eo(r.attributes).reduce(function(o,i){return o.name!=="class"&&o.name!=="style"&&(o[i.name]=i.value),o},{}),e=r.getAttribute("title"),n=r.getAttribute("data-fa-title-id");return q.autoA11y&&(e?t["aria-labelledby"]="".concat(q.replacementClass,"-title-").concat(n||Ho()):(t["aria-hidden"]="true",t.focusable="false")),t}function BT(){return{iconName:null,title:null,titleId:null,prefix:null,transform:zt,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function mu(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},e=UT(r),n=e.iconName,o=e.prefix,i=e.rest,a=XT(r),s=ff("parseNodeAttributes",{},r),f=t.styleParser?YT(r):[];return Y({iconName:n,title:r.getAttribute("title"),titleId:r.getAttribute("data-fa-title-id"),prefix:o,transform:zt,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:f,attributes:a}},s)}var WT=Rt.styles;function zp(r){var t=q.autoReplaceSvg==="nest"?mu(r,{styleParser:!1}):mu(r);return~t.extra.classes.indexOf(xp)?hn("generateLayersText",r,t):hn("generateSvgReplacementMutation",r,t)}function bu(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!pn)return Promise.resolve();var e=Ce.documentElement.classList,n=function(u){return e.add("".concat(su,"-").concat(u))},o=function(u){return e.remove("".concat(su,"-").concat(u))},i=q.autoFetchSvg?Object.keys(vl):Object.keys(WT),a=[".".concat(xp,":not([").concat(gr,"])")].concat(i.map(function(c){return".".concat(c,":not([").concat(gr,"])")})).join(", ");if(a.length===0)return Promise.resolve();var s=[];try{s=eo(r.querySelectorAll(a))}catch{}if(s.length>0)n("pending"),o("complete");else return Promise.resolve();var f=El.begin("onTree"),l=s.reduce(function(c,u){try{var h=zp(u);h&&c.push(h)}catch(d){yp||d.name==="MissingIcon"&&console.error(d)}return c},[]);return new Promise(function(c,u){Promise.all(l).then(function(h){Gp(h,function(){n("active"),n("complete"),o("pending"),typeof t=="function"&&t(),f(),c()})}).catch(function(h){f(),u(h)})})}function $T(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;zp(r).then(function(e){e&&Gp([e],t)})}function KT(r){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=(t||{}).icon?t:lf(t||{}),o=e.mask;return o&&(o=(o||{}).icon?o:lf(o||{})),r(n,Y(Y({},e),{},{mask:o}))}}var HT=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.transform,o=n===void 0?zt:n,i=e.symbol,a=i===void 0?!1:i,s=e.mask,f=s===void 0?null:s,l=e.maskId,c=l===void 0?null:l,u=e.title,h=u===void 0?null:u,d=e.titleId,p=d===void 0?null:d,g=e.classes,m=g===void 0?[]:g,v=e.attributes,_=v===void 0?{}:v,y=e.styles,x=y===void 0?{}:y;if(!!t){var E=t.prefix,P=t.iconName,C=t.icon;return Ga(Y({type:"icon"},t),function(){return vr("beforeDOMElementCreation",{iconDefinition:t,params:e}),q.autoA11y&&(h?_["aria-labelledby"]="".concat(q.replacementClass,"-title-").concat(p||Ho()):(_["aria-hidden"]="true",_.focusable="false")),xl({icons:{main:cf(C),mask:f?cf(f.icon):{found:!1,width:null,height:null,icon:{}}},prefix:E,iconName:P,transform:Y(Y({},zt),o),symbol:a,title:h,maskId:c,titleId:p,extra:{attributes:_,styles:x,classes:m}})})}},VT={mixout:function(){return{icon:KT(HT)}},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=bu,e.nodeCallback=$T,e}}},provides:function(t){t.i2svg=function(e){var n=e.node,o=n===void 0?Ce:n,i=e.callback,a=i===void 0?function(){}:i;return bu(o,a)},t.generateSvgReplacementMutation=function(e,n){var o=n.iconName,i=n.title,a=n.titleId,s=n.prefix,f=n.transform,l=n.symbol,c=n.mask,u=n.maskId,h=n.extra;return new Promise(function(d,p){Promise.all([uf(o,s),c.iconName?uf(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var m=hl(g,2),v=m[0],_=m[1];d([e,xl({icons:{main:v,mask:_},prefix:s,iconName:o,transform:f,symbol:l,maskId:u,title:i,titleId:a,extra:h,watchable:!0})])}).catch(p)})},t.generateAbstractIcon=function(e){var n=e.children,o=e.attributes,i=e.main,a=e.transform,s=e.styles,f=Fa(s);f.length>0&&(o.style=f);var l;return bl(a)&&(l=hn("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),n.push(l||i.icon),{children:n,attributes:o}}}},qT={mixout:function(){return{layer:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=n.classes,i=o===void 0?[]:o;return Ga({type:"layer"},function(){vr("beforeDOMElementCreation",{assembler:e,params:n});var a=[];return e(function(s){Array.isArray(s)?s.map(function(f){a=a.concat(f.abstract)}):a=a.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(q.familyPrefix,"-layers")].concat(Ma(i)).join(" ")},children:a}]})}}}},ZT={mixout:function(){return{counter:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=n.title,i=o===void 0?null:o,a=n.classes,s=a===void 0?[]:a,f=n.attributes,l=f===void 0?{}:f,c=n.styles,u=c===void 0?{}:c;return Ga({type:"counter",content:e},function(){return vr("beforeDOMElementCreation",{content:e,params:n}),PT({content:e.toString(),title:i,extra:{attributes:l,styles:u,classes:["".concat(q.familyPrefix,"-layers-counter")].concat(Ma(s))}})})}}}},JT={mixout:function(){return{text:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=n.transform,i=o===void 0?zt:o,a=n.title,s=a===void 0?null:a,f=n.classes,l=f===void 0?[]:f,c=n.attributes,u=c===void 0?{}:c,h=n.styles,d=h===void 0?{}:h;return Ga({type:"text",content:e},function(){return vr("beforeDOMElementCreation",{content:e,params:n}),hu({content:e,transform:Y(Y({},zt),i),title:s,extra:{attributes:u,styles:d,classes:["".concat(q.familyPrefix,"-layers-text")].concat(Ma(l))}})})}}},provides:function(t){t.generateLayersText=function(e,n){var o=n.title,i=n.transform,a=n.extra,s=null,f=null;if(mp){var l=parseInt(getComputedStyle(e).fontSize,10),c=e.getBoundingClientRect();s=c.width/l,f=c.height/l}return q.autoA11y&&!o&&(a.attributes["aria-hidden"]="true"),Promise.resolve([e,hu({content:e.innerHTML,width:s,height:f,transform:i,title:o,extra:a,watchable:!0})])}}},QT=new RegExp('"',"ug"),_u=[1105920,1112319];function eC(r){var t=r.replace(QT,""),e=dT(t,0),n=e>=_u[0]&&e<=_u[1],o=t.length===2?t[0]===t[1]:!1;return{value:af(o?t[0]:t),isSecondary:n||o}}function yu(r,t){var e="".concat(YE).concat(t.replace(":","-"));return new Promise(function(n,o){if(r.getAttribute(e)!==null)return n();var i=eo(r.children),a=i.filter(function(P){return P.getAttribute(of)===t})[0],s=Dn.getComputedStyle(r,t),f=s.getPropertyValue("font-family").match($E),l=s.getPropertyValue("font-weight"),c=s.getPropertyValue("content");if(a&&!f)return r.removeChild(a),n();if(f&&c!=="none"&&c!==""){var u=s.getPropertyValue("content"),h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(f[2])?oa[f[2].toLowerCase()]:KE[l],d=eC(u),p=d.value,g=d.isSecondary,m=f[0].startsWith("FontAwesome"),v=yl(h,p),_=v;if(m){var y=yT(p);y.iconName&&y.prefix&&(v=y.iconName,h=y.prefix)}if(v&&!g&&(!a||a.getAttribute(pl)!==h||a.getAttribute(gl)!==_)){r.setAttribute(e,_),a&&r.removeChild(a);var x=BT(),E=x.extra;E.attributes[of]=t,uf(v,h).then(function(P){var C=xl(Y(Y({},x),{},{icons:{main:P,mask:wl()},prefix:h,iconName:_,extra:E,watchable:!0})),O=Ce.createElement("svg");t==="::before"?r.insertBefore(O,r.firstChild):r.appendChild(O),O.outerHTML=C.map(function(M){return ii(M)}).join(`
`),r.removeAttribute(e),n()}).catch(o)}else n()}else n()})}function tC(r){return Promise.all([yu(r,"::before"),yu(r,"::after")])}function nC(r){return r.parentNode!==document.head&&!~XE.indexOf(r.tagName.toUpperCase())&&!r.getAttribute(of)&&(!r.parentNode||r.parentNode.tagName!=="svg")}function wu(r){if(!!pn)return new Promise(function(t,e){var n=eo(r.querySelectorAll("*")).filter(nC).map(tC),o=El.begin("searchPseudoElements");jp(),Promise.all(n).then(function(){o(),df(),t()}).catch(function(){o(),df(),e()})})}var rC={hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=wu,e}}},provides:function(t){t.pseudoElements2svg=function(e){var n=e.node,o=n===void 0?Ce:n;q.searchPseudoElements&&wu(o)}}},xu=!1,oC={mixout:function(){return{dom:{unwatch:function(){jp(),xu=!0}}}},hooks:function(){return{bootstrap:function(){vu(ff("mutationObserverCallbacks",{}))},noAuto:function(){zT()},watch:function(e){var n=e.observeMutationsRoot;xu?df():vu(ff("mutationObserverCallbacks",{observeMutationsRoot:n}))}}}},Eu=function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce(function(n,o){var i=o.toLowerCase().split("-"),a=i[0],s=i.slice(1).join("-");if(a&&s==="h")return n.flipX=!0,n;if(a&&s==="v")return n.flipY=!0,n;if(s=parseFloat(s),isNaN(s))return n;switch(a){case"grow":n.size=n.size+s;break;case"shrink":n.size=n.size-s;break;case"left":n.x=n.x-s;break;case"right":n.x=n.x+s;break;case"up":n.y=n.y-s;break;case"down":n.y=n.y+s;break;case"rotate":n.rotate=n.rotate+s;break}return n},e)},iC={mixout:function(){return{parse:{transform:function(e){return Eu(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,n){var o=n.getAttribute("data-fa-transform");return o&&(e.transform=Eu(o)),e}}},provides:function(t){t.generateAbstractTransformGrouping=function(e){var n=e.main,o=e.transform,i=e.containerWidth,a=e.iconWidth,s={transform:"translate(".concat(i/2," 256)")},f="translate(".concat(o.x*32,", ").concat(o.y*32,") "),l="scale(".concat(o.size/16*(o.flipX?-1:1),", ").concat(o.size/16*(o.flipY?-1:1),") "),c="rotate(".concat(o.rotate," 0 0)"),u={transform:"".concat(f," ").concat(l," ").concat(c)},h={transform:"translate(".concat(a/2*-1," -256)")},d={outer:s,inner:u,path:h};return{tag:"g",attributes:Y({},d.outer),children:[{tag:"g",attributes:Y({},d.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:Y(Y({},n.icon.attributes),d.path)}]}]}}}},ps={x:0,y:0,width:"100%",height:"100%"};function Tu(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r.attributes&&(r.attributes.fill||t)&&(r.attributes.fill="black"),r}function aC(r){return r.tag==="g"?r.children:[r]}var sC={hooks:function(){return{parseNodeAttributes:function(e,n){var o=n.getAttribute("data-fa-mask"),i=o?Da(o.split(" ").map(function(a){return a.trim()})):wl();return i.prefix||(i.prefix=Gn()),e.mask=i,e.maskId=n.getAttribute("data-fa-mask-id"),e}}},provides:function(t){t.generateAbstractMask=function(e){var n=e.children,o=e.attributes,i=e.main,a=e.mask,s=e.maskId,f=e.transform,l=i.width,c=i.icon,u=a.width,h=a.icon,d=iT({transform:f,containerWidth:u,iconWidth:l}),p={tag:"rect",attributes:Y(Y({},ps),{},{fill:"white"})},g=c.children?{children:c.children.map(Tu)}:{},m={tag:"g",attributes:Y({},d.inner),children:[Tu(Y({tag:c.tag,attributes:Y(Y({},c.attributes),d.path)},g))]},v={tag:"g",attributes:Y({},d.outer),children:[m]},_="mask-".concat(s||Ho()),y="clip-".concat(s||Ho()),x={tag:"mask",attributes:Y(Y({},ps),{},{id:_,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,v]},E={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:aC(h)},x]};return n.push(E,{tag:"rect",attributes:Y({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(_,")")},ps)}),{children:n,attributes:o}}}},fC={provides:function(t){var e=!1;Dn.matchMedia&&(e=Dn.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var n=[],o={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:Y(Y({},o),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var a=Y(Y({},i),{},{attributeName:"opacity"}),s={tag:"circle",attributes:Y(Y({},o),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||s.children.push({tag:"animate",attributes:Y(Y({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Y(Y({},a),{},{values:"1;0;1;1;0;1;"})}),n.push(s),n.push({tag:"path",attributes:Y(Y({},o),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:Y(Y({},a),{},{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:Y(Y({},o),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Y(Y({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},lC={hooks:function(){return{parseNodeAttributes:function(e,n){var o=n.getAttribute("data-fa-symbol"),i=o===null?!1:o===""?!0:o;return e.symbol=i,e}}}},cC=[fT,VT,qT,ZT,JT,rC,oC,iC,sC,fC,lC];ET(cC,{mixoutsTo:gt});gt.noAuto;var Yp=gt.config,uC=gt.library;gt.dom;var sa=gt.parse;gt.findIconDefinition;gt.toHtml;var hC=gt.icon;gt.layer;var dC=gt.text;gt.counter;function Cu(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),e.push.apply(e,n)}return e}function Ot(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Cu(Object(e),!0).forEach(function(n){rt(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Cu(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function fa(r){return fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fa(r)}function rt(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function pC(r,t){if(r==null)return{};var e={},n=Object.keys(r),o,i;for(i=0;i<n.length;i++)o=n[i],!(t.indexOf(o)>=0)&&(e[o]=r[o]);return e}function gC(r,t){if(r==null)return{};var e=pC(r,t),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(o=0;o<i.length;o++)n=i[o],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,n)||(e[n]=r[n]))}return e}function pf(r){return vC(r)||mC(r)||bC(r)||_C()}function vC(r){if(Array.isArray(r))return gf(r)}function mC(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function bC(r,t){if(!!r){if(typeof r=="string")return gf(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return gf(r,t)}}function gf(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function _C(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var yC=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Up={exports:{}};(function(r){(function(t){var e=function(v,_,y){if(!l(_)||u(_)||h(_)||d(_)||f(_))return _;var x,E=0,P=0;if(c(_))for(x=[],P=_.length;E<P;E++)x.push(e(v,_[E],y));else{x={};for(var C in _)Object.prototype.hasOwnProperty.call(_,C)&&(x[v(C,y)]=e(v,_[C],y))}return x},n=function(v,_){_=_||{};var y=_.separator||"_",x=_.split||/(?=[A-Z])/;return v.split(x).join(y)},o=function(v){return p(v)?v:(v=v.replace(/[\-_\s]+(.)?/g,function(_,y){return y?y.toUpperCase():""}),v.substr(0,1).toLowerCase()+v.substr(1))},i=function(v){var _=o(v);return _.substr(0,1).toUpperCase()+_.substr(1)},a=function(v,_){return n(v,_).toLowerCase()},s=Object.prototype.toString,f=function(v){return typeof v=="function"},l=function(v){return v===Object(v)},c=function(v){return s.call(v)=="[object Array]"},u=function(v){return s.call(v)=="[object Date]"},h=function(v){return s.call(v)=="[object RegExp]"},d=function(v){return s.call(v)=="[object Boolean]"},p=function(v){return v=v-0,v===v},g=function(v,_){var y=_&&"process"in _?_.process:_;return typeof y!="function"?v:function(x,E){return y(x,v,E)}},m={camelize:o,decamelize:a,pascalize:i,depascalize:a,camelizeKeys:function(v,_){return e(g(o,_),v)},decamelizeKeys:function(v,_){return e(g(a,_),v,_)},pascalizeKeys:function(v,_){return e(g(i,_),v)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};r.exports?r.exports=m:t.humps=m})(yC)})(Up);var wC=Up.exports,xC=["class","style"];function EC(r){return r.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n=e.indexOf(":"),o=wC.camelize(e.slice(0,n)),i=e.slice(n+1).trim();return t[o]=i,t},{})}function TC(r){return r.split(/\s+/).reduce(function(t,e){return t[e]=!0,t},{})}function Cl(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof r=="string")return r;var n=(r.children||[]).map(function(f){return Cl(f)}),o=Object.keys(r.attributes||{}).reduce(function(f,l){var c=r.attributes[l];switch(l){case"class":f.class=TC(c);break;case"style":f.style=EC(c);break;default:f.attrs[l]=c}return f},{attrs:{},class:{},style:{}});e.class;var i=e.style,a=i===void 0?{}:i,s=gC(e,xC);return kh(r.tag,Ot(Ot(Ot({},t),{},{class:o.class,style:Ot(Ot({},o.style),a)},o.attrs),s),n)}var Xp=!1;try{Xp=!0}catch{}function CC(){if(!Xp&&console&&typeof console.error=="function"){var r;(r=console).error.apply(r,arguments)}}function So(r,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?rt({},r,t):{}}function OC(r){var t,e=(t={"fa-spin":r.spin,"fa-pulse":r.pulse,"fa-fw":r.fixedWidth,"fa-border":r.border,"fa-li":r.listItem,"fa-inverse":r.inverse,"fa-flip":r.flip===!0,"fa-flip-horizontal":r.flip==="horizontal"||r.flip==="both","fa-flip-vertical":r.flip==="vertical"||r.flip==="both"},rt(t,"fa-".concat(r.size),r.size!==null),rt(t,"fa-rotate-".concat(r.rotation),r.rotation!==null),rt(t,"fa-pull-".concat(r.pull),r.pull!==null),rt(t,"fa-swap-opacity",r.swapOpacity),rt(t,"fa-bounce",r.bounce),rt(t,"fa-shake",r.shake),rt(t,"fa-beat",r.beat),rt(t,"fa-fade",r.fade),rt(t,"fa-beat-fade",r.beatFade),rt(t,"fa-flash",r.flash),rt(t,"fa-spin-pulse",r.spinPulse),rt(t,"fa-spin-reverse",r.spinReverse),t);return Object.keys(e).map(function(n){return e[n]?n:null}).filter(function(n){return n})}function Ou(r){if(r&&fa(r)==="object"&&r.prefix&&r.iconName&&r.icon)return r;if(sa.icon)return sa.icon(r);if(r===null)return null;if(fa(r)==="object"&&r.prefix&&r.iconName)return r;if(Array.isArray(r)&&r.length===2)return{prefix:r[0],iconName:r[1]};if(typeof r=="string")return{prefix:"fas",iconName:r}}var IC=Vo({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(t){return[!0,!1,"horizontal","vertical","both"].indexOf(t)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(t){return["right","left"].indexOf(t)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(t){return[90,180,270].indexOf(Number.parseInt(t,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(t){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(t)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(t,e){var n=e.attrs,o=ct(function(){return Ou(t.icon)}),i=ct(function(){return So("classes",OC(t))}),a=ct(function(){return So("transform",typeof t.transform=="string"?sa.transform(t.transform):t.transform)}),s=ct(function(){return So("mask",Ou(t.mask))}),f=ct(function(){return hC(o.value,Ot(Ot(Ot(Ot({},i.value),a.value),s.value),{},{symbol:t.symbol,title:t.title}))});wo(f,function(c){if(!c)return CC("Could not find one or more icon(s)",o.value,s.value)},{immediate:!0});var l=ct(function(){return f.value?Cl(f.value.abstract[0],{},n):null});return function(){return l.value}}});Vo({name:"FontAwesomeLayers",props:{fixedWidth:{type:Boolean,default:!1}},setup:function(t,e){var n=e.slots,o=Yp.familyPrefix,i=ct(function(){return["".concat(o,"-layers")].concat(pf(t.fixedWidth?["".concat(o,"-fw")]:[]))});return function(){return kh("div",{class:i.value},n.default?n.default():[])}}});Vo({name:"FontAwesomeLayersText",props:{value:{type:[String,Number],default:""},transform:{type:[String,Object],default:null},counter:{type:Boolean,default:!1},position:{type:String,default:null,validator:function(t){return["bottom-left","bottom-right","top-left","top-right"].indexOf(t)>-1}}},setup:function(t,e){var n=e.attrs,o=Yp.familyPrefix,i=ct(function(){return So("classes",[].concat(pf(t.counter?["".concat(o,"-layers-counter")]:[]),pf(t.position?["".concat(o,"-layers-").concat(t.position)]:[])))}),a=ct(function(){return So("transform",typeof t.transform=="string"?sa.transform(t.transform):t.transform)}),s=ct(function(){var l=dC(t.value.toString(),Ot(Ot({},a.value),i.value)),c=l.abstract;return t.counter&&(c[0].attributes.class=c[0].attributes.class.replace("fa-layers-text","")),c[0]}),f=ct(function(){return Cl(s.value,{},n)});return function(){return f.value}}});/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */var RC={prefix:"fas",iconName:"draw-polygon",icon:[448,512,[],"f5ee","M384.3 352C419.5 352.2 448 380.7 448 416C448 451.3 419.3 480 384 480C360.3 480 339.6 467.1 328.6 448H119.4C108.4 467.1 87.69 480 64 480C28.65 480 0 451.3 0 416C0 392.3 12.87 371.6 32 360.6V151.4C12.87 140.4 0 119.7 0 96C0 60.65 28.65 32 64 32C87.69 32 108.4 44.87 119.4 64H328.6C339.6 44.87 360.3 32 384 32C419.3 32 448 60.65 448 96C448 131.3 419.5 159.8 384.3 159.1L345.5 227.9C349.7 236.4 352 245.9 352 256C352 266.1 349.7 275.6 345.5 284.1L384.3 352zM96 360.6C105.7 366.2 113.8 374.3 119.4 384H328.6C328.6 383.9 328.7 383.8 328.7 383.7L292.2 319.9C290.8 319.1 289.4 320 288 320C252.7 320 224 291.3 224 256C224 220.7 252.7 192 288 192C289.4 192 290.8 192 292.2 192.1L328.7 128.3L328.6 128H119.4C113.8 137.7 105.7 145.8 96 151.4L96 360.6z"]};uC.add(RC);const ja=Em(SE);ja.use(Om());ja.component("font-awesome-icon",IC);ja.directive("makeTitle",PE);ja.mount("#app");
